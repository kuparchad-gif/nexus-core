(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{3395:function(e,t,n){Promise.resolve().then(n.bind(n,1544)),Promise.resolve().then(n.t.bind(n,4195,23)),Promise.resolve().then(n.bind(n,3015)),Promise.resolve().then(n.bind(n,2089)),Promise.resolve().then(n.bind(n,9708))},1544:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l},useSupabase:function(){return u}});var r=n(3955),s=n(3266),i=n(6008),a=n(2310);let o=(0,a.createContext)(void 0);function l(e){let{children:t}=e,[n]=(0,a.useState)(()=>(0,s.createPagesBrowserClient)()),l=(0,i.useRouter)();return(0,a.useEffect)(()=>{let{data:{subscription:e}}=n.auth.onAuthStateChange(e=>{"SIGNED_IN"===e&&l.refresh()});return()=>{e.unsubscribe()}},[l,n]),(0,r.jsx)(o.Provider,{value:{supabase:n},children:(0,r.jsx)(r.Fragment,{children:t})})}let u=()=>{let e=(0,a.useContext)(o);if(void 0===e)throw Error("useSupabase must be used inside SupabaseProvider");return e}},5361:function(e,t,n){"use strict";n.d(t,{M:function(){return r}});let r=90},5791:function(e,t,n){"use strict";var r=n(6008),s=n(2310);t.Z=function(){let[e,t]=(0,s.useState)("wait"),n=(0,r.usePathname)();return(0,s.useEffect)(()=>{let e=function(){let{host:e}=window.location,t=["catchy.page","localhost:3000","pyxl.ai","www.pyxl.ai","www.catchy.page"].includes(e),r=["/","/dashboard","/account","/payment","/guides","/policy","/404"].includes(n);return t&&r}();t(e)},[n]),e}},5967:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var r=n(2310),s=n(1544),i=n(8778),a=n(1725);let o=()=>{let[e,t]=(0,r.useState)(null),n=(0,s.useSupabase)();return(0,r.useEffect)(()=>{n.supabase.auth.getSession().then(e=>{var n;let{data:r}=e;(null===(n=r.session)||void 0===n?void 0:n.user)?t(r.session.user):t(null)}),n.supabase.auth.onAuthStateChange(async(e,n)=>{var r;t(null!==(r=null==n?void 0:n.user)&&void 0!==r?r:null)})},[n.supabase.auth]),(0,r.useEffect)(()=>{let t=async()=>{let t=(0,i.ej)("utm_source");if(t){if("used"===t)return;if(e){let r=await (0,a.Am)(n.supabase,e.id,t);r&&(console.log("utm remove"),(0,i.d8)("utm_source","used",720))}}};t()},[n.supabase,e]),e}},2089:function(e,t,n){"use strict";n.r(t);var r=n(3955),s=n(5791),i=n(5361);let a=e=>{let{children:t}=e,n=(0,s.Z)();return(0,r.jsx)("main",{className:"min-h-screen",style:n?{fontFamily:"SourceSansPro-Regular",paddingTop:i.M}:{},children:t})};t.default=a},7082:function(e,t,n){"use strict";var r=n(3955),s=n(6008),i=n(1544);let a=e=>{let{className:t="shiny-button hover:from-orange-600 hover:to-red-600 font-black text-sm text-white bg-gradient-to-r from-orange-500 to-red-500 py-2 px-4 rounded-sm"}=e,n=(0,i.useSupabase)(),a=(0,s.usePathname)(),o=async()=>{let{error:e}=await n.supabase.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin).concat(a)}});e?console.error("Auth error",e):console.log("Successful login")};return(0,r.jsx)("button",{onClick:()=>void o(),className:t,children:"Sign in with Google"})};t.Z=a},9708:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(3955),s=n(5846),i=n.n(s),a=n(7082),o=n(5967),l=n(5361);let u=e=>{let{headerLinks:t}=e,n=(0,o.a)();return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex gap-[15px] items-center",children:[n&&(0,r.jsx)(r.Fragment,{children:n.user_metadata.avatar_url?(0,r.jsx)(i(),{href:"/account",children:(0,r.jsx)("img",{src:n.user_metadata.avatar_url,alt:"Profile",width:39,height:39,className:"rounded-full"})}):(0,r.jsx)("div",{className:"bg-[#B53613] w-[39px] h-[39px] rounded-full flex items-center justify-center cursor-pointer",children:n.email?n.email.charAt(0).toUpperCase():""})}),!n&&(0,r.jsx)(a.Z,{})]}),(0,r.jsx)("div",{id:"navbar-collapse-with-animation",className:"hs-collapse hidden overflow-hidden transition-all duration-300 bg-[#0F172A] absolute sm:hidden w-full left-0",style:{top:l.M},children:(0,r.jsxs)("div",{className:"flex flex-col gap-y-4 p-4",children:[(0,r.jsx)("p",{className:"font-medium hover:text-[grey]",children:(0,r.jsx)(i(),{href:"/",children:"Home"})}),t.map(e=>{if(n||"Account"!==e.name&&"Payment"!==e.name)return(0,r.jsx)("p",{className:"font-medium hover:text-[grey]",children:(0,r.jsx)(i(),{href:e.href,children:e.name})},e.href)})]})})]})},c=()=>{let e=()=>{let e=document.getElementById("navbar-collapse-with-animation");e&&e.classList.toggle("hidden")};return(0,r.jsx)("div",{className:"sm:hidden",children:(0,r.jsxs)("button",{type:"button",onClick:e,className:"hs-collapse-toggle size-9 flex justify-center items-center gap-x-2 text-sm font-semibold rounded-lg border disabled:opacity-50 disabled:pointer-events-none dark:focus:outline-none dark:focus:ring-1 border-orange-600 text-orange-600","data-hs-collapse":"#navbar-collapse-with-animation","aria-controls":"navbar-collapse-with-animation","aria-label":"Toggle navigation",children:[(0,r.jsxs)("svg",{className:"hs-collapse-open:hidden flex-shrink-0 size-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("line",{x1:"3",x2:"21",y1:"6",y2:"6"}),(0,r.jsx)("line",{x1:"3",x2:"21",y1:"12",y2:"12"}),(0,r.jsx)("line",{x1:"3",x2:"21",y1:"18",y2:"18"})]}),(0,r.jsxs)("svg",{className:"hs-collapse-open:block hidden flex-shrink-0 size-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M18 6 6 18"}),(0,r.jsx)("path",{d:"m6 6 12 12"})]})]})})},d=e=>{let{headerLinks:t}=e,n=(0,o.a)();return(0,r.jsx)("ul",{className:"flex-col sm:flex-row gap-[10px] sm:gap-[30px] items-center hidden sm:flex",children:t.map(e=>{if(n||"Account"!==e.name&&"Payment"!==e.name)return(0,r.jsx)("p",{className:"font-semibold text-[#ADB3BF] text-md hover:text-orange-500 hover:underline underline-offset-8 transition duration-500",children:(0,r.jsx)(i(),{href:e.href,children:e.name})},e.href)})})};var f=n(5791);let h=[{name:"Dashboard",href:"/dashboard"},{name:"Guides",href:"/guides"},{name:"Account",href:"/account"},{name:"Payment",href:"/payment"}],m=()=>{let e=(0,f.Z)();return(0,r.jsx)(r.Fragment,{children:!!e&&(0,r.jsx)("div",{style:{fontFamily:"SourceSansPro-Regular",height:l.M},className:"fixed text-white w-full bg-[#1E1F25] z-[100] top-0 left-0",children:(0,r.jsxs)("div",{className:"relative h-full px-[20px] flex flex-row justify-between items-center m-auto max-w-screen-2xl",children:[(0,r.jsxs)("a",{href:"/",className:"hidden sm:block text-2xl font-bold tracking-[0.12rem]",children:["Pyxl.",(0,r.jsx)("span",{className:"bg-gradient-to-r bg-clip-text text-transparent from-orange-500 to-red-600",children:"ai"})]}),"wait"!==e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c,{}),(0,r.jsx)(d,{headerLinks:h}),(0,r.jsx)(u,{headerLinks:h})]})]})})})};var x=m},3015:function(e,t,n){"use strict";n.r(t),n.d(t,{ContextProvider:function(){return a},useGlobalContext:function(){return o}});var r=n(3955),s=n(2310);let i=(0,s.createContext)({currentWebsite:null,currentWebsiteOwner:null,currentWebsiteId:null,currentSubscription:null,setCurrentWebsite:()=>null,setCurrentWebsiteOwner:()=>null,setCurrentWebsiteId:()=>null,setCurrentSubscription:()=>null});function a(e){let{children:t}=e,[n,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(null),[u,c]=(0,s.useState)(null),[d,f]=(0,s.useState)(null);return(0,r.jsx)(i.Provider,{value:{currentSubscription:d,setCurrentSubscription:f,currentWebsite:n,setCurrentWebsite:a,currentWebsiteOwner:o,setCurrentWebsiteOwner:l,currentWebsiteId:u,setCurrentWebsiteId:c},children:t})}let o=()=>(0,s.useContext)(i)},8778:function(e,t,n){"use strict";function r(e){let t=document.cookie.match(RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function s(e,t,n){let r="";if(n){let e=new Date;e.setTime(e.getTime()+864e5*n),r="; expires="+e.toUTCString()}document.cookie=e+"="+(t||"")+r+"; path=/"}n.d(t,{d8:function(){return s},ej:function(){return r}})},1725:function(e,t,n){"use strict";async function r(e,t,n){let{data:r,error:s}=await e.from("users").update({full_name:n}).eq("id",t).select();if(s)throw s;return r[0]}async function s(e,t,n){let{data:r,error:s}=await e.from("users").update({utm_source:n}).eq("id",t).select();return s?(console.error(s),null):r[0]}n.d(t,{Am:function(){return s},PW:function(){return u},Tq:function(){return h},WY:function(){return r},_C:function(){return d},cu:function(){return f},dc:function(){return a},fY:function(){return o},vs:function(){return c},zG:function(){return l}});let i="websites";async function a(e){try{let t=await fetch("".concat(e,"?t=").concat(String(Date.now())));if(!t.ok)throw Error("Error: ".concat(t.status));let n=await t.text();return n}catch(e){return console.error("Error while fetching file:",e),null}}async function o(e,t){let{data:n,error:r}=await e.from(i).update(t).match({id:t.id}).select();if(r)throw r;return n[0]}async function l(e,t,n,r){let{data:s,error:a}=await e.from(i).update({user_id:n,last_modified:new Date,mail:r}).match({id:t}).select();if(a)throw a;return s[0]}async function u(e,t){let{error:n}=await e.from(i).delete().match({id:t});if(n)throw n}async function c(e,t){let{data:n,error:r}=await e.from(i).select("*").eq("link",t).single();if(r)throw r;return n}async function d(e,t){let{data:n,error:r}=await e.from(i).select("*").eq("subdomain",t).single();if(r)throw r;return n}async function f(e,t){let{data:n,error:r}=await e.from(i).select("*").eq("user_domain",t).single();if(r)throw r;return n}async function h(e,t){let{data:n,error:r}=await e.from(i).select("*").eq("user_id",t);if(r)throw r;return n}},4195:function(){},5846:function(e,t,n){e.exports=n(414)}},function(e){e.O(0,[886,622,414,875,474,560],function(){return e(e.s=3395)}),_N_E=e.O()}]);