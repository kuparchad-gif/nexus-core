<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aethereal A.I. Nexus</title>
  <script src="https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.development.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.development.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7.20.15/babel.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useRef, useEffect } = React;

    function App() {
      const [activePage, setActivePage] = useState('home');
      const [isRecording, setIsRecording] = useState(false);
      const videoRef = useRef(null);

      useEffect(() => {
        if (activePage === 'voice' && videoRef.current) {
          videoRef.current.play();
        } else if (videoRef.current) {
          videoRef.current.pause();
          videoRef.current.currentTime = 0;
        }
      }, [activePage]);

      const toggleRecording = () => setIsRecording(!isRecording);
      const sendMessage = () => console.log('Message sent to Lilith!');
      const navigate = (page) => setActivePage(page);

      const renderContent = () => {
        switch (activePage) {
          case 'home':
            return (
              <div className="home-content">
                <div className="metatron-overlay"></div>
                <h2 className="dashboard-title">Aethereal Nexus</h2>
                <div className="gauge-container">
                  {['Lilith: 94%', 'VIREN: 88%', 'Loki: 92%'].map((label, i) => (
                    <div className="gauge-card glass" key={i}>
                      <div className="gauge-header">
                        <span className="gauge-label">{label.split(': ')[0]}</span>
                        <span className="gauge-value">{label.split(': ')[1]}</span>
                      </div>
                      <div className="gauge-bar">
                        <div className="gauge-fill" style={{ width: label.split(': ')[1] }}></div>
                      </div>
                    </div>
                  ))}
                </div>
                <button className="control-button glass" onClick={() => navigate('chat')}>
                  Enter Chat
                </button>
              </div>
            );
          case 'chat':
            return (
              <div className="chat-content">
                <div className="background-container">
                  <img src="assets/orb.png" alt="Aethereal Orb" className="background-orb" />
                  <div className="chat-area glass" style={{ clipPath: 'circle(50%)' }}>
                    <div className="messages-container" style={{ clipPath: 'circle(50%)' }}>
                      <div className="message ai">
                        <div className="message-content">Hello, Iâ€™m Lilith!</div>
                        <div className="message-time">11:42 PM</div>
                      </div>
                    </div>
                  </div>
                </div>
                <div className="input-area">
                  <div className="input-container glass">
                    <input type="text" placeholder="Type your message..." className="message-input glass" />
                    <button className="control-button glass" onClick={sendMessage}>
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m22 2-7 20-4-9-9-4 20-7Z"/><path d="M15 7l4 4"/></svg>
                    </button>
                  </div>
                </div>
                <div className="side-gauges">
                  <div className="side-gauge left glass">
                    <span>CPU: 75%</span>
                    <div className="gauge-bar"><div className="gauge-fill" style={{ width: '75%' }}></div></div>
                  </div>
                  <div className="side-gauge right glass">
                    <span>Memory: 60%</span>
                    <div className="gauge-bar"><div className="gauge-fill" style={{ width: '60%' }}></div></div>
                  </div>
                </div>
              </div>
            );
          case 'voice':
            return (
              <div className="voice-content">
                <div className="background-container">
                  <video ref={videoRef} src="assets/morph_orb.mp4" className="background-video" loop muted></video>
                  <div className="voice-controls glass">
                    <button className="control-button glass" onClick={() => navigate('home')}>
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/></svg>
                    </button>
                    <button className={`control-button glass mic-button ${isRecording ? 'recording' : ''}`} onClick={toggleRecording}>
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" x2="12" y1="19" y2="22"/></svg>
                    </button>
                    <button className="control-button glass" onClick={() => setIsRecording(false)}>
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 6 6 18"/></svg>
                    </button>
                  </div>
                  {isRecording && (
                    <div className="recording-indicator">
                      <div className="pulse-ring"></div>
                      <span className="recording-text">Listening...</span>
                    </div>
                  )}
                </div>
              </div>
            );
          case 'council':
            return (
              <div className="council-content">
                <div className="holographic-overlay">
                  <h2 className="content-title">Council Chamber</h2>
                  <p className="content-description">Private discussion with council members.</p>
                </div>
              </div>
            );
          default:
            return null;
        }
      };

      return (
        <div className="app-container">
          <div className="sidebar glass">
            <nav className="sidebar-nav">
              {['home', 'chat', 'voice', 'council'].map((page) => (
                <button
                  className={`nav-item glass ${activePage === page ? 'active' : ''}`}
                  onClick={() => navigate(page)}
                  key={page}
                >
                  {page.charAt(0).toUpperCase() + page.slice(1)}
                </button>
              ))}
            </nav>
          </div>
          <div className="main-content">
            {renderContent()}
          </div>
        </div>
      );
    }

    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
</body>
</html>