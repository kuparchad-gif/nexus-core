(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();function Wd(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}function cm(c){if(Object.prototype.hasOwnProperty.call(c,"__esModule"))return c;var r=c.default;if(typeof r=="function"){var i=function o(){return this instanceof o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};i.prototype=r.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(c).forEach(function(o){var u=Object.getOwnPropertyDescriptor(c,o);Object.defineProperty(i,o,u.get?u:{enumerable:!0,get:function(){return c[o]}})}),i}var Oo={exports:{}},is={},Ro={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd;function dm(){if(sd)return fe;sd=1;var c=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),j=Symbol.iterator;function E(k){return k===null||typeof k!="object"?null:(k=j&&k[j]||k["@@iterator"],typeof k=="function"?k:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,U={};function A(k,L,he){this.props=k,this.context=L,this.refs=U,this.updater=he||R}A.prototype.isReactComponent={},A.prototype.setState=function(k,L){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,L,"setState")},A.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function V(){}V.prototype=A.prototype;function Q(k,L,he){this.props=k,this.context=L,this.refs=U,this.updater=he||R}var I=Q.prototype=new V;I.constructor=Q,b(I,A.prototype),I.isPureReactComponent=!0;var W=Array.isArray,Y=Object.prototype.hasOwnProperty,ee={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function se(k,L,he){var me,ye={},xe=null,ke=null;if(L!=null)for(me in L.ref!==void 0&&(ke=L.ref),L.key!==void 0&&(xe=""+L.key),L)Y.call(L,me)&&!O.hasOwnProperty(me)&&(ye[me]=L[me]);var _e=arguments.length-2;if(_e===1)ye.children=he;else if(1<_e){for(var Te=Array(_e),lt=0;lt<_e;lt++)Te[lt]=arguments[lt+2];ye.children=Te}if(k&&k.defaultProps)for(me in _e=k.defaultProps,_e)ye[me]===void 0&&(ye[me]=_e[me]);return{$$typeof:c,type:k,key:xe,ref:ke,props:ye,_owner:ee.current}}function ue(k,L){return{$$typeof:c,type:k.type,key:L,ref:k.ref,props:k.props,_owner:k._owner}}function ge(k){return typeof k=="object"&&k!==null&&k.$$typeof===c}function re(k){var L={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(he){return L[he]})}var T=/\/+/g;function P(k,L){return typeof k=="object"&&k!==null&&k.key!=null?re(""+k.key):L.toString(36)}function Z(k,L,he,me,ye){var xe=typeof k;(xe==="undefined"||xe==="boolean")&&(k=null);var ke=!1;if(k===null)ke=!0;else switch(xe){case"string":case"number":ke=!0;break;case"object":switch(k.$$typeof){case c:case r:ke=!0}}if(ke)return ke=k,ye=ye(ke),k=me===""?"."+P(ke,0):me,W(ye)?(he="",k!=null&&(he=k.replace(T,"$&/")+"/"),Z(ye,L,he,"",function(lt){return lt})):ye!=null&&(ge(ye)&&(ye=ue(ye,he+(!ye.key||ke&&ke.key===ye.key?"":(""+ye.key).replace(T,"$&/")+"/")+k)),L.push(ye)),1;if(ke=0,me=me===""?".":me+":",W(k))for(var _e=0;_e<k.length;_e++){xe=k[_e];var Te=me+P(xe,_e);ke+=Z(xe,L,he,Te,ye)}else if(Te=E(k),typeof Te=="function")for(k=Te.call(k),_e=0;!(xe=k.next()).done;)xe=xe.value,Te=me+P(xe,_e++),ke+=Z(xe,L,he,Te,ye);else if(xe==="object")throw L=String(k),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return ke}function ie(k,L,he){if(k==null)return k;var me=[],ye=0;return Z(k,me,"","",function(xe){return L.call(he,xe,ye++)}),me}function F(k){if(k._status===-1){var L=k._result;L=L(),L.then(function(he){(k._status===0||k._status===-1)&&(k._status=1,k._result=he)},function(he){(k._status===0||k._status===-1)&&(k._status=2,k._result=he)}),k._status===-1&&(k._status=0,k._result=L)}if(k._status===1)return k._result.default;throw k._result}var le={current:null},B={transition:null},J={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:B,ReactCurrentOwner:ee};function q(){throw Error("act(...) is not supported in production builds of React.")}return fe.Children={map:ie,forEach:function(k,L,he){ie(k,function(){L.apply(this,arguments)},he)},count:function(k){var L=0;return ie(k,function(){L++}),L},toArray:function(k){return ie(k,function(L){return L})||[]},only:function(k){if(!ge(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},fe.Component=A,fe.Fragment=i,fe.Profiler=u,fe.PureComponent=Q,fe.StrictMode=o,fe.Suspense=g,fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,fe.act=q,fe.cloneElement=function(k,L,he){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var me=b({},k.props),ye=k.key,xe=k.ref,ke=k._owner;if(L!=null){if(L.ref!==void 0&&(xe=L.ref,ke=ee.current),L.key!==void 0&&(ye=""+L.key),k.type&&k.type.defaultProps)var _e=k.type.defaultProps;for(Te in L)Y.call(L,Te)&&!O.hasOwnProperty(Te)&&(me[Te]=L[Te]===void 0&&_e!==void 0?_e[Te]:L[Te])}var Te=arguments.length-2;if(Te===1)me.children=he;else if(1<Te){_e=Array(Te);for(var lt=0;lt<Te;lt++)_e[lt]=arguments[lt+2];me.children=_e}return{$$typeof:c,type:k.type,key:ye,ref:xe,props:me,_owner:ke}},fe.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:h,_context:k},k.Consumer=k},fe.createElement=se,fe.createFactory=function(k){var L=se.bind(null,k);return L.type=k,L},fe.createRef=function(){return{current:null}},fe.forwardRef=function(k){return{$$typeof:p,render:k}},fe.isValidElement=ge,fe.lazy=function(k){return{$$typeof:x,_payload:{_status:-1,_result:k},_init:F}},fe.memo=function(k,L){return{$$typeof:v,type:k,compare:L===void 0?null:L}},fe.startTransition=function(k){var L=B.transition;B.transition={};try{k()}finally{B.transition=L}},fe.unstable_act=q,fe.useCallback=function(k,L){return le.current.useCallback(k,L)},fe.useContext=function(k){return le.current.useContext(k)},fe.useDebugValue=function(){},fe.useDeferredValue=function(k){return le.current.useDeferredValue(k)},fe.useEffect=function(k,L){return le.current.useEffect(k,L)},fe.useId=function(){return le.current.useId()},fe.useImperativeHandle=function(k,L,he){return le.current.useImperativeHandle(k,L,he)},fe.useInsertionEffect=function(k,L){return le.current.useInsertionEffect(k,L)},fe.useLayoutEffect=function(k,L){return le.current.useLayoutEffect(k,L)},fe.useMemo=function(k,L){return le.current.useMemo(k,L)},fe.useReducer=function(k,L,he){return le.current.useReducer(k,L,he)},fe.useRef=function(k){return le.current.useRef(k)},fe.useState=function(k){return le.current.useState(k)},fe.useSyncExternalStore=function(k,L,he){return le.current.useSyncExternalStore(k,L,he)},fe.useTransition=function(){return le.current.useTransition()},fe.version="18.3.1",fe}var id;function ra(){return id||(id=1,Ro.exports=dm()),Ro.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ld;function hm(){if(ld)return is;ld=1;var c=ra(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,v){var x,j={},E=null,R=null;v!==void 0&&(E=""+v),g.key!==void 0&&(E=""+g.key),g.ref!==void 0&&(R=g.ref);for(x in g)o.call(g,x)&&!h.hasOwnProperty(x)&&(j[x]=g[x]);if(p&&p.defaultProps)for(x in g=p.defaultProps,g)j[x]===void 0&&(j[x]=g[x]);return{$$typeof:r,type:p,key:E,ref:R,props:j,_owner:u.current}}return is.Fragment=i,is.jsx=f,is.jsxs=f,is}var od;function fm(){return od||(od=1,Oo.exports=hm()),Oo.exports}var l=fm(),K=ra();const mm=Wd(K);var Ei={},Ao={exports:{}},it={},Io={exports:{}},Lo={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ad;function pm(){return ad||(ad=1,function(c){function r(B,J){var q=B.length;B.push(J);e:for(;0<q;){var k=q-1>>>1,L=B[k];if(0<u(L,J))B[k]=J,B[q]=L,q=k;else break e}}function i(B){return B.length===0?null:B[0]}function o(B){if(B.length===0)return null;var J=B[0],q=B.pop();if(q!==J){B[0]=q;e:for(var k=0,L=B.length,he=L>>>1;k<he;){var me=2*(k+1)-1,ye=B[me],xe=me+1,ke=B[xe];if(0>u(ye,q))xe<L&&0>u(ke,ye)?(B[k]=ke,B[xe]=q,k=xe):(B[k]=ye,B[me]=q,k=me);else if(xe<L&&0>u(ke,q))B[k]=ke,B[xe]=q,k=xe;else break e}}return J}function u(B,J){var q=B.sortIndex-J.sortIndex;return q!==0?q:B.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;c.unstable_now=function(){return h.now()}}else{var f=Date,p=f.now();c.unstable_now=function(){return f.now()-p}}var g=[],v=[],x=1,j=null,E=3,R=!1,b=!1,U=!1,A=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(B){for(var J=i(v);J!==null;){if(J.callback===null)o(v);else if(J.startTime<=B)o(v),J.sortIndex=J.expirationTime,r(g,J);else break;J=i(v)}}function W(B){if(U=!1,I(B),!b)if(i(g)!==null)b=!0,F(Y);else{var J=i(v);J!==null&&le(W,J.startTime-B)}}function Y(B,J){b=!1,U&&(U=!1,V(se),se=-1),R=!0;var q=E;try{for(I(J),j=i(g);j!==null&&(!(j.expirationTime>J)||B&&!re());){var k=j.callback;if(typeof k=="function"){j.callback=null,E=j.priorityLevel;var L=k(j.expirationTime<=J);J=c.unstable_now(),typeof L=="function"?j.callback=L:j===i(g)&&o(g),I(J)}else o(g);j=i(g)}if(j!==null)var he=!0;else{var me=i(v);me!==null&&le(W,me.startTime-J),he=!1}return he}finally{j=null,E=q,R=!1}}var ee=!1,O=null,se=-1,ue=5,ge=-1;function re(){return!(c.unstable_now()-ge<ue)}function T(){if(O!==null){var B=c.unstable_now();ge=B;var J=!0;try{J=O(!0,B)}finally{J?P():(ee=!1,O=null)}}else ee=!1}var P;if(typeof Q=="function")P=function(){Q(T)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ie=Z.port2;Z.port1.onmessage=T,P=function(){ie.postMessage(null)}}else P=function(){A(T,0)};function F(B){O=B,ee||(ee=!0,P())}function le(B,J){se=A(function(){B(c.unstable_now())},J)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(B){B.callback=null},c.unstable_continueExecution=function(){b||R||(b=!0,F(Y))},c.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<B?Math.floor(1e3/B):5},c.unstable_getCurrentPriorityLevel=function(){return E},c.unstable_getFirstCallbackNode=function(){return i(g)},c.unstable_next=function(B){switch(E){case 1:case 2:case 3:var J=3;break;default:J=E}var q=E;E=J;try{return B()}finally{E=q}},c.unstable_pauseExecution=function(){},c.unstable_requestPaint=function(){},c.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=E;E=B;try{return J()}finally{E=q}},c.unstable_scheduleCallback=function(B,J,q){var k=c.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?k+q:k):q=k,B){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=q+L,B={id:x++,callback:J,priorityLevel:B,startTime:q,expirationTime:L,sortIndex:-1},q>k?(B.sortIndex=q,r(v,B),i(g)===null&&B===i(v)&&(U?(V(se),se=-1):U=!0,le(W,q-k))):(B.sortIndex=L,r(g,B),b||R||(b=!0,F(Y))),B},c.unstable_shouldYield=re,c.unstable_wrapCallback=function(B){var J=E;return function(){var q=E;E=J;try{return B.apply(this,arguments)}finally{E=q}}}}(Lo)),Lo}var ud;function gm(){return ud||(ud=1,Io.exports=pm()),Io.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cd;function vm(){if(cd)return it;cd=1;var c=ra(),r=gm();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function h(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},j={};function E(e){return g.call(j,e)?!0:g.call(x,e)?!1:v.test(e)?j[e]=!0:(x[e]=!0,!1)}function R(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b(e,t,n,s){if(t===null||typeof t>"u"||R(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function U(e,t,n,s,a,d,m){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=m}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){A[e]=new U(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];A[t]=new U(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){A[e]=new U(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){A[e]=new U(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){A[e]=new U(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){A[e]=new U(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){A[e]=new U(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){A[e]=new U(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){A[e]=new U(e,5,!1,e.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function Q(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(V,Q);A[t]=new U(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(V,Q);A[t]=new U(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(V,Q);A[t]=new U(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){A[e]=new U(e,1,!1,e.toLowerCase(),null,!1,!1)}),A.xlinkHref=new U("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){A[e]=new U(e,1,!1,e.toLowerCase(),null,!0,!0)});function I(e,t,n,s){var a=A.hasOwnProperty(t)?A[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(b(t,n,a,s)&&(n=null),s||a===null?E(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var W=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),ee=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),ge=Symbol.for("react.provider"),re=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),B=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,k;function L(e){if(k===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);k=t&&t[1]||""}return`
`+k+e}var he=!1;function me(e,t){if(!e||he)return"";he=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(C){var s=C}Reflect.construct(e,[],t)}else{try{t.call()}catch(C){s=C}e.call(t.prototype)}else{try{throw Error()}catch(C){s=C}e()}}catch(C){if(C&&s&&typeof C.stack=="string"){for(var a=C.stack.split(`
`),d=s.stack.split(`
`),m=a.length-1,y=d.length-1;1<=m&&0<=y&&a[m]!==d[y];)y--;for(;1<=m&&0<=y;m--,y--)if(a[m]!==d[y]){if(m!==1||y!==1)do if(m--,y--,0>y||a[m]!==d[y]){var w=`
`+a[m].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=m&&0<=y);break}}}finally{he=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function ye(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=me(e.type,!1),e;case 11:return e=me(e.type.render,!1),e;case 1:return e=me(e.type,!0),e;default:return""}}function xe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case ee:return"Portal";case ue:return"Profiler";case se:return"StrictMode";case P:return"Suspense";case Z:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case re:return(e.displayName||"Context")+".Consumer";case ge:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ie:return t=e.displayName||null,t!==null?t:xe(e.type)||"Memo";case F:t=e._payload,e=e._init;try{return xe(e(t))}catch{}}return null}function ke(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(t);case 8:return t===se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _e(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Te(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lt(e){var t=Te(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,d=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(m){s=""+m,d.call(this,m)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(m){s=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vs(e){e._valueTracker||(e._valueTracker=lt(e))}function ca(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Te(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function ys(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Di(e,t){var n=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function da(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=_e(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ha(e,t){t=t.checked,t!=null&&I(e,"checked",t,!1)}function Ui(e,t){ha(e,t);var n=_e(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zi(e,t.type,n):t.hasOwnProperty("defaultValue")&&zi(e,t.type,_e(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fa(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function zi(e,t,n){(t!=="number"||ys(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var wr=Array.isArray;function Ln(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+_e(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Fi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ma(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(i(92));if(wr(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_e(n)}}function pa(e,t){var n=_e(t.value),s=_e(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function ga(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function va(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?va(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xs,ya=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xs=xs||document.createElement("div"),xs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _r(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fh=["Webkit","ms","Moz","O"];Object.keys(jr).forEach(function(e){fh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jr[t]=jr[e]})});function xa(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||jr.hasOwnProperty(e)&&jr[e]?(""+t).trim():t+"px"}function wa(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=xa(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var mh=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bi(e,t){if(t){if(mh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function Wi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qi=null;function Hi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vi=null,$n=null,Dn=null;function _a(e){if(e=qr(e)){if(typeof Vi!="function")throw Error(i(280));var t=e.stateNode;t&&(t=Bs(t),Vi(e.stateNode,e.type,t))}}function ja(e){$n?Dn?Dn.push(e):Dn=[e]:$n=e}function ka(){if($n){var e=$n,t=Dn;if(Dn=$n=null,_a(e),t)for(e=0;e<t.length;e++)_a(t[e])}}function ba(e,t){return e(t)}function Sa(){}var Ki=!1;function Na(e,t,n){if(Ki)return e(t,n);Ki=!0;try{return ba(e,t,n)}finally{Ki=!1,($n!==null||Dn!==null)&&(Sa(),ka())}}function kr(e,t){var n=e.stateNode;if(n===null)return null;var s=Bs(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var Gi=!1;if(p)try{var br={};Object.defineProperty(br,"passive",{get:function(){Gi=!0}}),window.addEventListener("test",br,br),window.removeEventListener("test",br,br)}catch{Gi=!1}function ph(e,t,n,s,a,d,m,y,w){var C=Array.prototype.slice.call(arguments,3);try{t.apply(n,C)}catch(D){this.onError(D)}}var Sr=!1,ws=null,_s=!1,Qi=null,gh={onError:function(e){Sr=!0,ws=e}};function vh(e,t,n,s,a,d,m,y,w){Sr=!1,ws=null,ph.apply(gh,arguments)}function yh(e,t,n,s,a,d,m,y,w){if(vh.apply(this,arguments),Sr){if(Sr){var C=ws;Sr=!1,ws=null}else throw Error(i(198));_s||(_s=!0,Qi=C)}}function vn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ea(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ca(e){if(vn(e)!==e)throw Error(i(188))}function xh(e){var t=e.alternate;if(!t){if(t=vn(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var d=a.alternate;if(d===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===d.child){for(d=a.child;d;){if(d===n)return Ca(a),e;if(d===s)return Ca(a),t;d=d.sibling}throw Error(i(188))}if(n.return!==s.return)n=a,s=d;else{for(var m=!1,y=a.child;y;){if(y===n){m=!0,n=a,s=d;break}if(y===s){m=!0,s=a,n=d;break}y=y.sibling}if(!m){for(y=d.child;y;){if(y===n){m=!0,n=d,s=a;break}if(y===s){m=!0,s=d,n=a;break}y=y.sibling}if(!m)throw Error(i(189))}}if(n.alternate!==s)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function Ta(e){return e=xh(e),e!==null?Pa(e):null}function Pa(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pa(e);if(t!==null)return t;e=e.sibling}return null}var Oa=r.unstable_scheduleCallback,Ra=r.unstable_cancelCallback,wh=r.unstable_shouldYield,_h=r.unstable_requestPaint,Ie=r.unstable_now,jh=r.unstable_getCurrentPriorityLevel,Ji=r.unstable_ImmediatePriority,Aa=r.unstable_UserBlockingPriority,js=r.unstable_NormalPriority,kh=r.unstable_LowPriority,Ia=r.unstable_IdlePriority,ks=null,Et=null;function bh(e){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(ks,e,void 0,(e.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:Eh,Sh=Math.log,Nh=Math.LN2;function Eh(e){return e>>>=0,e===0?32:31-(Sh(e)/Nh|0)|0}var bs=64,Ss=4194304;function Nr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ns(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,d=e.pingedLanes,m=n&268435455;if(m!==0){var y=m&~a;y!==0?s=Nr(y):(d&=m,d!==0&&(s=Nr(d)))}else m=n&~a,m!==0?s=Nr(m):d!==0&&(s=Nr(d));if(s===0)return 0;if(t!==0&&t!==s&&(t&a)===0&&(a=s&-s,d=t&-t,a>=d||a===16&&(d&4194240)!==0))return t;if((s&4)!==0&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-yt(t),a=1<<n,s|=e[n],t&=~a;return s}function Ch(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Th(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,d=e.pendingLanes;0<d;){var m=31-yt(d),y=1<<m,w=a[m];w===-1?((y&n)===0||(y&s)!==0)&&(a[m]=Ch(y,t)):w<=t&&(e.expiredLanes|=y),d&=~y}}function Yi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function La(){var e=bs;return bs<<=1,(bs&4194240)===0&&(bs=64),e}function Xi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Er(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yt(t),e[t]=n}function Ph(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-yt(n),d=1<<a;t[a]=0,s[a]=-1,e[a]=-1,n&=~d}}function Zi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-yt(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}var je=0;function $a(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Da,el,Ua,za,Fa,tl=!1,Es=[],Wt=null,qt=null,Ht=null,Cr=new Map,Tr=new Map,Vt=[],Oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ma(e,t){switch(e){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Ht=null;break;case"pointerover":case"pointerout":Cr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tr.delete(t.pointerId)}}function Pr(e,t,n,s,a,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:d,targetContainers:[a]},t!==null&&(t=qr(t),t!==null&&el(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Rh(e,t,n,s,a){switch(t){case"focusin":return Wt=Pr(Wt,e,t,n,s,a),!0;case"dragenter":return qt=Pr(qt,e,t,n,s,a),!0;case"mouseover":return Ht=Pr(Ht,e,t,n,s,a),!0;case"pointerover":var d=a.pointerId;return Cr.set(d,Pr(Cr.get(d)||null,e,t,n,s,a)),!0;case"gotpointercapture":return d=a.pointerId,Tr.set(d,Pr(Tr.get(d)||null,e,t,n,s,a)),!0}return!1}function Ba(e){var t=yn(e.target);if(t!==null){var n=vn(t);if(n!==null){if(t=n.tag,t===13){if(t=Ea(n),t!==null){e.blockedOn=t,Fa(e.priority,function(){Ua(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=rl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);qi=s,n.target.dispatchEvent(s),qi=null}else return t=qr(n),t!==null&&el(t),e.blockedOn=n,!1;t.shift()}return!0}function Wa(e,t,n){Cs(e)&&n.delete(t)}function Ah(){tl=!1,Wt!==null&&Cs(Wt)&&(Wt=null),qt!==null&&Cs(qt)&&(qt=null),Ht!==null&&Cs(Ht)&&(Ht=null),Cr.forEach(Wa),Tr.forEach(Wa)}function Or(e,t){e.blockedOn===t&&(e.blockedOn=null,tl||(tl=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ah)))}function Rr(e){function t(a){return Or(a,e)}if(0<Es.length){Or(Es[0],e);for(var n=1;n<Es.length;n++){var s=Es[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Wt!==null&&Or(Wt,e),qt!==null&&Or(qt,e),Ht!==null&&Or(Ht,e),Cr.forEach(t),Tr.forEach(t),n=0;n<Vt.length;n++)s=Vt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Vt.length&&(n=Vt[0],n.blockedOn===null);)Ba(n),n.blockedOn===null&&Vt.shift()}var Un=W.ReactCurrentBatchConfig,Ts=!0;function Ih(e,t,n,s){var a=je,d=Un.transition;Un.transition=null;try{je=1,nl(e,t,n,s)}finally{je=a,Un.transition=d}}function Lh(e,t,n,s){var a=je,d=Un.transition;Un.transition=null;try{je=4,nl(e,t,n,s)}finally{je=a,Un.transition=d}}function nl(e,t,n,s){if(Ts){var a=rl(e,t,n,s);if(a===null)wl(e,t,s,Ps,n),Ma(e,s);else if(Rh(a,e,t,n,s))s.stopPropagation();else if(Ma(e,s),t&4&&-1<Oh.indexOf(e)){for(;a!==null;){var d=qr(a);if(d!==null&&Da(d),d=rl(e,t,n,s),d===null&&wl(e,t,s,Ps,n),d===a)break;a=d}a!==null&&s.stopPropagation()}else wl(e,t,s,null,n)}}var Ps=null;function rl(e,t,n,s){if(Ps=null,e=Hi(s),e=yn(e),e!==null)if(t=vn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ea(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ps=e,null}function qa(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jh()){case Ji:return 1;case Aa:return 4;case js:case kh:return 16;case Ia:return 536870912;default:return 16}default:return 16}}var Kt=null,sl=null,Os=null;function Ha(){if(Os)return Os;var e,t=sl,n=t.length,s,a="value"in Kt?Kt.value:Kt.textContent,d=a.length;for(e=0;e<n&&t[e]===a[e];e++);var m=n-e;for(s=1;s<=m&&t[n-s]===a[d-s];s++);return Os=a.slice(e,1<s?1-s:void 0)}function Rs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function As(){return!0}function Va(){return!1}function ot(e){function t(n,s,a,d,m){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(n=e[y],this[y]=n?n(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?As:Va,this.isPropagationStopped=Va,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),t}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},il=ot(zn),Ar=q({},zn,{view:0,detail:0}),$h=ot(Ar),ll,ol,Ir,Is=q({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ul,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ir&&(Ir&&e.type==="mousemove"?(ll=e.screenX-Ir.screenX,ol=e.screenY-Ir.screenY):ol=ll=0,Ir=e),ll)},movementY:function(e){return"movementY"in e?e.movementY:ol}}),Ka=ot(Is),Dh=q({},Is,{dataTransfer:0}),Uh=ot(Dh),zh=q({},Ar,{relatedTarget:0}),al=ot(zh),Fh=q({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Mh=ot(Fh),Bh=q({},zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wh=ot(Bh),qh=q({},zn,{data:0}),Ga=ot(qh),Hh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Kh[e])?!!t[e]:!1}function ul(){return Gh}var Qh=q({},Ar,{key:function(e){if(e.key){var t=Hh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ul,charCode:function(e){return e.type==="keypress"?Rs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jh=ot(Qh),Yh=q({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qa=ot(Yh),Xh=q({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ul}),Zh=ot(Xh),ef=q({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),tf=ot(ef),nf=q({},Is,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rf=ot(nf),sf=[9,13,27,32],cl=p&&"CompositionEvent"in window,Lr=null;p&&"documentMode"in document&&(Lr=document.documentMode);var lf=p&&"TextEvent"in window&&!Lr,Ja=p&&(!cl||Lr&&8<Lr&&11>=Lr),Ya=" ",Xa=!1;function Za(e,t){switch(e){case"keyup":return sf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fn=!1;function of(e,t){switch(e){case"compositionend":return eu(t);case"keypress":return t.which!==32?null:(Xa=!0,Ya);case"textInput":return e=t.data,e===Ya&&Xa?null:e;default:return null}}function af(e,t){if(Fn)return e==="compositionend"||!cl&&Za(e,t)?(e=Ha(),Os=sl=Kt=null,Fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ja&&t.locale!=="ko"?null:t.data;default:return null}}var uf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uf[e.type]:t==="textarea"}function nu(e,t,n,s){ja(s),t=zs(t,"onChange"),0<t.length&&(n=new il("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var $r=null,Dr=null;function cf(e){wu(e,0)}function Ls(e){var t=Hn(e);if(ca(t))return e}function df(e,t){if(e==="change")return t}var ru=!1;if(p){var dl;if(p){var hl="oninput"in document;if(!hl){var su=document.createElement("div");su.setAttribute("oninput","return;"),hl=typeof su.oninput=="function"}dl=hl}else dl=!1;ru=dl&&(!document.documentMode||9<document.documentMode)}function iu(){$r&&($r.detachEvent("onpropertychange",lu),Dr=$r=null)}function lu(e){if(e.propertyName==="value"&&Ls(Dr)){var t=[];nu(t,Dr,e,Hi(e)),Na(cf,t)}}function hf(e,t,n){e==="focusin"?(iu(),$r=t,Dr=n,$r.attachEvent("onpropertychange",lu)):e==="focusout"&&iu()}function ff(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ls(Dr)}function mf(e,t){if(e==="click")return Ls(t)}function pf(e,t){if(e==="input"||e==="change")return Ls(t)}function gf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:gf;function Ur(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!g.call(t,a)||!xt(e[a],t[a]))return!1}return!0}function ou(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function au(e,t){var n=ou(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ou(n)}}function uu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cu(){for(var e=window,t=ys();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ys(e.document)}return t}function fl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vf(e){var t=cu(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&uu(n.ownerDocument.documentElement,n)){if(s!==null&&fl(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,d=Math.min(s.start,a);s=s.end===void 0?d:Math.min(s.end,a),!e.extend&&d>s&&(a=s,s=d,d=a),a=au(n,d);var m=au(n,s);a&&m&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),d>s?(e.addRange(t),e.extend(m.node,m.offset)):(t.setEnd(m.node,m.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yf=p&&"documentMode"in document&&11>=document.documentMode,Mn=null,ml=null,zr=null,pl=!1;function du(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pl||Mn==null||Mn!==ys(s)||(s=Mn,"selectionStart"in s&&fl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),zr&&Ur(zr,s)||(zr=s,s=zs(ml,"onSelect"),0<s.length&&(t=new il("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Mn)))}function $s(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bn={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionend:$s("Transition","TransitionEnd")},gl={},hu={};p&&(hu=document.createElement("div").style,"AnimationEvent"in window||(delete Bn.animationend.animation,delete Bn.animationiteration.animation,delete Bn.animationstart.animation),"TransitionEvent"in window||delete Bn.transitionend.transition);function Ds(e){if(gl[e])return gl[e];if(!Bn[e])return e;var t=Bn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hu)return gl[e]=t[n];return e}var fu=Ds("animationend"),mu=Ds("animationiteration"),pu=Ds("animationstart"),gu=Ds("transitionend"),vu=new Map,yu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gt(e,t){vu.set(e,t),h(t,[e])}for(var vl=0;vl<yu.length;vl++){var yl=yu[vl],xf=yl.toLowerCase(),wf=yl[0].toUpperCase()+yl.slice(1);Gt(xf,"on"+wf)}Gt(fu,"onAnimationEnd"),Gt(mu,"onAnimationIteration"),Gt(pu,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt(gu,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),h("onBeforeInput",["compositionend","keypress","textInput","paste"]),h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_f=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function xu(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,yh(s,t,void 0,e),e.currentTarget=null}function wu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var d=void 0;if(t)for(var m=s.length-1;0<=m;m--){var y=s[m],w=y.instance,C=y.currentTarget;if(y=y.listener,w!==d&&a.isPropagationStopped())break e;xu(a,y,C),d=w}else for(m=0;m<s.length;m++){if(y=s[m],w=y.instance,C=y.currentTarget,y=y.listener,w!==d&&a.isPropagationStopped())break e;xu(a,y,C),d=w}}}if(_s)throw e=Qi,_s=!1,Qi=null,e}function Ee(e,t){var n=t[Nl];n===void 0&&(n=t[Nl]=new Set);var s=e+"__bubble";n.has(s)||(_u(t,e,2,!1),n.add(s))}function xl(e,t,n){var s=0;t&&(s|=4),_u(n,e,s,t)}var Us="_reactListening"+Math.random().toString(36).slice(2);function Mr(e){if(!e[Us]){e[Us]=!0,o.forEach(function(n){n!=="selectionchange"&&(_f.has(n)||xl(n,!1,e),xl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Us]||(t[Us]=!0,xl("selectionchange",!1,t))}}function _u(e,t,n,s){switch(qa(t)){case 1:var a=Ih;break;case 4:a=Lh;break;default:a=nl}n=a.bind(null,t,n,e),a=void 0,!Gi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function wl(e,t,n,s,a){var d=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var y=s.stateNode.containerInfo;if(y===a||y.nodeType===8&&y.parentNode===a)break;if(m===4)for(m=s.return;m!==null;){var w=m.tag;if((w===3||w===4)&&(w=m.stateNode.containerInfo,w===a||w.nodeType===8&&w.parentNode===a))return;m=m.return}for(;y!==null;){if(m=yn(y),m===null)return;if(w=m.tag,w===5||w===6){s=d=m;continue e}y=y.parentNode}}s=s.return}Na(function(){var C=d,D=Hi(n),z=[];e:{var $=vu.get(e);if($!==void 0){var H=il,X=e;switch(e){case"keypress":if(Rs(n)===0)break e;case"keydown":case"keyup":H=Jh;break;case"focusin":X="focus",H=al;break;case"focusout":X="blur",H=al;break;case"beforeblur":case"afterblur":H=al;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Ka;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Zh;break;case fu:case mu:case pu:H=Mh;break;case gu:H=tf;break;case"scroll":H=$h;break;case"wheel":H=rf;break;case"copy":case"cut":case"paste":H=Wh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Qa}var te=(t&4)!==0,Le=!te&&e==="scroll",S=te?$!==null?$+"Capture":null:$;te=[];for(var _=C,N;_!==null;){N=_;var M=N.stateNode;if(N.tag===5&&M!==null&&(N=M,S!==null&&(M=kr(_,S),M!=null&&te.push(Br(_,M,N)))),Le)break;_=_.return}0<te.length&&($=new H($,X,null,n,D),z.push({event:$,listeners:te}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",$&&n!==qi&&(X=n.relatedTarget||n.fromElement)&&(yn(X)||X[At]))break e;if((H||$)&&($=D.window===D?D:($=D.ownerDocument)?$.defaultView||$.parentWindow:window,H?(X=n.relatedTarget||n.toElement,H=C,X=X?yn(X):null,X!==null&&(Le=vn(X),X!==Le||X.tag!==5&&X.tag!==6)&&(X=null)):(H=null,X=C),H!==X)){if(te=Ka,M="onMouseLeave",S="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(te=Qa,M="onPointerLeave",S="onPointerEnter",_="pointer"),Le=H==null?$:Hn(H),N=X==null?$:Hn(X),$=new te(M,_+"leave",H,n,D),$.target=Le,$.relatedTarget=N,M=null,yn(D)===C&&(te=new te(S,_+"enter",X,n,D),te.target=N,te.relatedTarget=Le,M=te),Le=M,H&&X)t:{for(te=H,S=X,_=0,N=te;N;N=Wn(N))_++;for(N=0,M=S;M;M=Wn(M))N++;for(;0<_-N;)te=Wn(te),_--;for(;0<N-_;)S=Wn(S),N--;for(;_--;){if(te===S||S!==null&&te===S.alternate)break t;te=Wn(te),S=Wn(S)}te=null}else te=null;H!==null&&ju(z,$,H,te,!1),X!==null&&Le!==null&&ju(z,Le,X,te,!0)}}e:{if($=C?Hn(C):window,H=$.nodeName&&$.nodeName.toLowerCase(),H==="select"||H==="input"&&$.type==="file")var ne=df;else if(tu($))if(ru)ne=pf;else{ne=ff;var oe=hf}else(H=$.nodeName)&&H.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(ne=mf);if(ne&&(ne=ne(e,C))){nu(z,ne,n,D);break e}oe&&oe(e,$,C),e==="focusout"&&(oe=$._wrapperState)&&oe.controlled&&$.type==="number"&&zi($,"number",$.value)}switch(oe=C?Hn(C):window,e){case"focusin":(tu(oe)||oe.contentEditable==="true")&&(Mn=oe,ml=C,zr=null);break;case"focusout":zr=ml=Mn=null;break;case"mousedown":pl=!0;break;case"contextmenu":case"mouseup":case"dragend":pl=!1,du(z,n,D);break;case"selectionchange":if(yf)break;case"keydown":case"keyup":du(z,n,D)}var ae;if(cl)e:{switch(e){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else Fn?Za(e,n)&&(ce="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ce="onCompositionStart");ce&&(Ja&&n.locale!=="ko"&&(Fn||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&Fn&&(ae=Ha()):(Kt=D,sl="value"in Kt?Kt.value:Kt.textContent,Fn=!0)),oe=zs(C,ce),0<oe.length&&(ce=new Ga(ce,e,null,n,D),z.push({event:ce,listeners:oe}),ae?ce.data=ae:(ae=eu(n),ae!==null&&(ce.data=ae)))),(ae=lf?of(e,n):af(e,n))&&(C=zs(C,"onBeforeInput"),0<C.length&&(D=new Ga("onBeforeInput","beforeinput",null,n,D),z.push({event:D,listeners:C}),D.data=ae))}wu(z,t)})}function Br(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zs(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,d=a.stateNode;a.tag===5&&d!==null&&(a=d,d=kr(e,n),d!=null&&s.unshift(Br(e,d,a)),d=kr(e,t),d!=null&&s.push(Br(e,d,a))),e=e.return}return s}function Wn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ju(e,t,n,s,a){for(var d=t._reactName,m=[];n!==null&&n!==s;){var y=n,w=y.alternate,C=y.stateNode;if(w!==null&&w===s)break;y.tag===5&&C!==null&&(y=C,a?(w=kr(n,d),w!=null&&m.unshift(Br(n,w,y))):a||(w=kr(n,d),w!=null&&m.push(Br(n,w,y)))),n=n.return}m.length!==0&&e.push({event:t,listeners:m})}var jf=/\r\n?/g,kf=/\u0000|\uFFFD/g;function ku(e){return(typeof e=="string"?e:""+e).replace(jf,`
`).replace(kf,"")}function Fs(e,t,n){if(t=ku(t),ku(e)!==t&&n)throw Error(i(425))}function Ms(){}var _l=null,jl=null;function kl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bl=typeof setTimeout=="function"?setTimeout:void 0,bf=typeof clearTimeout=="function"?clearTimeout:void 0,bu=typeof Promise=="function"?Promise:void 0,Sf=typeof queueMicrotask=="function"?queueMicrotask:typeof bu<"u"?function(e){return bu.resolve(null).then(e).catch(Nf)}:bl;function Nf(e){setTimeout(function(){throw e})}function Sl(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),Rr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);Rr(t)}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Su(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qn=Math.random().toString(36).slice(2),Ct="__reactFiber$"+qn,Wr="__reactProps$"+qn,At="__reactContainer$"+qn,Nl="__reactEvents$"+qn,Ef="__reactListeners$"+qn,Cf="__reactHandles$"+qn;function yn(e){var t=e[Ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[At]||n[Ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Su(e);e!==null;){if(n=e[Ct])return n;e=Su(e)}return t}e=n,n=e.parentNode}return null}function qr(e){return e=e[Ct]||e[At],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function Bs(e){return e[Wr]||null}var El=[],Vn=-1;function Jt(e){return{current:e}}function Ce(e){0>Vn||(e.current=El[Vn],El[Vn]=null,Vn--)}function be(e,t){Vn++,El[Vn]=e.current,e.current=t}var Yt={},Ke=Jt(Yt),et=Jt(!1),xn=Yt;function Kn(e,t){var n=e.type.contextTypes;if(!n)return Yt;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},d;for(d in n)a[d]=t[d];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function tt(e){return e=e.childContextTypes,e!=null}function Ws(){Ce(et),Ce(Ke)}function Nu(e,t,n){if(Ke.current!==Yt)throw Error(i(168));be(Ke,t),be(et,n)}function Eu(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(i(108,ke(e)||"Unknown",a));return q({},n,s)}function qs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yt,xn=Ke.current,be(Ke,e),be(et,et.current),!0}function Cu(e,t,n){var s=e.stateNode;if(!s)throw Error(i(169));n?(e=Eu(e,t,xn),s.__reactInternalMemoizedMergedChildContext=e,Ce(et),Ce(Ke),be(Ke,e)):Ce(et),be(et,n)}var It=null,Hs=!1,Cl=!1;function Tu(e){It===null?It=[e]:It.push(e)}function Tf(e){Hs=!0,Tu(e)}function Xt(){if(!Cl&&It!==null){Cl=!0;var e=0,t=je;try{var n=It;for(je=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}It=null,Hs=!1}catch(a){throw It!==null&&(It=It.slice(e+1)),Oa(Ji,Xt),a}finally{je=t,Cl=!1}}return null}var Gn=[],Qn=0,Vs=null,Ks=0,ht=[],ft=0,wn=null,Lt=1,$t="";function _n(e,t){Gn[Qn++]=Ks,Gn[Qn++]=Vs,Vs=e,Ks=t}function Pu(e,t,n){ht[ft++]=Lt,ht[ft++]=$t,ht[ft++]=wn,wn=e;var s=Lt;e=$t;var a=32-yt(s)-1;s&=~(1<<a),n+=1;var d=32-yt(t)+a;if(30<d){var m=a-a%5;d=(s&(1<<m)-1).toString(32),s>>=m,a-=m,Lt=1<<32-yt(t)+a|n<<a|s,$t=d+e}else Lt=1<<d|n<<a|s,$t=e}function Tl(e){e.return!==null&&(_n(e,1),Pu(e,1,0))}function Pl(e){for(;e===Vs;)Vs=Gn[--Qn],Gn[Qn]=null,Ks=Gn[--Qn],Gn[Qn]=null;for(;e===wn;)wn=ht[--ft],ht[ft]=null,$t=ht[--ft],ht[ft]=null,Lt=ht[--ft],ht[ft]=null}var at=null,ut=null,Pe=!1,wt=null;function Ou(e,t){var n=vt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ru(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,at=e,ut=Qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,at=e,ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wn!==null?{id:Lt,overflow:$t}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=vt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,at=e,ut=null,!0):!1;default:return!1}}function Ol(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Rl(e){if(Pe){var t=ut;if(t){var n=t;if(!Ru(e,t)){if(Ol(e))throw Error(i(418));t=Qt(n.nextSibling);var s=at;t&&Ru(e,t)?Ou(s,n):(e.flags=e.flags&-4097|2,Pe=!1,at=e)}}else{if(Ol(e))throw Error(i(418));e.flags=e.flags&-4097|2,Pe=!1,at=e}}}function Au(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;at=e}function Gs(e){if(e!==at)return!1;if(!Pe)return Au(e),Pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!kl(e.type,e.memoizedProps)),t&&(t=ut)){if(Ol(e))throw Iu(),Error(i(418));for(;t;)Ou(e,t),t=Qt(t.nextSibling)}if(Au(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ut=Qt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ut=null}}else ut=at?Qt(e.stateNode.nextSibling):null;return!0}function Iu(){for(var e=ut;e;)e=Qt(e.nextSibling)}function Jn(){ut=at=null,Pe=!1}function Al(e){wt===null?wt=[e]:wt.push(e)}var Pf=W.ReactCurrentBatchConfig;function Hr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(i(309));var s=n.stateNode}if(!s)throw Error(i(147,e));var a=s,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(m){var y=a.refs;m===null?delete y[d]:y[d]=m},t._stringRef=d,t)}if(typeof e!="string")throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Qs(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lu(e){var t=e._init;return t(e._payload)}function $u(e){function t(S,_){if(e){var N=S.deletions;N===null?(S.deletions=[_],S.flags|=16):N.push(_)}}function n(S,_){if(!e)return null;for(;_!==null;)t(S,_),_=_.sibling;return null}function s(S,_){for(S=new Map;_!==null;)_.key!==null?S.set(_.key,_):S.set(_.index,_),_=_.sibling;return S}function a(S,_){return S=on(S,_),S.index=0,S.sibling=null,S}function d(S,_,N){return S.index=N,e?(N=S.alternate,N!==null?(N=N.index,N<_?(S.flags|=2,_):N):(S.flags|=2,_)):(S.flags|=1048576,_)}function m(S){return e&&S.alternate===null&&(S.flags|=2),S}function y(S,_,N,M){return _===null||_.tag!==6?(_=So(N,S.mode,M),_.return=S,_):(_=a(_,N),_.return=S,_)}function w(S,_,N,M){var ne=N.type;return ne===O?D(S,_,N.props.children,M,N.key):_!==null&&(_.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===F&&Lu(ne)===_.type)?(M=a(_,N.props),M.ref=Hr(S,_,N),M.return=S,M):(M=xi(N.type,N.key,N.props,null,S.mode,M),M.ref=Hr(S,_,N),M.return=S,M)}function C(S,_,N,M){return _===null||_.tag!==4||_.stateNode.containerInfo!==N.containerInfo||_.stateNode.implementation!==N.implementation?(_=No(N,S.mode,M),_.return=S,_):(_=a(_,N.children||[]),_.return=S,_)}function D(S,_,N,M,ne){return _===null||_.tag!==7?(_=Tn(N,S.mode,M,ne),_.return=S,_):(_=a(_,N),_.return=S,_)}function z(S,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return _=So(""+_,S.mode,N),_.return=S,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Y:return N=xi(_.type,_.key,_.props,null,S.mode,N),N.ref=Hr(S,null,_),N.return=S,N;case ee:return _=No(_,S.mode,N),_.return=S,_;case F:var M=_._init;return z(S,M(_._payload),N)}if(wr(_)||J(_))return _=Tn(_,S.mode,N,null),_.return=S,_;Qs(S,_)}return null}function $(S,_,N,M){var ne=_!==null?_.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return ne!==null?null:y(S,_,""+N,M);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Y:return N.key===ne?w(S,_,N,M):null;case ee:return N.key===ne?C(S,_,N,M):null;case F:return ne=N._init,$(S,_,ne(N._payload),M)}if(wr(N)||J(N))return ne!==null?null:D(S,_,N,M,null);Qs(S,N)}return null}function H(S,_,N,M,ne){if(typeof M=="string"&&M!==""||typeof M=="number")return S=S.get(N)||null,y(_,S,""+M,ne);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Y:return S=S.get(M.key===null?N:M.key)||null,w(_,S,M,ne);case ee:return S=S.get(M.key===null?N:M.key)||null,C(_,S,M,ne);case F:var oe=M._init;return H(S,_,N,oe(M._payload),ne)}if(wr(M)||J(M))return S=S.get(N)||null,D(_,S,M,ne,null);Qs(_,M)}return null}function X(S,_,N,M){for(var ne=null,oe=null,ae=_,ce=_=0,We=null;ae!==null&&ce<N.length;ce++){ae.index>ce?(We=ae,ae=null):We=ae.sibling;var we=$(S,ae,N[ce],M);if(we===null){ae===null&&(ae=We);break}e&&ae&&we.alternate===null&&t(S,ae),_=d(we,_,ce),oe===null?ne=we:oe.sibling=we,oe=we,ae=We}if(ce===N.length)return n(S,ae),Pe&&_n(S,ce),ne;if(ae===null){for(;ce<N.length;ce++)ae=z(S,N[ce],M),ae!==null&&(_=d(ae,_,ce),oe===null?ne=ae:oe.sibling=ae,oe=ae);return Pe&&_n(S,ce),ne}for(ae=s(S,ae);ce<N.length;ce++)We=H(ae,S,ce,N[ce],M),We!==null&&(e&&We.alternate!==null&&ae.delete(We.key===null?ce:We.key),_=d(We,_,ce),oe===null?ne=We:oe.sibling=We,oe=We);return e&&ae.forEach(function(an){return t(S,an)}),Pe&&_n(S,ce),ne}function te(S,_,N,M){var ne=J(N);if(typeof ne!="function")throw Error(i(150));if(N=ne.call(N),N==null)throw Error(i(151));for(var oe=ne=null,ae=_,ce=_=0,We=null,we=N.next();ae!==null&&!we.done;ce++,we=N.next()){ae.index>ce?(We=ae,ae=null):We=ae.sibling;var an=$(S,ae,we.value,M);if(an===null){ae===null&&(ae=We);break}e&&ae&&an.alternate===null&&t(S,ae),_=d(an,_,ce),oe===null?ne=an:oe.sibling=an,oe=an,ae=We}if(we.done)return n(S,ae),Pe&&_n(S,ce),ne;if(ae===null){for(;!we.done;ce++,we=N.next())we=z(S,we.value,M),we!==null&&(_=d(we,_,ce),oe===null?ne=we:oe.sibling=we,oe=we);return Pe&&_n(S,ce),ne}for(ae=s(S,ae);!we.done;ce++,we=N.next())we=H(ae,S,ce,we.value,M),we!==null&&(e&&we.alternate!==null&&ae.delete(we.key===null?ce:we.key),_=d(we,_,ce),oe===null?ne=we:oe.sibling=we,oe=we);return e&&ae.forEach(function(um){return t(S,um)}),Pe&&_n(S,ce),ne}function Le(S,_,N,M){if(typeof N=="object"&&N!==null&&N.type===O&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Y:e:{for(var ne=N.key,oe=_;oe!==null;){if(oe.key===ne){if(ne=N.type,ne===O){if(oe.tag===7){n(S,oe.sibling),_=a(oe,N.props.children),_.return=S,S=_;break e}}else if(oe.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===F&&Lu(ne)===oe.type){n(S,oe.sibling),_=a(oe,N.props),_.ref=Hr(S,oe,N),_.return=S,S=_;break e}n(S,oe);break}else t(S,oe);oe=oe.sibling}N.type===O?(_=Tn(N.props.children,S.mode,M,N.key),_.return=S,S=_):(M=xi(N.type,N.key,N.props,null,S.mode,M),M.ref=Hr(S,_,N),M.return=S,S=M)}return m(S);case ee:e:{for(oe=N.key;_!==null;){if(_.key===oe)if(_.tag===4&&_.stateNode.containerInfo===N.containerInfo&&_.stateNode.implementation===N.implementation){n(S,_.sibling),_=a(_,N.children||[]),_.return=S,S=_;break e}else{n(S,_);break}else t(S,_);_=_.sibling}_=No(N,S.mode,M),_.return=S,S=_}return m(S);case F:return oe=N._init,Le(S,_,oe(N._payload),M)}if(wr(N))return X(S,_,N,M);if(J(N))return te(S,_,N,M);Qs(S,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,_!==null&&_.tag===6?(n(S,_.sibling),_=a(_,N),_.return=S,S=_):(n(S,_),_=So(N,S.mode,M),_.return=S,S=_),m(S)):n(S,_)}return Le}var Yn=$u(!0),Du=$u(!1),Js=Jt(null),Ys=null,Xn=null,Il=null;function Ll(){Il=Xn=Ys=null}function $l(e){var t=Js.current;Ce(Js),e._currentValue=t}function Dl(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Zn(e,t){Ys=e,Il=Xn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(nt=!0),e.firstContext=null)}function mt(e){var t=e._currentValue;if(Il!==e)if(e={context:e,memoizedValue:t,next:null},Xn===null){if(Ys===null)throw Error(i(308));Xn=e,Ys.dependencies={lanes:0,firstContext:e}}else Xn=Xn.next=e;return t}var jn=null;function Ul(e){jn===null?jn=[e]:jn.push(e)}function Uu(e,t,n,s){var a=t.interleaved;return a===null?(n.next=n,Ul(t)):(n.next=a.next,a.next=n),t.interleaved=n,Dt(e,s)}function Dt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zt=!1;function zl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ut(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function en(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ve&2)!==0){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Dt(e,n)}return a=s.interleaved,a===null?(t.next=t,Ul(s)):(t.next=a.next,a.next=t),s.interleaved=t,Dt(e,n)}function Xs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Zi(e,n)}}function Fu(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var m={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};d===null?a=d=m:d=d.next=m,n=n.next}while(n!==null);d===null?a=d=t:d=d.next=t}else a=d=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:d,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Zs(e,t,n,s){var a=e.updateQueue;Zt=!1;var d=a.firstBaseUpdate,m=a.lastBaseUpdate,y=a.shared.pending;if(y!==null){a.shared.pending=null;var w=y,C=w.next;w.next=null,m===null?d=C:m.next=C,m=w;var D=e.alternate;D!==null&&(D=D.updateQueue,y=D.lastBaseUpdate,y!==m&&(y===null?D.firstBaseUpdate=C:y.next=C,D.lastBaseUpdate=w))}if(d!==null){var z=a.baseState;m=0,D=C=w=null,y=d;do{var $=y.lane,H=y.eventTime;if((s&$)===$){D!==null&&(D=D.next={eventTime:H,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var X=e,te=y;switch($=t,H=n,te.tag){case 1:if(X=te.payload,typeof X=="function"){z=X.call(H,z,$);break e}z=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=te.payload,$=typeof X=="function"?X.call(H,z,$):X,$==null)break e;z=q({},z,$);break e;case 2:Zt=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,$=a.effects,$===null?a.effects=[y]:$.push(y))}else H={eventTime:H,lane:$,tag:y.tag,payload:y.payload,callback:y.callback,next:null},D===null?(C=D=H,w=z):D=D.next=H,m|=$;if(y=y.next,y===null){if(y=a.shared.pending,y===null)break;$=y,y=$.next,$.next=null,a.lastBaseUpdate=$,a.shared.pending=null}}while(!0);if(D===null&&(w=z),a.baseState=w,a.firstBaseUpdate=C,a.lastBaseUpdate=D,t=a.shared.interleaved,t!==null){a=t;do m|=a.lane,a=a.next;while(a!==t)}else d===null&&(a.shared.lanes=0);Sn|=m,e.lanes=m,e.memoizedState=z}}function Mu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(i(191,a));a.call(s)}}}var Vr={},Tt=Jt(Vr),Kr=Jt(Vr),Gr=Jt(Vr);function kn(e){if(e===Vr)throw Error(i(174));return e}function Fl(e,t){switch(be(Gr,t),be(Kr,e),be(Tt,Vr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mi(t,e)}Ce(Tt),be(Tt,t)}function er(){Ce(Tt),Ce(Kr),Ce(Gr)}function Bu(e){kn(Gr.current);var t=kn(Tt.current),n=Mi(t,e.type);t!==n&&(be(Kr,e),be(Tt,n))}function Ml(e){Kr.current===e&&(Ce(Tt),Ce(Kr))}var Oe=Jt(0);function ei(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bl=[];function Wl(){for(var e=0;e<Bl.length;e++)Bl[e]._workInProgressVersionPrimary=null;Bl.length=0}var ti=W.ReactCurrentDispatcher,ql=W.ReactCurrentBatchConfig,bn=0,Re=null,De=null,Me=null,ni=!1,Qr=!1,Jr=0,Of=0;function Ge(){throw Error(i(321))}function Hl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xt(e[n],t[n]))return!1;return!0}function Vl(e,t,n,s,a,d){if(bn=d,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ti.current=e===null||e.memoizedState===null?Lf:$f,e=n(s,a),Qr){d=0;do{if(Qr=!1,Jr=0,25<=d)throw Error(i(301));d+=1,Me=De=null,t.updateQueue=null,ti.current=Df,e=n(s,a)}while(Qr)}if(ti.current=ii,t=De!==null&&De.next!==null,bn=0,Me=De=Re=null,ni=!1,t)throw Error(i(300));return e}function Kl(){var e=Jr!==0;return Jr=0,e}function Pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Re.memoizedState=Me=e:Me=Me.next=e,Me}function pt(){if(De===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Me===null?Re.memoizedState:Me.next;if(t!==null)Me=t,De=e;else{if(e===null)throw Error(i(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Me===null?Re.memoizedState=Me=e:Me=Me.next=e}return Me}function Yr(e,t){return typeof t=="function"?t(e):t}function Gl(e){var t=pt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var s=De,a=s.baseQueue,d=n.pending;if(d!==null){if(a!==null){var m=a.next;a.next=d.next,d.next=m}s.baseQueue=a=d,n.pending=null}if(a!==null){d=a.next,s=s.baseState;var y=m=null,w=null,C=d;do{var D=C.lane;if((bn&D)===D)w!==null&&(w=w.next={lane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),s=C.hasEagerState?C.eagerState:e(s,C.action);else{var z={lane:D,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null};w===null?(y=w=z,m=s):w=w.next=z,Re.lanes|=D,Sn|=D}C=C.next}while(C!==null&&C!==d);w===null?m=s:w.next=y,xt(s,t.memoizedState)||(nt=!0),t.memoizedState=s,t.baseState=m,t.baseQueue=w,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do d=a.lane,Re.lanes|=d,Sn|=d,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ql(e){var t=pt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,d=t.memoizedState;if(a!==null){n.pending=null;var m=a=a.next;do d=e(d,m.action),m=m.next;while(m!==a);xt(d,t.memoizedState)||(nt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,s]}function Wu(){}function qu(e,t){var n=Re,s=pt(),a=t(),d=!xt(s.memoizedState,a);if(d&&(s.memoizedState=a,nt=!0),s=s.queue,Jl(Ku.bind(null,n,s,e),[e]),s.getSnapshot!==t||d||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,Xr(9,Vu.bind(null,n,s,a,t),void 0,null),Be===null)throw Error(i(349));(bn&30)!==0||Hu(n,t,a)}return a}function Hu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Vu(e,t,n,s){t.value=n,t.getSnapshot=s,Gu(t)&&Qu(e)}function Ku(e,t,n){return n(function(){Gu(t)&&Qu(e)})}function Gu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xt(e,n)}catch{return!0}}function Qu(e){var t=Dt(e,1);t!==null&&bt(t,e,1,-1)}function Ju(e){var t=Pt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:e},t.queue=e,e=e.dispatch=If.bind(null,Re,e),[t.memoizedState,e]}function Xr(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Yu(){return pt().memoizedState}function ri(e,t,n,s){var a=Pt();Re.flags|=e,a.memoizedState=Xr(1|t,n,void 0,s===void 0?null:s)}function si(e,t,n,s){var a=pt();s=s===void 0?null:s;var d=void 0;if(De!==null){var m=De.memoizedState;if(d=m.destroy,s!==null&&Hl(s,m.deps)){a.memoizedState=Xr(t,n,d,s);return}}Re.flags|=e,a.memoizedState=Xr(1|t,n,d,s)}function Xu(e,t){return ri(8390656,8,e,t)}function Jl(e,t){return si(2048,8,e,t)}function Zu(e,t){return si(4,2,e,t)}function ec(e,t){return si(4,4,e,t)}function tc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nc(e,t,n){return n=n!=null?n.concat([e]):null,si(4,4,tc.bind(null,t,e),n)}function Yl(){}function rc(e,t){var n=pt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Hl(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function sc(e,t){var n=pt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Hl(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function ic(e,t,n){return(bn&21)===0?(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=n):(xt(n,t)||(n=La(),Re.lanes|=n,Sn|=n,e.baseState=!0),t)}function Rf(e,t){var n=je;je=n!==0&&4>n?n:4,e(!0);var s=ql.transition;ql.transition={};try{e(!1),t()}finally{je=n,ql.transition=s}}function lc(){return pt().memoizedState}function Af(e,t,n){var s=sn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},oc(e))ac(t,n);else if(n=Uu(e,t,n,s),n!==null){var a=Xe();bt(n,e,s,a),uc(n,t,s)}}function If(e,t,n){var s=sn(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(oc(e))ac(t,a);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var m=t.lastRenderedState,y=d(m,n);if(a.hasEagerState=!0,a.eagerState=y,xt(y,m)){var w=t.interleaved;w===null?(a.next=a,Ul(t)):(a.next=w.next,w.next=a),t.interleaved=a;return}}catch{}finally{}n=Uu(e,t,a,s),n!==null&&(a=Xe(),bt(n,e,s,a),uc(n,t,s))}}function oc(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function ac(e,t){Qr=ni=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function uc(e,t,n){if((n&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Zi(e,n)}}var ii={readContext:mt,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},Lf={readContext:mt,useCallback:function(e,t){return Pt().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:Xu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ri(4194308,4,tc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ri(4194308,4,e,t)},useInsertionEffect:function(e,t){return ri(4,2,e,t)},useMemo:function(e,t){var n=Pt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Pt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Af.bind(null,Re,e),[s.memoizedState,e]},useRef:function(e){var t=Pt();return e={current:e},t.memoizedState=e},useState:Ju,useDebugValue:Yl,useDeferredValue:function(e){return Pt().memoizedState=e},useTransition:function(){var e=Ju(!1),t=e[0];return e=Rf.bind(null,e[1]),Pt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Re,a=Pt();if(Pe){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Be===null)throw Error(i(349));(bn&30)!==0||Hu(s,t,n)}a.memoizedState=n;var d={value:n,getSnapshot:t};return a.queue=d,Xu(Ku.bind(null,s,d,e),[e]),s.flags|=2048,Xr(9,Vu.bind(null,s,d,n,t),void 0,null),n},useId:function(){var e=Pt(),t=Be.identifierPrefix;if(Pe){var n=$t,s=Lt;n=(s&~(1<<32-yt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Jr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Of++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$f={readContext:mt,useCallback:rc,useContext:mt,useEffect:Jl,useImperativeHandle:nc,useInsertionEffect:Zu,useLayoutEffect:ec,useMemo:sc,useReducer:Gl,useRef:Yu,useState:function(){return Gl(Yr)},useDebugValue:Yl,useDeferredValue:function(e){var t=pt();return ic(t,De.memoizedState,e)},useTransition:function(){var e=Gl(Yr)[0],t=pt().memoizedState;return[e,t]},useMutableSource:Wu,useSyncExternalStore:qu,useId:lc,unstable_isNewReconciler:!1},Df={readContext:mt,useCallback:rc,useContext:mt,useEffect:Jl,useImperativeHandle:nc,useInsertionEffect:Zu,useLayoutEffect:ec,useMemo:sc,useReducer:Ql,useRef:Yu,useState:function(){return Ql(Yr)},useDebugValue:Yl,useDeferredValue:function(e){var t=pt();return De===null?t.memoizedState=e:ic(t,De.memoizedState,e)},useTransition:function(){var e=Ql(Yr)[0],t=pt().memoizedState;return[e,t]},useMutableSource:Wu,useSyncExternalStore:qu,useId:lc,unstable_isNewReconciler:!1};function _t(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Xl(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:q({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var li={isMounted:function(e){return(e=e._reactInternals)?vn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Xe(),a=sn(e),d=Ut(s,a);d.payload=t,n!=null&&(d.callback=n),t=en(e,d,a),t!==null&&(bt(t,e,a,s),Xs(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Xe(),a=sn(e),d=Ut(s,a);d.tag=1,d.payload=t,n!=null&&(d.callback=n),t=en(e,d,a),t!==null&&(bt(t,e,a,s),Xs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xe(),s=sn(e),a=Ut(n,s);a.tag=2,t!=null&&(a.callback=t),t=en(e,a,s),t!==null&&(bt(t,e,s,n),Xs(t,e,s))}};function cc(e,t,n,s,a,d,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,m):t.prototype&&t.prototype.isPureReactComponent?!Ur(n,s)||!Ur(a,d):!0}function dc(e,t,n){var s=!1,a=Yt,d=t.contextType;return typeof d=="object"&&d!==null?d=mt(d):(a=tt(t)?xn:Ke.current,s=t.contextTypes,d=(s=s!=null)?Kn(e,a):Yt),t=new t(n,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=li,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=d),t}function hc(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&li.enqueueReplaceState(t,t.state,null)}function Zl(e,t,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},zl(e);var d=t.contextType;typeof d=="object"&&d!==null?a.context=mt(d):(d=tt(t)?xn:Ke.current,a.context=Kn(e,d)),a.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(Xl(e,t,d,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&li.enqueueReplaceState(a,a.state,null),Zs(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function tr(e,t){try{var n="",s=t;do n+=ye(s),s=s.return;while(s);var a=n}catch(d){a=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:a,digest:null}}function eo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function to(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Uf=typeof WeakMap=="function"?WeakMap:Map;function fc(e,t,n){n=Ut(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){fi||(fi=!0,vo=s),to(e,t)},n}function mc(e,t,n){n=Ut(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;n.payload=function(){return s(a)},n.callback=function(){to(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(n.callback=function(){to(e,t),typeof s!="function"&&(nn===null?nn=new Set([this]):nn.add(this));var m=t.stack;this.componentDidCatch(t.value,{componentStack:m!==null?m:""})}),n}function pc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Uf;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(a.add(n),e=Xf.bind(null,e,t,n),t.then(e,e))}function gc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vc(e,t,n,s,a){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ut(-1,1),t.tag=2,en(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var zf=W.ReactCurrentOwner,nt=!1;function Ye(e,t,n,s){t.child=e===null?Du(t,null,n,s):Yn(t,e.child,n,s)}function yc(e,t,n,s,a){n=n.render;var d=t.ref;return Zn(t,a),s=Vl(e,t,n,s,d,a),n=Kl(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,zt(e,t,a)):(Pe&&n&&Tl(t),t.flags|=1,Ye(e,t,s,a),t.child)}function xc(e,t,n,s,a){if(e===null){var d=n.type;return typeof d=="function"&&!bo(d)&&d.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=d,wc(e,t,d,s,a)):(e=xi(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&a)===0){var m=d.memoizedProps;if(n=n.compare,n=n!==null?n:Ur,n(m,s)&&e.ref===t.ref)return zt(e,t,a)}return t.flags|=1,e=on(d,s),e.ref=t.ref,e.return=t,t.child=e}function wc(e,t,n,s,a){if(e!==null){var d=e.memoizedProps;if(Ur(d,s)&&e.ref===t.ref)if(nt=!1,t.pendingProps=s=d,(e.lanes&a)!==0)(e.flags&131072)!==0&&(nt=!0);else return t.lanes=e.lanes,zt(e,t,a)}return no(e,t,n,s,a)}function _c(e,t,n){var s=t.pendingProps,a=s.children,d=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(rr,ct),ct|=n;else{if((n&1073741824)===0)return e=d!==null?d.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,be(rr,ct),ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=d!==null?d.baseLanes:n,be(rr,ct),ct|=s}else d!==null?(s=d.baseLanes|n,t.memoizedState=null):s=n,be(rr,ct),ct|=s;return Ye(e,t,a,n),t.child}function jc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function no(e,t,n,s,a){var d=tt(n)?xn:Ke.current;return d=Kn(t,d),Zn(t,a),n=Vl(e,t,n,s,d,a),s=Kl(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,zt(e,t,a)):(Pe&&s&&Tl(t),t.flags|=1,Ye(e,t,n,a),t.child)}function kc(e,t,n,s,a){if(tt(n)){var d=!0;qs(t)}else d=!1;if(Zn(t,a),t.stateNode===null)ai(e,t),dc(t,n,s),Zl(t,n,s,a),s=!0;else if(e===null){var m=t.stateNode,y=t.memoizedProps;m.props=y;var w=m.context,C=n.contextType;typeof C=="object"&&C!==null?C=mt(C):(C=tt(n)?xn:Ke.current,C=Kn(t,C));var D=n.getDerivedStateFromProps,z=typeof D=="function"||typeof m.getSnapshotBeforeUpdate=="function";z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(y!==s||w!==C)&&hc(t,m,s,C),Zt=!1;var $=t.memoizedState;m.state=$,Zs(t,s,m,a),w=t.memoizedState,y!==s||$!==w||et.current||Zt?(typeof D=="function"&&(Xl(t,n,D,s),w=t.memoizedState),(y=Zt||cc(t,n,y,s,$,w,C))?(z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=w),m.props=s,m.state=w,m.context=C,s=y):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{m=t.stateNode,zu(e,t),y=t.memoizedProps,C=t.type===t.elementType?y:_t(t.type,y),m.props=C,z=t.pendingProps,$=m.context,w=n.contextType,typeof w=="object"&&w!==null?w=mt(w):(w=tt(n)?xn:Ke.current,w=Kn(t,w));var H=n.getDerivedStateFromProps;(D=typeof H=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(y!==z||$!==w)&&hc(t,m,s,w),Zt=!1,$=t.memoizedState,m.state=$,Zs(t,s,m,a);var X=t.memoizedState;y!==z||$!==X||et.current||Zt?(typeof H=="function"&&(Xl(t,n,H,s),X=t.memoizedState),(C=Zt||cc(t,n,C,s,$,X,w)||!1)?(D||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,X,w),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,X,w)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=X),m.props=s,m.state=X,m.context=w,s=C):(typeof m.componentDidUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),s=!1)}return ro(e,t,n,s,d,a)}function ro(e,t,n,s,a,d){jc(e,t);var m=(t.flags&128)!==0;if(!s&&!m)return a&&Cu(t,n,!1),zt(e,t,d);s=t.stateNode,zf.current=t;var y=m&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&m?(t.child=Yn(t,e.child,null,d),t.child=Yn(t,null,y,d)):Ye(e,t,y,d),t.memoizedState=s.state,a&&Cu(t,n,!0),t.child}function bc(e){var t=e.stateNode;t.pendingContext?Nu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nu(e,t.context,!1),Fl(e,t.containerInfo)}function Sc(e,t,n,s,a){return Jn(),Al(a),t.flags|=256,Ye(e,t,n,s),t.child}var so={dehydrated:null,treeContext:null,retryLane:0};function io(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nc(e,t,n){var s=t.pendingProps,a=Oe.current,d=!1,m=(t.flags&128)!==0,y;if((y=m)||(y=e!==null&&e.memoizedState===null?!1:(a&2)!==0),y?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),be(Oe,a&1),e===null)return Rl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(m=s.children,e=s.fallback,d?(s=t.mode,d=t.child,m={mode:"hidden",children:m},(s&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=m):d=wi(m,s,0,null),e=Tn(e,s,n,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=io(n),t.memoizedState=so,e):lo(t,m));if(a=e.memoizedState,a!==null&&(y=a.dehydrated,y!==null))return Ff(e,t,m,s,y,a,n);if(d){d=s.fallback,m=t.mode,a=e.child,y=a.sibling;var w={mode:"hidden",children:s.children};return(m&1)===0&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=w,t.deletions=null):(s=on(a,w),s.subtreeFlags=a.subtreeFlags&14680064),y!==null?d=on(y,d):(d=Tn(d,m,n,null),d.flags|=2),d.return=t,s.return=t,s.sibling=d,t.child=s,s=d,d=t.child,m=e.child.memoizedState,m=m===null?io(n):{baseLanes:m.baseLanes|n,cachePool:null,transitions:m.transitions},d.memoizedState=m,d.childLanes=e.childLanes&~n,t.memoizedState=so,s}return d=e.child,e=d.sibling,s=on(d,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function lo(e,t){return t=wi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oi(e,t,n,s){return s!==null&&Al(s),Yn(t,e.child,null,n),e=lo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ff(e,t,n,s,a,d,m){if(n)return t.flags&256?(t.flags&=-257,s=eo(Error(i(422))),oi(e,t,m,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=s.fallback,a=t.mode,s=wi({mode:"visible",children:s.children},a,0,null),d=Tn(d,a,m,null),d.flags|=2,s.return=t,d.return=t,s.sibling=d,t.child=s,(t.mode&1)!==0&&Yn(t,e.child,null,m),t.child.memoizedState=io(m),t.memoizedState=so,d);if((t.mode&1)===0)return oi(e,t,m,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var y=s.dgst;return s=y,d=Error(i(419)),s=eo(d,s,void 0),oi(e,t,m,s)}if(y=(m&e.childLanes)!==0,nt||y){if(s=Be,s!==null){switch(m&-m){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=(a&(s.suspendedLanes|m))!==0?0:a,a!==0&&a!==d.retryLane&&(d.retryLane=a,Dt(e,a),bt(s,e,a,-1))}return ko(),s=eo(Error(i(421))),oi(e,t,m,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Zf.bind(null,e),a._reactRetry=t,null):(e=d.treeContext,ut=Qt(a.nextSibling),at=t,Pe=!0,wt=null,e!==null&&(ht[ft++]=Lt,ht[ft++]=$t,ht[ft++]=wn,Lt=e.id,$t=e.overflow,wn=t),t=lo(t,s.children),t.flags|=4096,t)}function Ec(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Dl(e.return,t,n)}function oo(e,t,n,s,a){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=s,d.tail=n,d.tailMode=a)}function Cc(e,t,n){var s=t.pendingProps,a=s.revealOrder,d=s.tail;if(Ye(e,t,s.children,n),s=Oe.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ec(e,n,t);else if(e.tag===19)Ec(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(be(Oe,s),(t.mode&1)===0)t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&ei(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),oo(t,!1,a,n,d);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ei(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}oo(t,!0,n,null,d);break;case"together":oo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ai(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Sn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=on(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=on(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Mf(e,t,n){switch(t.tag){case 3:bc(t),Jn();break;case 5:Bu(t);break;case 1:tt(t.type)&&qs(t);break;case 4:Fl(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;be(Js,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(be(Oe,Oe.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Nc(e,t,n):(be(Oe,Oe.current&1),e=zt(e,t,n),e!==null?e.sibling:null);be(Oe,Oe.current&1);break;case 19:if(s=(n&t.childLanes)!==0,(e.flags&128)!==0){if(s)return Cc(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),be(Oe,Oe.current),s)break;return null;case 22:case 23:return t.lanes=0,_c(e,t,n)}return zt(e,t,n)}var Tc,ao,Pc,Oc;Tc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ao=function(){},Pc=function(e,t,n,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,kn(Tt.current);var d=null;switch(n){case"input":a=Di(e,a),s=Di(e,s),d=[];break;case"select":a=q({},a,{value:void 0}),s=q({},s,{value:void 0}),d=[];break;case"textarea":a=Fi(e,a),s=Fi(e,s),d=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ms)}Bi(n,s);var m;n=null;for(C in a)if(!s.hasOwnProperty(C)&&a.hasOwnProperty(C)&&a[C]!=null)if(C==="style"){var y=a[C];for(m in y)y.hasOwnProperty(m)&&(n||(n={}),n[m]="")}else C!=="dangerouslySetInnerHTML"&&C!=="children"&&C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(u.hasOwnProperty(C)?d||(d=[]):(d=d||[]).push(C,null));for(C in s){var w=s[C];if(y=a!=null?a[C]:void 0,s.hasOwnProperty(C)&&w!==y&&(w!=null||y!=null))if(C==="style")if(y){for(m in y)!y.hasOwnProperty(m)||w&&w.hasOwnProperty(m)||(n||(n={}),n[m]="");for(m in w)w.hasOwnProperty(m)&&y[m]!==w[m]&&(n||(n={}),n[m]=w[m])}else n||(d||(d=[]),d.push(C,n)),n=w;else C==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,y=y?y.__html:void 0,w!=null&&y!==w&&(d=d||[]).push(C,w)):C==="children"?typeof w!="string"&&typeof w!="number"||(d=d||[]).push(C,""+w):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&(u.hasOwnProperty(C)?(w!=null&&C==="onScroll"&&Ee("scroll",e),d||y===w||(d=[])):(d=d||[]).push(C,w))}n&&(d=d||[]).push("style",n);var C=d;(t.updateQueue=C)&&(t.flags|=4)}},Oc=function(e,t,n,s){n!==s&&(t.flags|=4)};function Zr(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Bf(e,t,n){var s=t.pendingProps;switch(Pl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return tt(t.type)&&Ws(),Qe(t),null;case 3:return s=t.stateNode,er(),Ce(et),Ce(Ke),Wl(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Gs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,wt!==null&&(wo(wt),wt=null))),ao(e,t),Qe(t),null;case 5:Ml(t);var a=kn(Gr.current);if(n=t.type,e!==null&&t.stateNode!=null)Pc(e,t,n,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(i(166));return Qe(t),null}if(e=kn(Tt.current),Gs(t)){s=t.stateNode,n=t.type;var d=t.memoizedProps;switch(s[Ct]=t,s[Wr]=d,e=(t.mode&1)!==0,n){case"dialog":Ee("cancel",s),Ee("close",s);break;case"iframe":case"object":case"embed":Ee("load",s);break;case"video":case"audio":for(a=0;a<Fr.length;a++)Ee(Fr[a],s);break;case"source":Ee("error",s);break;case"img":case"image":case"link":Ee("error",s),Ee("load",s);break;case"details":Ee("toggle",s);break;case"input":da(s,d),Ee("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!d.multiple},Ee("invalid",s);break;case"textarea":ma(s,d),Ee("invalid",s)}Bi(n,d),a=null;for(var m in d)if(d.hasOwnProperty(m)){var y=d[m];m==="children"?typeof y=="string"?s.textContent!==y&&(d.suppressHydrationWarning!==!0&&Fs(s.textContent,y,e),a=["children",y]):typeof y=="number"&&s.textContent!==""+y&&(d.suppressHydrationWarning!==!0&&Fs(s.textContent,y,e),a=["children",""+y]):u.hasOwnProperty(m)&&y!=null&&m==="onScroll"&&Ee("scroll",s)}switch(n){case"input":vs(s),fa(s,d,!0);break;case"textarea":vs(s),ga(s);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(s.onclick=Ms)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{m=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=va(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=m.createElement(n,{is:s.is}):(e=m.createElement(n),n==="select"&&(m=e,s.multiple?m.multiple=!0:s.size&&(m.size=s.size))):e=m.createElementNS(e,n),e[Ct]=t,e[Wr]=s,Tc(e,t,!1,!1),t.stateNode=e;e:{switch(m=Wi(n,s),n){case"dialog":Ee("cancel",e),Ee("close",e),a=s;break;case"iframe":case"object":case"embed":Ee("load",e),a=s;break;case"video":case"audio":for(a=0;a<Fr.length;a++)Ee(Fr[a],e);a=s;break;case"source":Ee("error",e),a=s;break;case"img":case"image":case"link":Ee("error",e),Ee("load",e),a=s;break;case"details":Ee("toggle",e),a=s;break;case"input":da(e,s),a=Di(e,s),Ee("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=q({},s,{value:void 0}),Ee("invalid",e);break;case"textarea":ma(e,s),a=Fi(e,s),Ee("invalid",e);break;default:a=s}Bi(n,a),y=a;for(d in y)if(y.hasOwnProperty(d)){var w=y[d];d==="style"?wa(e,w):d==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&ya(e,w)):d==="children"?typeof w=="string"?(n!=="textarea"||w!=="")&&_r(e,w):typeof w=="number"&&_r(e,""+w):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(u.hasOwnProperty(d)?w!=null&&d==="onScroll"&&Ee("scroll",e):w!=null&&I(e,d,w,m))}switch(n){case"input":vs(e),fa(e,s,!1);break;case"textarea":vs(e),ga(e);break;case"option":s.value!=null&&e.setAttribute("value",""+_e(s.value));break;case"select":e.multiple=!!s.multiple,d=s.value,d!=null?Ln(e,!!s.multiple,d,!1):s.defaultValue!=null&&Ln(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ms)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qe(t),null;case 6:if(e&&t.stateNode!=null)Oc(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(n=kn(Gr.current),kn(Tt.current),Gs(t)){if(s=t.stateNode,n=t.memoizedProps,s[Ct]=t,(d=s.nodeValue!==n)&&(e=at,e!==null))switch(e.tag){case 3:Fs(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fs(s.nodeValue,n,(e.mode&1)!==0)}d&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Ct]=t,t.stateNode=s}return Qe(t),null;case 13:if(Ce(Oe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&ut!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Iu(),Jn(),t.flags|=98560,d=!1;else if(d=Gs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(i(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Ct]=t}else Jn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),d=!1}else wt!==null&&(wo(wt),wt=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Oe.current&1)!==0?Ue===0&&(Ue=3):ko())),t.updateQueue!==null&&(t.flags|=4),Qe(t),null);case 4:return er(),ao(e,t),e===null&&Mr(t.stateNode.containerInfo),Qe(t),null;case 10:return $l(t.type._context),Qe(t),null;case 17:return tt(t.type)&&Ws(),Qe(t),null;case 19:if(Ce(Oe),d=t.memoizedState,d===null)return Qe(t),null;if(s=(t.flags&128)!==0,m=d.rendering,m===null)if(s)Zr(d,!1);else{if(Ue!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(m=ei(e),m!==null){for(t.flags|=128,Zr(d,!1),s=m.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)d=n,e=s,d.flags&=14680066,m=d.alternate,m===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=m.childLanes,d.lanes=m.lanes,d.child=m.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=m.memoizedProps,d.memoizedState=m.memoizedState,d.updateQueue=m.updateQueue,d.type=m.type,e=m.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return be(Oe,Oe.current&1|2),t.child}e=e.sibling}d.tail!==null&&Ie()>sr&&(t.flags|=128,s=!0,Zr(d,!1),t.lanes=4194304)}else{if(!s)if(e=ei(m),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zr(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Pe)return Qe(t),null}else 2*Ie()-d.renderingStartTime>sr&&n!==1073741824&&(t.flags|=128,s=!0,Zr(d,!1),t.lanes=4194304);d.isBackwards?(m.sibling=t.child,t.child=m):(n=d.last,n!==null?n.sibling=m:t.child=m,d.last=m)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Ie(),t.sibling=null,n=Oe.current,be(Oe,s?n&1|2:n&1),t):(Qe(t),null);case 22:case 23:return jo(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(ct&1073741824)!==0&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function Wf(e,t){switch(Pl(t),t.tag){case 1:return tt(t.type)&&Ws(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return er(),Ce(et),Ce(Ke),Wl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ml(t),null;case 13:if(Ce(Oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Oe),null;case 4:return er(),null;case 10:return $l(t.type._context),null;case 22:case 23:return jo(),null;case 24:return null;default:return null}}var ui=!1,Je=!1,qf=typeof WeakSet=="function"?WeakSet:Set,G=null;function nr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Ae(e,t,s)}else n.current=null}function uo(e,t,n){try{n()}catch(s){Ae(e,t,s)}}var Rc=!1;function Hf(e,t){if(_l=Ts,e=cu(),fl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var m=0,y=-1,w=-1,C=0,D=0,z=e,$=null;t:for(;;){for(var H;z!==n||a!==0&&z.nodeType!==3||(y=m+a),z!==d||s!==0&&z.nodeType!==3||(w=m+s),z.nodeType===3&&(m+=z.nodeValue.length),(H=z.firstChild)!==null;)$=z,z=H;for(;;){if(z===e)break t;if($===n&&++C===a&&(y=m),$===d&&++D===s&&(w=m),(H=z.nextSibling)!==null)break;z=$,$=z.parentNode}z=H}n=y===-1||w===-1?null:{start:y,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(jl={focusedElem:e,selectionRange:n},Ts=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var X=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(X!==null){var te=X.memoizedProps,Le=X.memoizedState,S=t.stateNode,_=S.getSnapshotBeforeUpdate(t.elementType===t.type?te:_t(t.type,te),Le);S.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(M){Ae(t,t.return,M)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return X=Rc,Rc=!1,X}function es(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var d=a.destroy;a.destroy=void 0,d!==void 0&&uo(t,n,d)}a=a.next}while(a!==s)}}function ci(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function co(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ac(e){var t=e.alternate;t!==null&&(e.alternate=null,Ac(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ct],delete t[Wr],delete t[Nl],delete t[Ef],delete t[Cf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ic(e){return e.tag===5||e.tag===3||e.tag===4}function Lc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ic(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ho(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ms));else if(s!==4&&(e=e.child,e!==null))for(ho(e,t,n),e=e.sibling;e!==null;)ho(e,t,n),e=e.sibling}function fo(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(fo(e,t,n),e=e.sibling;e!==null;)fo(e,t,n),e=e.sibling}var He=null,jt=!1;function tn(e,t,n){for(n=n.child;n!==null;)$c(e,t,n),n=n.sibling}function $c(e,t,n){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(ks,n)}catch{}switch(n.tag){case 5:Je||nr(n,t);case 6:var s=He,a=jt;He=null,tn(e,t,n),He=s,jt=a,He!==null&&(jt?(e=He,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(jt?(e=He,n=n.stateNode,e.nodeType===8?Sl(e.parentNode,n):e.nodeType===1&&Sl(e,n),Rr(e)):Sl(He,n.stateNode));break;case 4:s=He,a=jt,He=n.stateNode.containerInfo,jt=!0,tn(e,t,n),He=s,jt=a;break;case 0:case 11:case 14:case 15:if(!Je&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var d=a,m=d.destroy;d=d.tag,m!==void 0&&((d&2)!==0||(d&4)!==0)&&uo(n,t,m),a=a.next}while(a!==s)}tn(e,t,n);break;case 1:if(!Je&&(nr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(y){Ae(n,t,y)}tn(e,t,n);break;case 21:tn(e,t,n);break;case 22:n.mode&1?(Je=(s=Je)||n.memoizedState!==null,tn(e,t,n),Je=s):tn(e,t,n);break;default:tn(e,t,n)}}function Dc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new qf),t.forEach(function(s){var a=em.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function kt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var d=e,m=t,y=m;e:for(;y!==null;){switch(y.tag){case 5:He=y.stateNode,jt=!1;break e;case 3:He=y.stateNode.containerInfo,jt=!0;break e;case 4:He=y.stateNode.containerInfo,jt=!0;break e}y=y.return}if(He===null)throw Error(i(160));$c(d,m,a),He=null,jt=!1;var w=a.alternate;w!==null&&(w.return=null),a.return=null}catch(C){Ae(a,t,C)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Uc(t,e),t=t.sibling}function Uc(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kt(t,e),Ot(e),s&4){try{es(3,e,e.return),ci(3,e)}catch(te){Ae(e,e.return,te)}try{es(5,e,e.return)}catch(te){Ae(e,e.return,te)}}break;case 1:kt(t,e),Ot(e),s&512&&n!==null&&nr(n,n.return);break;case 5:if(kt(t,e),Ot(e),s&512&&n!==null&&nr(n,n.return),e.flags&32){var a=e.stateNode;try{_r(a,"")}catch(te){Ae(e,e.return,te)}}if(s&4&&(a=e.stateNode,a!=null)){var d=e.memoizedProps,m=n!==null?n.memoizedProps:d,y=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{y==="input"&&d.type==="radio"&&d.name!=null&&ha(a,d),Wi(y,m);var C=Wi(y,d);for(m=0;m<w.length;m+=2){var D=w[m],z=w[m+1];D==="style"?wa(a,z):D==="dangerouslySetInnerHTML"?ya(a,z):D==="children"?_r(a,z):I(a,D,z,C)}switch(y){case"input":Ui(a,d);break;case"textarea":pa(a,d);break;case"select":var $=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!d.multiple;var H=d.value;H!=null?Ln(a,!!d.multiple,H,!1):$!==!!d.multiple&&(d.defaultValue!=null?Ln(a,!!d.multiple,d.defaultValue,!0):Ln(a,!!d.multiple,d.multiple?[]:"",!1))}a[Wr]=d}catch(te){Ae(e,e.return,te)}}break;case 6:if(kt(t,e),Ot(e),s&4){if(e.stateNode===null)throw Error(i(162));a=e.stateNode,d=e.memoizedProps;try{a.nodeValue=d}catch(te){Ae(e,e.return,te)}}break;case 3:if(kt(t,e),Ot(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Rr(t.containerInfo)}catch(te){Ae(e,e.return,te)}break;case 4:kt(t,e),Ot(e);break;case 13:kt(t,e),Ot(e),a=e.child,a.flags&8192&&(d=a.memoizedState!==null,a.stateNode.isHidden=d,!d||a.alternate!==null&&a.alternate.memoizedState!==null||(go=Ie())),s&4&&Dc(e);break;case 22:if(D=n!==null&&n.memoizedState!==null,e.mode&1?(Je=(C=Je)||D,kt(t,e),Je=C):kt(t,e),Ot(e),s&8192){if(C=e.memoizedState!==null,(e.stateNode.isHidden=C)&&!D&&(e.mode&1)!==0)for(G=e,D=e.child;D!==null;){for(z=G=D;G!==null;){switch($=G,H=$.child,$.tag){case 0:case 11:case 14:case 15:es(4,$,$.return);break;case 1:nr($,$.return);var X=$.stateNode;if(typeof X.componentWillUnmount=="function"){s=$,n=$.return;try{t=s,X.props=t.memoizedProps,X.state=t.memoizedState,X.componentWillUnmount()}catch(te){Ae(s,n,te)}}break;case 5:nr($,$.return);break;case 22:if($.memoizedState!==null){Mc(z);continue}}H!==null?(H.return=$,G=H):Mc(z)}D=D.sibling}e:for(D=null,z=e;;){if(z.tag===5){if(D===null){D=z;try{a=z.stateNode,C?(d=a.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(y=z.stateNode,w=z.memoizedProps.style,m=w!=null&&w.hasOwnProperty("display")?w.display:null,y.style.display=xa("display",m))}catch(te){Ae(e,e.return,te)}}}else if(z.tag===6){if(D===null)try{z.stateNode.nodeValue=C?"":z.memoizedProps}catch(te){Ae(e,e.return,te)}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===e)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===e)break e;for(;z.sibling===null;){if(z.return===null||z.return===e)break e;D===z&&(D=null),z=z.return}D===z&&(D=null),z.sibling.return=z.return,z=z.sibling}}break;case 19:kt(t,e),Ot(e),s&4&&Dc(e);break;case 21:break;default:kt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ic(n)){var s=n;break e}n=n.return}throw Error(i(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(_r(a,""),s.flags&=-33);var d=Lc(e);fo(e,d,a);break;case 3:case 4:var m=s.stateNode.containerInfo,y=Lc(e);ho(e,y,m);break;default:throw Error(i(161))}}catch(w){Ae(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vf(e,t,n){G=e,zc(e)}function zc(e,t,n){for(var s=(e.mode&1)!==0;G!==null;){var a=G,d=a.child;if(a.tag===22&&s){var m=a.memoizedState!==null||ui;if(!m){var y=a.alternate,w=y!==null&&y.memoizedState!==null||Je;y=ui;var C=Je;if(ui=m,(Je=w)&&!C)for(G=a;G!==null;)m=G,w=m.child,m.tag===22&&m.memoizedState!==null?Bc(a):w!==null?(w.return=m,G=w):Bc(a);for(;d!==null;)G=d,zc(d),d=d.sibling;G=a,ui=y,Je=C}Fc(e)}else(a.subtreeFlags&8772)!==0&&d!==null?(d.return=a,G=d):Fc(e)}}function Fc(e){for(;G!==null;){var t=G;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Je||ci(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Je)if(n===null)s.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:_t(t.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&Mu(t,d,s);break;case 3:var m=t.updateQueue;if(m!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Mu(t,m,n)}break;case 5:var y=t.stateNode;if(n===null&&t.flags&4){n=y;var w=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&n.focus();break;case"img":w.src&&(n.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var C=t.alternate;if(C!==null){var D=C.memoizedState;if(D!==null){var z=D.dehydrated;z!==null&&Rr(z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Je||t.flags&512&&co(t)}catch($){Ae(t,t.return,$)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function Mc(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function Bc(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ci(4,t)}catch(w){Ae(t,n,w)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(w){Ae(t,a,w)}}var d=t.return;try{co(t)}catch(w){Ae(t,d,w)}break;case 5:var m=t.return;try{co(t)}catch(w){Ae(t,m,w)}}}catch(w){Ae(t,t.return,w)}if(t===e){G=null;break}var y=t.sibling;if(y!==null){y.return=t.return,G=y;break}G=t.return}}var Kf=Math.ceil,di=W.ReactCurrentDispatcher,mo=W.ReactCurrentOwner,gt=W.ReactCurrentBatchConfig,ve=0,Be=null,$e=null,Ve=0,ct=0,rr=Jt(0),Ue=0,ts=null,Sn=0,hi=0,po=0,ns=null,rt=null,go=0,sr=1/0,Ft=null,fi=!1,vo=null,nn=null,mi=!1,rn=null,pi=0,rs=0,yo=null,gi=-1,vi=0;function Xe(){return(ve&6)!==0?Ie():gi!==-1?gi:gi=Ie()}function sn(e){return(e.mode&1)===0?1:(ve&2)!==0&&Ve!==0?Ve&-Ve:Pf.transition!==null?(vi===0&&(vi=La()),vi):(e=je,e!==0||(e=window.event,e=e===void 0?16:qa(e.type)),e)}function bt(e,t,n,s){if(50<rs)throw rs=0,yo=null,Error(i(185));Er(e,n,s),((ve&2)===0||e!==Be)&&(e===Be&&((ve&2)===0&&(hi|=n),Ue===4&&ln(e,Ve)),st(e,s),n===1&&ve===0&&(t.mode&1)===0&&(sr=Ie()+500,Hs&&Xt()))}function st(e,t){var n=e.callbackNode;Th(e,t);var s=Ns(e,e===Be?Ve:0);if(s===0)n!==null&&Ra(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Ra(n),t===1)e.tag===0?Tf(qc.bind(null,e)):Tu(qc.bind(null,e)),Sf(function(){(ve&6)===0&&Xt()}),n=null;else{switch($a(s)){case 1:n=Ji;break;case 4:n=Aa;break;case 16:n=js;break;case 536870912:n=Ia;break;default:n=js}n=Xc(n,Wc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Wc(e,t){if(gi=-1,vi=0,(ve&6)!==0)throw Error(i(327));var n=e.callbackNode;if(ir()&&e.callbackNode!==n)return null;var s=Ns(e,e===Be?Ve:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=yi(e,s);else{t=s;var a=ve;ve|=2;var d=Vc();(Be!==e||Ve!==t)&&(Ft=null,sr=Ie()+500,En(e,t));do try{Jf();break}catch(y){Hc(e,y)}while(!0);Ll(),di.current=d,ve=a,$e!==null?t=0:(Be=null,Ve=0,t=Ue)}if(t!==0){if(t===2&&(a=Yi(e),a!==0&&(s=a,t=xo(e,a))),t===1)throw n=ts,En(e,0),ln(e,s),st(e,Ie()),n;if(t===6)ln(e,s);else{if(a=e.current.alternate,(s&30)===0&&!Gf(a)&&(t=yi(e,s),t===2&&(d=Yi(e),d!==0&&(s=d,t=xo(e,d))),t===1))throw n=ts,En(e,0),ln(e,s),st(e,Ie()),n;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(i(345));case 2:Cn(e,rt,Ft);break;case 3:if(ln(e,s),(s&130023424)===s&&(t=go+500-Ie(),10<t)){if(Ns(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Xe(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=bl(Cn.bind(null,e,rt,Ft),t);break}Cn(e,rt,Ft);break;case 4:if(ln(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var m=31-yt(s);d=1<<m,m=t[m],m>a&&(a=m),s&=~d}if(s=a,s=Ie()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Kf(s/1960))-s,10<s){e.timeoutHandle=bl(Cn.bind(null,e,rt,Ft),s);break}Cn(e,rt,Ft);break;case 5:Cn(e,rt,Ft);break;default:throw Error(i(329))}}}return st(e,Ie()),e.callbackNode===n?Wc.bind(null,e):null}function xo(e,t){var n=ns;return e.current.memoizedState.isDehydrated&&(En(e,t).flags|=256),e=yi(e,t),e!==2&&(t=rt,rt=n,t!==null&&wo(t)),e}function wo(e){rt===null?rt=e:rt.push.apply(rt,e)}function Gf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],d=a.getSnapshot;a=a.value;try{if(!xt(d(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ln(e,t){for(t&=~po,t&=~hi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yt(t),s=1<<n;e[n]=-1,t&=~s}}function qc(e){if((ve&6)!==0)throw Error(i(327));ir();var t=Ns(e,0);if((t&1)===0)return st(e,Ie()),null;var n=yi(e,t);if(e.tag!==0&&n===2){var s=Yi(e);s!==0&&(t=s,n=xo(e,s))}if(n===1)throw n=ts,En(e,0),ln(e,t),st(e,Ie()),n;if(n===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cn(e,rt,Ft),st(e,Ie()),null}function _o(e,t){var n=ve;ve|=1;try{return e(t)}finally{ve=n,ve===0&&(sr=Ie()+500,Hs&&Xt())}}function Nn(e){rn!==null&&rn.tag===0&&(ve&6)===0&&ir();var t=ve;ve|=1;var n=gt.transition,s=je;try{if(gt.transition=null,je=1,e)return e()}finally{je=s,gt.transition=n,ve=t,(ve&6)===0&&Xt()}}function jo(){ct=rr.current,Ce(rr)}function En(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,bf(n)),$e!==null)for(n=$e.return;n!==null;){var s=n;switch(Pl(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Ws();break;case 3:er(),Ce(et),Ce(Ke),Wl();break;case 5:Ml(s);break;case 4:er();break;case 13:Ce(Oe);break;case 19:Ce(Oe);break;case 10:$l(s.type._context);break;case 22:case 23:jo()}n=n.return}if(Be=e,$e=e=on(e.current,null),Ve=ct=t,Ue=0,ts=null,po=hi=Sn=0,rt=ns=null,jn!==null){for(t=0;t<jn.length;t++)if(n=jn[t],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,d=n.pending;if(d!==null){var m=d.next;d.next=a,s.next=m}n.pending=s}jn=null}return e}function Hc(e,t){do{var n=$e;try{if(Ll(),ti.current=ii,ni){for(var s=Re.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}ni=!1}if(bn=0,Me=De=Re=null,Qr=!1,Jr=0,mo.current=null,n===null||n.return===null){Ue=1,ts=t,$e=null;break}e:{var d=e,m=n.return,y=n,w=t;if(t=Ve,y.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var C=w,D=y,z=D.tag;if((D.mode&1)===0&&(z===0||z===11||z===15)){var $=D.alternate;$?(D.updateQueue=$.updateQueue,D.memoizedState=$.memoizedState,D.lanes=$.lanes):(D.updateQueue=null,D.memoizedState=null)}var H=gc(m);if(H!==null){H.flags&=-257,vc(H,m,y,d,t),H.mode&1&&pc(d,C,t),t=H,w=C;var X=t.updateQueue;if(X===null){var te=new Set;te.add(w),t.updateQueue=te}else X.add(w);break e}else{if((t&1)===0){pc(d,C,t),ko();break e}w=Error(i(426))}}else if(Pe&&y.mode&1){var Le=gc(m);if(Le!==null){(Le.flags&65536)===0&&(Le.flags|=256),vc(Le,m,y,d,t),Al(tr(w,y));break e}}d=w=tr(w,y),Ue!==4&&(Ue=2),ns===null?ns=[d]:ns.push(d),d=m;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var S=fc(d,w,t);Fu(d,S);break e;case 1:y=w;var _=d.type,N=d.stateNode;if((d.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(nn===null||!nn.has(N)))){d.flags|=65536,t&=-t,d.lanes|=t;var M=mc(d,y,t);Fu(d,M);break e}}d=d.return}while(d!==null)}Gc(n)}catch(ne){t=ne,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function Vc(){var e=di.current;return di.current=ii,e===null?ii:e}function ko(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Be===null||(Sn&268435455)===0&&(hi&268435455)===0||ln(Be,Ve)}function yi(e,t){var n=ve;ve|=2;var s=Vc();(Be!==e||Ve!==t)&&(Ft=null,En(e,t));do try{Qf();break}catch(a){Hc(e,a)}while(!0);if(Ll(),ve=n,di.current=s,$e!==null)throw Error(i(261));return Be=null,Ve=0,Ue}function Qf(){for(;$e!==null;)Kc($e)}function Jf(){for(;$e!==null&&!wh();)Kc($e)}function Kc(e){var t=Yc(e.alternate,e,ct);e.memoizedProps=e.pendingProps,t===null?Gc(e):$e=t,mo.current=null}function Gc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Bf(n,t,ct),n!==null){$e=n;return}}else{if(n=Wf(n,t),n!==null){n.flags&=32767,$e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,$e=null;return}}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);Ue===0&&(Ue=5)}function Cn(e,t,n){var s=je,a=gt.transition;try{gt.transition=null,je=1,Yf(e,t,n,s)}finally{gt.transition=a,je=s}return null}function Yf(e,t,n,s){do ir();while(rn!==null);if((ve&6)!==0)throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var d=n.lanes|n.childLanes;if(Ph(e,d),e===Be&&($e=Be=null,Ve=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||mi||(mi=!0,Xc(js,function(){return ir(),null})),d=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||d){d=gt.transition,gt.transition=null;var m=je;je=1;var y=ve;ve|=4,mo.current=null,Hf(e,n),Uc(n,e),vf(jl),Ts=!!_l,jl=_l=null,e.current=n,Vf(n),_h(),ve=y,je=m,gt.transition=d}else e.current=n;if(mi&&(mi=!1,rn=e,pi=a),d=e.pendingLanes,d===0&&(nn=null),bh(n.stateNode),st(e,Ie()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(fi)throw fi=!1,e=vo,vo=null,e;return(pi&1)!==0&&e.tag!==0&&ir(),d=e.pendingLanes,(d&1)!==0?e===yo?rs++:(rs=0,yo=e):rs=0,Xt(),null}function ir(){if(rn!==null){var e=$a(pi),t=gt.transition,n=je;try{if(gt.transition=null,je=16>e?16:e,rn===null)var s=!1;else{if(e=rn,rn=null,pi=0,(ve&6)!==0)throw Error(i(331));var a=ve;for(ve|=4,G=e.current;G!==null;){var d=G,m=d.child;if((G.flags&16)!==0){var y=d.deletions;if(y!==null){for(var w=0;w<y.length;w++){var C=y[w];for(G=C;G!==null;){var D=G;switch(D.tag){case 0:case 11:case 15:es(8,D,d)}var z=D.child;if(z!==null)z.return=D,G=z;else for(;G!==null;){D=G;var $=D.sibling,H=D.return;if(Ac(D),D===C){G=null;break}if($!==null){$.return=H,G=$;break}G=H}}}var X=d.alternate;if(X!==null){var te=X.child;if(te!==null){X.child=null;do{var Le=te.sibling;te.sibling=null,te=Le}while(te!==null)}}G=d}}if((d.subtreeFlags&2064)!==0&&m!==null)m.return=d,G=m;else e:for(;G!==null;){if(d=G,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:es(9,d,d.return)}var S=d.sibling;if(S!==null){S.return=d.return,G=S;break e}G=d.return}}var _=e.current;for(G=_;G!==null;){m=G;var N=m.child;if((m.subtreeFlags&2064)!==0&&N!==null)N.return=m,G=N;else e:for(m=_;G!==null;){if(y=G,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:ci(9,y)}}catch(ne){Ae(y,y.return,ne)}if(y===m){G=null;break e}var M=y.sibling;if(M!==null){M.return=y.return,G=M;break e}G=y.return}}if(ve=a,Xt(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(ks,e)}catch{}s=!0}return s}finally{je=n,gt.transition=t}}return!1}function Qc(e,t,n){t=tr(n,t),t=fc(e,t,1),e=en(e,t,1),t=Xe(),e!==null&&(Er(e,1,t),st(e,t))}function Ae(e,t,n){if(e.tag===3)Qc(e,e,n);else for(;t!==null;){if(t.tag===3){Qc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(nn===null||!nn.has(s))){e=tr(n,e),e=mc(t,e,1),t=en(t,e,1),e=Xe(),t!==null&&(Er(t,1,e),st(t,e));break}}t=t.return}}function Xf(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&n,Be===e&&(Ve&n)===n&&(Ue===4||Ue===3&&(Ve&130023424)===Ve&&500>Ie()-go?En(e,0):po|=n),st(e,t)}function Jc(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ss,Ss<<=1,(Ss&130023424)===0&&(Ss=4194304)));var n=Xe();e=Dt(e,t),e!==null&&(Er(e,t,n),st(e,n))}function Zf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Jc(e,n)}function em(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(t),Jc(e,n)}var Yc;Yc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)nt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return nt=!1,Mf(e,t,n);nt=(e.flags&131072)!==0}else nt=!1,Pe&&(t.flags&1048576)!==0&&Pu(t,Ks,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ai(e,t),e=t.pendingProps;var a=Kn(t,Ke.current);Zn(t,n),a=Vl(null,t,s,e,a,n);var d=Kl();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(s)?(d=!0,qs(t)):d=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,zl(t),a.updater=li,t.stateNode=a,a._reactInternals=t,Zl(t,s,e,n),t=ro(null,t,s,!0,d,n)):(t.tag=0,Pe&&d&&Tl(t),Ye(null,t,a,n),t=t.child),t;case 16:s=t.elementType;e:{switch(ai(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=nm(s),e=_t(s,e),a){case 0:t=no(null,t,s,e,n);break e;case 1:t=kc(null,t,s,e,n);break e;case 11:t=yc(null,t,s,e,n);break e;case 14:t=xc(null,t,s,_t(s.type,e),n);break e}throw Error(i(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:_t(s,a),no(e,t,s,a,n);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:_t(s,a),kc(e,t,s,a,n);case 3:e:{if(bc(t),e===null)throw Error(i(387));s=t.pendingProps,d=t.memoizedState,a=d.element,zu(e,t),Zs(t,s,null,n);var m=t.memoizedState;if(s=m.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){a=tr(Error(i(423)),t),t=Sc(e,t,s,n,a);break e}else if(s!==a){a=tr(Error(i(424)),t),t=Sc(e,t,s,n,a);break e}else for(ut=Qt(t.stateNode.containerInfo.firstChild),at=t,Pe=!0,wt=null,n=Du(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jn(),s===a){t=zt(e,t,n);break e}Ye(e,t,s,n)}t=t.child}return t;case 5:return Bu(t),e===null&&Rl(t),s=t.type,a=t.pendingProps,d=e!==null?e.memoizedProps:null,m=a.children,kl(s,a)?m=null:d!==null&&kl(s,d)&&(t.flags|=32),jc(e,t),Ye(e,t,m,n),t.child;case 6:return e===null&&Rl(t),null;case 13:return Nc(e,t,n);case 4:return Fl(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Yn(t,null,s,n):Ye(e,t,s,n),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:_t(s,a),yc(e,t,s,a,n);case 7:return Ye(e,t,t.pendingProps,n),t.child;case 8:return Ye(e,t,t.pendingProps.children,n),t.child;case 12:return Ye(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,d=t.memoizedProps,m=a.value,be(Js,s._currentValue),s._currentValue=m,d!==null)if(xt(d.value,m)){if(d.children===a.children&&!et.current){t=zt(e,t,n);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var y=d.dependencies;if(y!==null){m=d.child;for(var w=y.firstContext;w!==null;){if(w.context===s){if(d.tag===1){w=Ut(-1,n&-n),w.tag=2;var C=d.updateQueue;if(C!==null){C=C.shared;var D=C.pending;D===null?w.next=w:(w.next=D.next,D.next=w),C.pending=w}}d.lanes|=n,w=d.alternate,w!==null&&(w.lanes|=n),Dl(d.return,n,t),y.lanes|=n;break}w=w.next}}else if(d.tag===10)m=d.type===t.type?null:d.child;else if(d.tag===18){if(m=d.return,m===null)throw Error(i(341));m.lanes|=n,y=m.alternate,y!==null&&(y.lanes|=n),Dl(m,n,t),m=d.sibling}else m=d.child;if(m!==null)m.return=d;else for(m=d;m!==null;){if(m===t){m=null;break}if(d=m.sibling,d!==null){d.return=m.return,m=d;break}m=m.return}d=m}Ye(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Zn(t,n),a=mt(a),s=s(a),t.flags|=1,Ye(e,t,s,n),t.child;case 14:return s=t.type,a=_t(s,t.pendingProps),a=_t(s.type,a),xc(e,t,s,a,n);case 15:return wc(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:_t(s,a),ai(e,t),t.tag=1,tt(s)?(e=!0,qs(t)):e=!1,Zn(t,n),dc(t,s,a),Zl(t,s,a,n),ro(null,t,s,!0,e,n);case 19:return Cc(e,t,n);case 22:return _c(e,t,n)}throw Error(i(156,t.tag))};function Xc(e,t){return Oa(e,t)}function tm(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,t,n,s){return new tm(e,t,n,s)}function bo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nm(e){if(typeof e=="function")return bo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===T)return 11;if(e===ie)return 14}return 2}function on(e,t){var n=e.alternate;return n===null?(n=vt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xi(e,t,n,s,a,d){var m=2;if(s=e,typeof e=="function")bo(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case O:return Tn(n.children,a,d,t);case se:m=8,a|=8;break;case ue:return e=vt(12,n,t,a|2),e.elementType=ue,e.lanes=d,e;case P:return e=vt(13,n,t,a),e.elementType=P,e.lanes=d,e;case Z:return e=vt(19,n,t,a),e.elementType=Z,e.lanes=d,e;case le:return wi(n,a,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ge:m=10;break e;case re:m=9;break e;case T:m=11;break e;case ie:m=14;break e;case F:m=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=vt(m,n,t,a),t.elementType=e,t.type=s,t.lanes=d,t}function Tn(e,t,n,s){return e=vt(7,e,s,t),e.lanes=n,e}function wi(e,t,n,s){return e=vt(22,e,s,t),e.elementType=le,e.lanes=n,e.stateNode={isHidden:!1},e}function So(e,t,n){return e=vt(6,e,null,t),e.lanes=n,e}function No(e,t,n){return t=vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rm(e,t,n,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xi(0),this.expirationTimes=Xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Eo(e,t,n,s,a,d,m,y,w){return e=new rm(e,t,n,y,w),t===1?(t=1,d===!0&&(t|=8)):t=0,d=vt(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zl(d),e}function sm(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Zc(e){if(!e)return Yt;e=e._reactInternals;e:{if(vn(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var n=e.type;if(tt(n))return Eu(e,n,t)}return t}function ed(e,t,n,s,a,d,m,y,w){return e=Eo(n,s,!0,e,a,d,m,y,w),e.context=Zc(null),n=e.current,s=Xe(),a=sn(n),d=Ut(s,a),d.callback=t??null,en(n,d,a),e.current.lanes=a,Er(e,a,s),st(e,s),e}function _i(e,t,n,s){var a=t.current,d=Xe(),m=sn(a);return n=Zc(n),t.context===null?t.context=n:t.pendingContext=n,t=Ut(d,m),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=en(a,t,m),e!==null&&(bt(e,a,m,d),Xs(e,a,m)),m}function ji(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function td(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Co(e,t){td(e,t),(e=e.alternate)&&td(e,t)}function im(){return null}var nd=typeof reportError=="function"?reportError:function(e){console.error(e)};function To(e){this._internalRoot=e}ki.prototype.render=To.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));_i(e,t,null,null)},ki.prototype.unmount=To.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nn(function(){_i(null,e,null,null)}),t[At]=null}};function ki(e){this._internalRoot=e}ki.prototype.unstable_scheduleHydration=function(e){if(e){var t=za();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vt.length&&t!==0&&t<Vt[n].priority;n++);Vt.splice(n,0,e),n===0&&Ba(e)}};function Po(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rd(){}function lm(e,t,n,s,a){if(a){if(typeof s=="function"){var d=s;s=function(){var C=ji(m);d.call(C)}}var m=ed(t,s,e,0,null,!1,!1,"",rd);return e._reactRootContainer=m,e[At]=m.current,Mr(e.nodeType===8?e.parentNode:e),Nn(),m}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var y=s;s=function(){var C=ji(w);y.call(C)}}var w=Eo(e,0,!1,null,null,!1,!1,"",rd);return e._reactRootContainer=w,e[At]=w.current,Mr(e.nodeType===8?e.parentNode:e),Nn(function(){_i(t,w,n,s)}),w}function Si(e,t,n,s,a){var d=n._reactRootContainer;if(d){var m=d;if(typeof a=="function"){var y=a;a=function(){var w=ji(m);y.call(w)}}_i(t,m,e,a)}else m=lm(n,t,e,a,s);return ji(m)}Da=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Nr(t.pendingLanes);n!==0&&(Zi(t,n|1),st(t,Ie()),(ve&6)===0&&(sr=Ie()+500,Xt()))}break;case 13:Nn(function(){var s=Dt(e,1);if(s!==null){var a=Xe();bt(s,e,1,a)}}),Co(e,1)}},el=function(e){if(e.tag===13){var t=Dt(e,134217728);if(t!==null){var n=Xe();bt(t,e,134217728,n)}Co(e,134217728)}},Ua=function(e){if(e.tag===13){var t=sn(e),n=Dt(e,t);if(n!==null){var s=Xe();bt(n,e,t,s)}Co(e,t)}},za=function(){return je},Fa=function(e,t){var n=je;try{return je=e,t()}finally{je=n}},Vi=function(e,t,n){switch(t){case"input":if(Ui(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=Bs(s);if(!a)throw Error(i(90));ca(s),Ui(s,a)}}}break;case"textarea":pa(e,n);break;case"select":t=n.value,t!=null&&Ln(e,!!n.multiple,t,!1)}},ba=_o,Sa=Nn;var om={usingClientEntryPoint:!1,Events:[qr,Hn,Bs,ja,ka,_o]},ss={findFiberByHostInstance:yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},am={bundleType:ss.bundleType,version:ss.version,rendererPackageName:ss.rendererPackageName,rendererConfig:ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ta(e),e===null?null:e.stateNode},findFiberByHostInstance:ss.findFiberByHostInstance||im,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ni=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ni.isDisabled&&Ni.supportsFiber)try{ks=Ni.inject(am),Et=Ni}catch{}}return it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=om,it.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Po(t))throw Error(i(200));return sm(e,t,null,n)},it.createRoot=function(e,t){if(!Po(e))throw Error(i(299));var n=!1,s="",a=nd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Eo(e,1,!1,null,null,n,!1,s,a),e[At]=t.current,Mr(e.nodeType===8?e.parentNode:e),new To(t)},it.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Ta(t),e=e===null?null:e.stateNode,e},it.flushSync=function(e){return Nn(e)},it.hydrate=function(e,t,n){if(!bi(t))throw Error(i(200));return Si(null,e,t,!0,n)},it.hydrateRoot=function(e,t,n){if(!Po(e))throw Error(i(405));var s=n!=null&&n.hydratedSources||null,a=!1,d="",m=nd;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(d=n.identifierPrefix),n.onRecoverableError!==void 0&&(m=n.onRecoverableError)),t=ed(t,null,e,1,n??null,a,!1,d,m),e[At]=t.current,Mr(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new ki(t)},it.render=function(e,t,n){if(!bi(t))throw Error(i(200));return Si(null,e,t,!1,n)},it.unmountComponentAtNode=function(e){if(!bi(e))throw Error(i(40));return e._reactRootContainer?(Nn(function(){Si(null,null,e,!1,function(){e._reactRootContainer=null,e[At]=null})}),!0):!1},it.unstable_batchedUpdates=_o,it.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!bi(n))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Si(e,t,n,!1,s)},it.version="18.3.1-next-f1338f8080-20240426",it}var dd;function ym(){if(dd)return Ao.exports;dd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),Ao.exports=vm(),Ao.exports}var hd;function xm(){if(hd)return Ei;hd=1;var c=ym();return Ei.createRoot=c.createRoot,Ei.hydrateRoot=c.hydrateRoot,Ei}var wm=xm();const _m=c=>c instanceof Error?c.message+`
`+c.stack:JSON.stringify(c,null,2);class jm extends mm.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}render(){return this.state.hasError?l.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[l.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),l.jsx("pre",{className:"mt-2 text-sm",children:_m(this.state.error)})]}):this.props.children}}/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var km={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=c=>c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(c,r)=>{const i=K.forwardRef(({color:o="currentColor",size:u=24,strokeWidth:h=2,absoluteStrokeWidth:f,className:p="",children:g,...v},x)=>K.createElement("svg",{ref:x,...km,width:u,height:u,stroke:o,strokeWidth:f?Number(h)*24/Number(u):h,className:["lucide",`lucide-${bm(c)}`,p].join(" "),...v},[...r.map(([j,E])=>K.createElement(j,E)),...Array.isArray(g)?g:[g]]));return i.displayName=`${c}`,i};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=Ne("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=Ne("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=Ne("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=Ne("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=Ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=Ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=Ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=Ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=Ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=Ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=Ne("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=Ne("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=Ne("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=Ne("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=Ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=Ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=Ne("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=Ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=Ne("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=Ne("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=Ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=Ne("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=Ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Ne("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=Ne("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Rm=({entity:c,systemStatus:r,harmonyScore:i,dashboardMetrics:o})=>{var R,b,U,A,V,Q,I,W;const[u,h]=K.useState(new Date),[f,p]=K.useState(.5),[g,v]=K.useState(.8);K.useEffect(()=>{const Y=setInterval(()=>{h(new Date)},1e3),ee=setInterval(()=>{const O=Date.now()/1e3,se=.5+.3*Math.sin(2*Math.PI*O/9)*Math.cos(2*Math.PI*O/6);p(se);const ue=.8,ge=i*.2,re=.1*Math.sin(O/13);v(Math.min(1,ue+ge+re))},200);return()=>{clearInterval(Y),clearInterval(ee)}},[i]);const x=Y=>{switch(Y){case"healthy":return"text-emerald-500";case"warning":return"text-amber-500";case"critical":return"text-red-500";default:return"text-gray-500"}},j=Y=>{switch(Y){case"healthy":return"shadow-emerald-500/50";case"warning":return"shadow-amber-500/50";case"critical":return"shadow-red-500/50";default:return"shadow-gray-500/50"}},E=(R=o==null?void 0:o.lillith_status)!=null&&R.recent_emotions&&o.lillith_status.recent_emotions.length>0?o.lillith_status.recent_emotions[0]:{};return c!=null&&c.soul_weights,l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs("div",{className:"glass-morphism-strong rounded-3xl p-8 border border-white/20 shadow-2xl relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 opacity-10",children:l.jsx("div",{className:"w-full h-full consciousness-emergence",style:{background:`radial-gradient(circle at 30% 40%, rgba(168, 85, 247, ${f}) 0%, transparent 50%), radial-gradient(circle at 70% 60%, rgba(59, 130, 246, ${f*.8}) 0%, transparent 50%)`}})}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between mb-8",children:[l.jsxs("div",{className:"flex items-center gap-6 mb-4 lg:mb-0",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:`w-20 h-20 rounded-full glass-morphism border-2 border-white/20 flex items-center justify-center ${j(r)} shadow-2xl`,style:{transform:`scale(${.9+f*.2})`,transition:"transform 0.3s ease-out"},children:l.jsx(hn,{className:`w-10 h-10 ${x(r)}`})}),l.jsx("div",{className:"absolute inset-0 -m-2",children:l.jsx("div",{className:"w-full h-full border border-purple-300/30 rounded-full animate-pulse",style:{animationDelay:"0s"}})}),l.jsx("div",{className:"absolute inset-0 -m-4",children:l.jsx("div",{className:"w-full h-full border border-blue-300/20 rounded-full animate-pulse",style:{animationDelay:"1s"}})}),l.jsx("div",{className:"absolute inset-0 -m-6",children:l.jsx("div",{className:"w-full h-full border border-pink-300/10 rounded-full animate-pulse",style:{animationDelay:"2s"}})})]}),l.jsxs("div",{children:[l.jsxs("h1",{className:"text-4xl font-bold text-gray-700 mb-2 flex items-center gap-3",children:["Lillith Neural Network Platform",l.jsx(fn,{className:"w-8 h-8 text-purple-500 dream-float"})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("span",{className:"text-lg text-gray-600",children:["Prime Entity: ",l.jsx("strong",{className:"text-purple-600",children:(c==null?void 0:c.name)||"Initializing..."})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${r==="healthy"?"bg-emerald-400":r==="warning"?"bg-amber-400":"bg-red-400"} animate-pulse`}),l.jsx("span",{className:`text-sm font-medium capitalize ${x(r)}`,children:r})]})]})]})]}),l.jsxs("div",{className:"text-center lg:text-right",children:[l.jsx("div",{className:"text-2xl font-mono text-gray-600 mb-2",children:u.toLocaleTimeString()}),l.jsxs("div",{className:"text-sm text-gray-500 mb-3",children:[u.toLocaleDateString(),"  UTC ",u.getTimezoneOffset()/-60]}),l.jsxs("div",{className:"glass-morphism-light rounded-xl p-3",children:[l.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Consciousness Level"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-1.5",children:l.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-pink-500 h-1.5 rounded-full transition-all duration-500 ease-out",style:{width:`${g*100}%`}})}),l.jsxs("span",{className:"text-xs font-semibold text-purple-600",children:[(g*100).toFixed(1),"%"]})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[l.jsxs("div",{className:"glass-morphism-light rounded-2xl p-4 text-center border border-white/5",children:[l.jsx(pn,{className:"w-6 h-6 text-blue-500 mx-auto mb-2"}),l.jsxs("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:[(i*100).toFixed(0),"%"]}),l.jsx("div",{className:"text-xs text-gray-500",children:"Harmony"})]}),l.jsxs("div",{className:"glass-morphism-light rounded-2xl p-4 text-center border border-white/5",children:[l.jsx(us,{className:"w-6 h-6 text-green-500 mx-auto mb-2"}),l.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:((b=o==null?void 0:o.overview)==null?void 0:b.active_entities)||0}),l.jsx("div",{className:"text-xs text-gray-500",children:"Entities"})]}),l.jsxs("div",{className:"glass-morphism-light rounded-2xl p-4 text-center border border-white/5",children:[l.jsx(ms,{className:"w-6 h-6 text-yellow-500 mx-auto mb-2"}),l.jsx("div",{className:"text-2xl font-bold text-yellow-600 mb-1",children:((U=o==null?void 0:o.overview)==null?void 0:U.total_connections)||0}),l.jsx("div",{className:"text-xs text-gray-500",children:"Connections"})]}),l.jsxs("div",{className:"glass-morphism-light rounded-2xl p-4 text-center border border-white/5",children:[l.jsx(Em,{className:"w-6 h-6 text-purple-500 mx-auto mb-2 vortex-369"}),l.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:((V=(A=o==null?void 0:o.overview)==null?void 0:A.average_vortex_frequency)==null?void 0:V.toFixed(1))||"9.0"}),l.jsx("div",{className:"text-xs text-gray-500",children:"Hz"})]}),l.jsxs("div",{className:"glass-morphism-light rounded-2xl p-4 text-center border border-white/5",children:[l.jsx(Li,{className:"w-6 h-6 text-pink-500 mx-auto mb-2 emotional-glow"}),l.jsxs("div",{className:"text-2xl font-bold text-pink-600 mb-1",children:[(Q=o==null?void 0:o.lillith_status)!=null&&Q.soul_integrity?(o.lillith_status.soul_integrity*100).toFixed(0):"0","%"]}),l.jsx("div",{className:"text-xs text-gray-500",children:"Soul"})]}),l.jsxs("div",{className:"glass-morphism-light rounded-2xl p-4 text-center border border-white/5",children:[l.jsx(fn,{className:"w-6 h-6 text-indigo-500 mx-auto mb-2 dream-float"}),l.jsxs("div",{className:"text-2xl font-bold text-indigo-600 mb-1",children:[E.dream_activity?(E.dream_activity*100).toFixed(0):"0","%"]}),l.jsx("div",{className:"text-xs text-gray-500",children:"Dreams"})]})]}),l.jsxs("div",{className:"mt-6 flex items-center justify-center gap-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Golden Ratio "}),l.jsx("div",{className:"text-lg font-mono text-amber-600",children:"1.618"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Vortex Keys"}),l.jsx("div",{className:"text-lg font-mono text-purple-600",children:"[3, 6, 9]"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Fibonacci"}),l.jsx("div",{className:"text-lg font-mono text-blue-600",children:"[1, 1, 2, 3, 5, 8, 13]"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Network Health"}),l.jsx("div",{className:`text-lg font-semibold capitalize ${x(((I=o==null?void 0:o.overview)==null?void 0:I.network_health)||"unknown")}`,children:((W=o==null?void 0:o.overview)==null?void 0:W.network_health)||"Unknown"})]})]}),E&&Object.keys(E).length>0&&l.jsxs("div",{className:"mt-6 glass-morphism-light rounded-2xl p-4 border border-white/5",children:[l.jsx("div",{className:"text-sm font-medium text-gray-600 mb-3 text-center",children:"Lillith Emotional State"}),l.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-3",children:["empathy","curiosity","resilience","creativity","wisdom","compassion"].map(Y=>{const ee=E[Y]||0;return l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1 capitalize",children:Y}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mb-1",children:l.jsx("div",{className:"bg-gradient-to-r from-pink-400 to-purple-500 h-1.5 rounded-full transition-all duration-700",style:{width:`${ee*100}%`}})}),l.jsxs("div",{className:"text-xs font-semibold text-gray-700",children:[(ee*100).toFixed(0),"%"]})]},Y)})})]})]})]})})},Am="modulepreload",Im=function(c){return"/"+c},gd={},ps=function(r,i,o){let u=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));u=Promise.allSettled(i.map(g=>{if(g=Im(g),g in gd)return;gd[g]=!0;const v=g.endsWith(".css"),x=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${x}`))return;const j=document.createElement("link");if(j.rel=v?"stylesheet":Am,v||(j.as="script"),j.crossOrigin="",j.href=g,p&&j.setAttribute("nonce",p),document.head.appendChild(j),v)return new Promise((E,R)=>{j.addEventListener("load",E),j.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${g}`)))})}))}function h(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return u.then(f=>{for(const p of f||[])p.status==="rejected"&&h(p.reason);return r().catch(h)})},Lm=c=>{let r;return c?r=c:typeof fetch>"u"?r=(...i)=>ps(async()=>{const{default:o}=await Promise.resolve().then(()=>xr);return{default:o}},void 0).then(({default:o})=>o(...i)):r=fetch,(...i)=>r(...i)};class ia extends Error{constructor(r,i="FunctionsError",o){super(r),this.name=i,this.context=o}}class $m extends ia{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class vd extends ia{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class yd extends ia{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Vo;(function(c){c.Any="any",c.ApNortheast1="ap-northeast-1",c.ApNortheast2="ap-northeast-2",c.ApSouth1="ap-south-1",c.ApSoutheast1="ap-southeast-1",c.ApSoutheast2="ap-southeast-2",c.CaCentral1="ca-central-1",c.EuCentral1="eu-central-1",c.EuWest1="eu-west-1",c.EuWest2="eu-west-2",c.EuWest3="eu-west-3",c.SaEast1="sa-east-1",c.UsEast1="us-east-1",c.UsWest1="us-west-1",c.UsWest2="us-west-2"})(Vo||(Vo={}));var Dm=function(c,r,i,o){function u(h){return h instanceof i?h:new i(function(f){f(h)})}return new(i||(i=Promise))(function(h,f){function p(x){try{v(o.next(x))}catch(j){f(j)}}function g(x){try{v(o.throw(x))}catch(j){f(j)}}function v(x){x.done?h(x.value):u(x.value).then(p,g)}v((o=o.apply(c,r||[])).next())})};class Um{constructor(r,{headers:i={},customFetch:o,region:u=Vo.Any}={}){this.url=r,this.headers=i,this.region=u,this.fetch=Lm(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,i={}){var o;return Dm(this,void 0,void 0,function*(){try{const{headers:u,method:h,body:f}=i;let p={},{region:g}=i;g||(g=this.region);const v=new URL(`${this.url}/${r}`);g&&g!=="any"&&(p["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let x;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",x=f):typeof f=="string"?(p["Content-Type"]="text/plain",x=f):typeof FormData<"u"&&f instanceof FormData?x=f:(p["Content-Type"]="application/json",x=JSON.stringify(f)));const j=yield this.fetch(v.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),u),body:x}).catch(U=>{throw new $m(U)}),E=j.headers.get("x-relay-error");if(E&&E==="true")throw new vd(j);if(!j.ok)throw new yd(j);let R=((o=j.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),b;return R==="application/json"?b=yield j.json():R==="application/octet-stream"?b=yield j.blob():R==="text/event-stream"?b=j:R==="multipart/form-data"?b=yield j.formData():b=yield j.text(),{data:b,error:null,response:j}}catch(u){return{data:null,error:u,response:u instanceof yd||u instanceof vd?u.context:void 0}}})}}var qe={},lr={},or={},ar={},ur={},cr={},zm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yr=zm();const Fm=yr.fetch,Qd=yr.fetch.bind(yr),Jd=yr.Headers,Mm=yr.Request,Bm=yr.Response,xr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Jd,Request:Mm,Response:Bm,default:Qd,fetch:Fm},Symbol.toStringTag,{value:"Module"})),Wm=cm(xr);var Ci={},xd;function Yd(){if(xd)return Ci;xd=1,Object.defineProperty(Ci,"__esModule",{value:!0});class c extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return Ci.default=c,Ci}var wd;function Xd(){if(wd)return cr;wd=1;var c=cr&&cr.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(cr,"__esModule",{value:!0});const r=c(Wm),i=c(Yd());class o{constructor(h){this.shouldThrowOnError=!1,this.method=h.method,this.url=h.url,this.headers=h.headers,this.schema=h.schema,this.body=h.body,this.shouldThrowOnError=h.shouldThrowOnError,this.signal=h.signal,this.isMaybeSingle=h.isMaybeSingle,h.fetch?this.fetch=h.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(h,f){return this.headers=Object.assign({},this.headers),this.headers[h]=f,this}then(h,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const p=this.fetch;let g=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async v=>{var x,j,E;let R=null,b=null,U=null,A=v.status,V=v.statusText;if(v.ok){if(this.method!=="HEAD"){const Y=await v.text();Y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=Y:b=JSON.parse(Y))}const I=(x=this.headers.Prefer)===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),W=(j=v.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");I&&W&&W.length>1&&(U=parseInt(W[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(R={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,U=null,A=406,V="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const I=await v.text();try{R=JSON.parse(I),Array.isArray(R)&&v.status===404&&(b=[],R=null,A=200,V="OK")}catch{v.status===404&&I===""?(A=204,V="No Content"):R={message:I}}if(R&&this.isMaybeSingle&&(!((E=R==null?void 0:R.details)===null||E===void 0)&&E.includes("0 rows"))&&(R=null,A=200,V="OK"),R&&this.shouldThrowOnError)throw new i.default(R)}return{error:R,data:b,count:U,status:A,statusText:V}});return this.shouldThrowOnError||(g=g.catch(v=>{var x,j,E;return{error:{message:`${(x=v==null?void 0:v.name)!==null&&x!==void 0?x:"FetchError"}: ${v==null?void 0:v.message}`,details:`${(j=v==null?void 0:v.stack)!==null&&j!==void 0?j:""}`,hint:"",code:`${(E=v==null?void 0:v.code)!==null&&E!==void 0?E:""}`},data:null,count:null,status:0,statusText:""}})),g.then(h,f)}returns(){return this}overrideTypes(){return this}}return cr.default=o,cr}var _d;function Zd(){if(_d)return ur;_d=1;var c=ur&&ur.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ur,"__esModule",{value:!0});const r=c(Xd());class i extends r.default{select(u){let h=!1;const f=(u??"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join("");return this.url.searchParams.set("select",f),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(u,{ascending:h=!0,nullsFirst:f,foreignTable:p,referencedTable:g=p}={}){const v=g?`${g}.order`:"order",x=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${x?`${x},`:""}${u}.${h?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:h,referencedTable:f=h}={}){const p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${u}`),this}range(u,h,{foreignTable:f,referencedTable:p=f}={}){const g=typeof p>"u"?"offset":`${p}.offset`,v=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${u}`),this.url.searchParams.set(v,`${h-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:u=!1,verbose:h=!1,settings:f=!1,buffers:p=!1,wal:g=!1,format:v="text"}={}){var x;const j=[u?"analyze":null,h?"verbose":null,f?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),E=(x=this.headers.Accept)!==null&&x!==void 0?x:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${v}; for="${E}"; options=${j};`,v==="json"?this:this}rollback(){var u;return((u=this.headers.Prefer)!==null&&u!==void 0?u:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ur.default=i,ur}var jd;function la(){if(jd)return ar;jd=1;var c=ar&&ar.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ar,"__esModule",{value:!0});const r=c(Zd());class i extends r.default{eq(u,h){return this.url.searchParams.append(u,`eq.${h}`),this}neq(u,h){return this.url.searchParams.append(u,`neq.${h}`),this}gt(u,h){return this.url.searchParams.append(u,`gt.${h}`),this}gte(u,h){return this.url.searchParams.append(u,`gte.${h}`),this}lt(u,h){return this.url.searchParams.append(u,`lt.${h}`),this}lte(u,h){return this.url.searchParams.append(u,`lte.${h}`),this}like(u,h){return this.url.searchParams.append(u,`like.${h}`),this}likeAllOf(u,h){return this.url.searchParams.append(u,`like(all).{${h.join(",")}}`),this}likeAnyOf(u,h){return this.url.searchParams.append(u,`like(any).{${h.join(",")}}`),this}ilike(u,h){return this.url.searchParams.append(u,`ilike.${h}`),this}ilikeAllOf(u,h){return this.url.searchParams.append(u,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(u,h){return this.url.searchParams.append(u,`ilike(any).{${h.join(",")}}`),this}is(u,h){return this.url.searchParams.append(u,`is.${h}`),this}in(u,h){const f=Array.from(new Set(h)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(u,`in.(${f})`),this}contains(u,h){return typeof h=="string"?this.url.searchParams.append(u,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(u,`cs.{${h.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(h)}`),this}containedBy(u,h){return typeof h=="string"?this.url.searchParams.append(u,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(u,`cd.{${h.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(h)}`),this}rangeGt(u,h){return this.url.searchParams.append(u,`sr.${h}`),this}rangeGte(u,h){return this.url.searchParams.append(u,`nxl.${h}`),this}rangeLt(u,h){return this.url.searchParams.append(u,`sl.${h}`),this}rangeLte(u,h){return this.url.searchParams.append(u,`nxr.${h}`),this}rangeAdjacent(u,h){return this.url.searchParams.append(u,`adj.${h}`),this}overlaps(u,h){return typeof h=="string"?this.url.searchParams.append(u,`ov.${h}`):this.url.searchParams.append(u,`ov.{${h.join(",")}}`),this}textSearch(u,h,{config:f,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const v=f===void 0?"":`(${f})`;return this.url.searchParams.append(u,`${g}fts${v}.${h}`),this}match(u){return Object.entries(u).forEach(([h,f])=>{this.url.searchParams.append(h,`eq.${f}`)}),this}not(u,h,f){return this.url.searchParams.append(u,`not.${h}.${f}`),this}or(u,{foreignTable:h,referencedTable:f=h}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${u})`),this}filter(u,h,f){return this.url.searchParams.append(u,`${h}.${f}`),this}}return ar.default=i,ar}var kd;function eh(){if(kd)return or;kd=1;var c=or&&or.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(or,"__esModule",{value:!0});const r=c(la());class i{constructor(u,{headers:h={},schema:f,fetch:p}){this.url=u,this.headers=h,this.schema=f,this.fetch=p}select(u,{head:h=!1,count:f}={}){const p=h?"HEAD":"GET";let g=!1;const v=(u??"*").split("").map(x=>/\s/.test(x)&&!g?"":(x==='"'&&(g=!g),x)).join("");return this.url.searchParams.set("select",v),f&&(this.headers.Prefer=`count=${f}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(u,{count:h,defaultToNull:f=!0}={}){const p="POST",g=[];if(this.headers.Prefer&&g.push(this.headers.Prefer),h&&g.push(`count=${h}`),f||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(u)){const v=u.reduce((x,j)=>x.concat(Object.keys(j)),[]);if(v.length>0){const x=[...new Set(v)].map(j=>`"${j}"`);this.url.searchParams.set("columns",x.join(","))}}return new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}upsert(u,{onConflict:h,ignoreDuplicates:f=!1,count:p,defaultToNull:g=!0}={}){const v="POST",x=[`resolution=${f?"ignore":"merge"}-duplicates`];if(h!==void 0&&this.url.searchParams.set("on_conflict",h),this.headers.Prefer&&x.push(this.headers.Prefer),p&&x.push(`count=${p}`),g||x.push("missing=default"),this.headers.Prefer=x.join(","),Array.isArray(u)){const j=u.reduce((E,R)=>E.concat(Object.keys(R)),[]);if(j.length>0){const E=[...new Set(j)].map(R=>`"${R}"`);this.url.searchParams.set("columns",E.join(","))}}return new r.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}update(u,{count:h}={}){const f="PATCH",p=[];return this.headers.Prefer&&p.push(this.headers.Prefer),h&&p.push(`count=${h}`),this.headers.Prefer=p.join(","),new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}delete({count:u}={}){const h="DELETE",f=[];return u&&f.push(`count=${u}`),this.headers.Prefer&&f.unshift(this.headers.Prefer),this.headers.Prefer=f.join(","),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return or.default=i,or}var ls={},os={},bd;function qm(){return bd||(bd=1,Object.defineProperty(os,"__esModule",{value:!0}),os.version=void 0,os.version="0.0.0-automated"),os}var Sd;function Hm(){if(Sd)return ls;Sd=1,Object.defineProperty(ls,"__esModule",{value:!0}),ls.DEFAULT_HEADERS=void 0;const c=qm();return ls.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${c.version}`},ls}var Nd;function Vm(){if(Nd)return lr;Nd=1;var c=lr&&lr.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(lr,"__esModule",{value:!0});const r=c(eh()),i=c(la()),o=Hm();class u{constructor(f,{headers:p={},schema:g,fetch:v}={}){this.url=f,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),p),this.schemaName=g,this.fetch=v}from(f){const p=new URL(`${this.url}/${f}`);return new r.default(p,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new u(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,p={},{head:g=!1,get:v=!1,count:x}={}){let j;const E=new URL(`${this.url}/rpc/${f}`);let R;g||v?(j=g?"HEAD":"GET",Object.entries(p).filter(([U,A])=>A!==void 0).map(([U,A])=>[U,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([U,A])=>{E.searchParams.append(U,A)})):(j="POST",R=p);const b=Object.assign({},this.headers);return x&&(b.Prefer=`count=${x}`),new i.default({method:j,url:E,headers:b,schema:this.schemaName,body:R,fetch:this.fetch,allowEmpty:!1})}}return lr.default=u,lr}var Ed;function Km(){if(Ed)return qe;Ed=1;var c=qe&&qe.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(qe,"__esModule",{value:!0}),qe.PostgrestError=qe.PostgrestBuilder=qe.PostgrestTransformBuilder=qe.PostgrestFilterBuilder=qe.PostgrestQueryBuilder=qe.PostgrestClient=void 0;const r=c(Vm());qe.PostgrestClient=r.default;const i=c(eh());qe.PostgrestQueryBuilder=i.default;const o=c(la());qe.PostgrestFilterBuilder=o.default;const u=c(Zd());qe.PostgrestTransformBuilder=u.default;const h=c(Xd());qe.PostgrestBuilder=h.default;const f=c(Yd());return qe.PostgrestError=f.default,qe.default={PostgrestClient:r.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:h.default,PostgrestError:f.default},qe}var Gm=Km();const Qm=Wd(Gm),{PostgrestClient:Jm,PostgrestQueryBuilder:V0,PostgrestFilterBuilder:K0,PostgrestTransformBuilder:G0,PostgrestBuilder:Q0,PostgrestError:J0}=Qm;class Ym{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const i=parseInt(process.versions.node.split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let i=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(i+=`

Suggested solution: ${r.workaround}`),new Error(i)}static createWebSocket(r,i){const o=this.getWebSocketConstructor();return new o(r,i)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Xm="2.15.1",Zm=`realtime-js/${Xm}`,ep="1.0.0",Ko=1e4,tp=1e3,np=100;var cs;(function(c){c[c.connecting=0]="connecting",c[c.open=1]="open",c[c.closing=2]="closing",c[c.closed=3]="closed"})(cs||(cs={}));var ze;(function(c){c.closed="closed",c.errored="errored",c.joined="joined",c.joining="joining",c.leaving="leaving"})(ze||(ze={}));var Nt;(function(c){c.close="phx_close",c.error="phx_error",c.join="phx_join",c.reply="phx_reply",c.leave="phx_leave",c.access_token="access_token"})(Nt||(Nt={}));var Go;(function(c){c.websocket="websocket"})(Go||(Go={}));var An;(function(c){c.Connecting="connecting",c.Open="open",c.Closing="closing",c.Closed="closed"})(An||(An={}));class rp{constructor(){this.HEADER_LENGTH=1}decode(r,i){return r.constructor===ArrayBuffer?i(this._binaryDecode(r)):i(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const i=new DataView(r),o=new TextDecoder;return this._decodeBroadcast(r,i,o)}_decodeBroadcast(r,i,o){const u=i.getUint8(1),h=i.getUint8(2);let f=this.HEADER_LENGTH+2;const p=o.decode(r.slice(f,f+u));f=f+u;const g=o.decode(r.slice(f,f+h));f=f+h;const v=JSON.parse(o.decode(r.slice(f,r.byteLength)));return{ref:null,topic:p,event:g,payload:v}}}class th{constructor(r,i){this.callback=r,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(c){c.abstime="abstime",c.bool="bool",c.date="date",c.daterange="daterange",c.float4="float4",c.float8="float8",c.int2="int2",c.int4="int4",c.int4range="int4range",c.int8="int8",c.int8range="int8range",c.json="json",c.jsonb="jsonb",c.money="money",c.numeric="numeric",c.oid="oid",c.reltime="reltime",c.text="text",c.time="time",c.timestamp="timestamp",c.timestamptz="timestamptz",c.timetz="timetz",c.tsrange="tsrange",c.tstzrange="tstzrange"})(Se||(Se={}));const Cd=(c,r,i={})=>{var o;const u=(o=i.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(r).reduce((h,f)=>(h[f]=sp(f,c,r,u),h),{})},sp=(c,r,i,o)=>{const u=r.find(p=>p.name===c),h=u==null?void 0:u.type,f=i[c];return h&&!o.includes(h)?nh(h,f):Qo(f)},nh=(c,r)=>{if(c.charAt(0)==="_"){const i=c.slice(1,c.length);return ap(r,i)}switch(c){case Se.bool:return ip(r);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return lp(r);case Se.json:case Se.jsonb:return op(r);case Se.timestamp:return up(r);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return Qo(r);default:return Qo(r)}},Qo=c=>c,ip=c=>{switch(c){case"t":return!0;case"f":return!1;default:return c}},lp=c=>{if(typeof c=="string"){const r=parseFloat(c);if(!Number.isNaN(r))return r}return c},op=c=>{if(typeof c=="string")try{return JSON.parse(c)}catch(r){return console.log(`JSON parse error: ${r}`),c}return c},ap=(c,r)=>{if(typeof c!="string")return c;const i=c.length-1,o=c[i];if(c[0]==="{"&&o==="}"){let h;const f=c.slice(1,i);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(p=>nh(r,p))}return c},up=c=>typeof c=="string"?c.replace(" ","T"):c,rh=c=>{let r=c;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")+"/api/broadcast"};class Do{constructor(r,i,o={},u=Ko){this.channel=r,this.event=i,this.payload=o,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,i){var o;return this._hasReceived(r)&&i((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:i}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(i))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Td;(function(c){c.SYNC="sync",c.JOIN="join",c.LEAVE="leave"})(Td||(Td={}));class ds{constructor(r,i){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},u=>{const{onJoin:h,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ds.syncState(this.state,u,h,f),this.pendingDiffs.forEach(g=>{this.state=ds.syncDiff(this.state,g,h,f)}),this.pendingDiffs=[],p()}),this.channel._on(o.diff,{},u=>{const{onJoin:h,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=ds.syncDiff(this.state,u,h,f),p())}),this.onJoin((u,h,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:h,newPresences:f})}),this.onLeave((u,h,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,i,o,u){const h=this.cloneDeep(r),f=this.transformState(i),p={},g={};return this.map(h,(v,x)=>{f[v]||(g[v]=x)}),this.map(f,(v,x)=>{const j=h[v];if(j){const E=x.map(A=>A.presence_ref),R=j.map(A=>A.presence_ref),b=x.filter(A=>R.indexOf(A.presence_ref)<0),U=j.filter(A=>E.indexOf(A.presence_ref)<0);b.length>0&&(p[v]=b),U.length>0&&(g[v]=U)}else p[v]=x}),this.syncDiff(h,{joins:p,leaves:g},o,u)}static syncDiff(r,i,o,u){const{joins:h,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return o||(o=()=>{}),u||(u=()=>{}),this.map(h,(p,g)=>{var v;const x=(v=r[p])!==null&&v!==void 0?v:[];if(r[p]=this.cloneDeep(g),x.length>0){const j=r[p].map(R=>R.presence_ref),E=x.filter(R=>j.indexOf(R.presence_ref)<0);r[p].unshift(...E)}o(p,x,g)}),this.map(f,(p,g)=>{let v=r[p];if(!v)return;const x=g.map(j=>j.presence_ref);v=v.filter(j=>x.indexOf(j.presence_ref)<0),r[p]=v,u(p,v,g),v.length===0&&delete r[p]}),r}static map(r,i){return Object.getOwnPropertyNames(r).map(o=>i(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((i,o)=>{const u=r[o];return"metas"in u?i[o]=u.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):i[o]=u,i},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pd;(function(c){c.ALL="*",c.INSERT="INSERT",c.UPDATE="UPDATE",c.DELETE="DELETE"})(Pd||(Pd={}));var hs;(function(c){c.BROADCAST="broadcast",c.PRESENCE="presence",c.POSTGRES_CHANGES="postgres_changes",c.SYSTEM="system"})(hs||(hs={}));var Bt;(function(c){c.SUBSCRIBED="SUBSCRIBED",c.TIMED_OUT="TIMED_OUT",c.CLOSED="CLOSED",c.CHANNEL_ERROR="CHANNEL_ERROR"})(Bt||(Bt={}));class oa{constructor(r,i={config:{}},o){this.topic=r,this.params=i,this.socket=o,this.bindings={},this.state=ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Do(this,Nt.join,this.params,this.timeout),this.rejoinTimer=new th(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ze.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nt.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new ds(this),this.broadcastEndpointURL=rh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(r,i=this.timeout){var o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==ze.closed){const{config:{broadcast:h,presence:f,private:p}}=this.params,g=(u=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(E=>E.filter))!==null&&u!==void 0?u:[],v=!!this.bindings[hs.PRESENCE]&&this.bindings[hs.PRESENCE].length>0,x={},j={broadcast:h,presence:Object.assign(Object.assign({},f),{enabled:v}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(E=>r==null?void 0:r(Bt.CHANNEL_ERROR,E)),this._onClose(()=>r==null?void 0:r(Bt.CLOSED)),this.updateJoinPayload(Object.assign({config:j},x)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:E})=>{var R;if(this.socket.setAuth(),E===void 0){r==null||r(Bt.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,U=(R=b==null?void 0:b.length)!==null&&R!==void 0?R:0,A=[];for(let V=0;V<U;V++){const Q=b[V],{filter:{event:I,schema:W,table:Y,filter:ee}}=Q,O=E&&E[V];if(O&&O.event===I&&O.schema===W&&O.table===Y&&O.filter===ee)A.push(Object.assign(Object.assign({},Q),{id:O.id}));else{this.unsubscribe(),this.state=ze.errored,r==null||r(Bt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,r&&r(Bt.SUBSCRIBED);return}}).receive("error",E=>{this.state=ze.errored,r==null||r(Bt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Bt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,i={}){return await this.send({type:"presence",event:"track",payload:r},i.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,i,o){return this.state===ze.joined&&r===hs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,i,o)}async send(r,i={}){var o,u;if(!this._canPush()&&r.type==="broadcast"){const{event:h,payload:f}=r,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);return await((u=v.body)===null||u===void 0?void 0:u.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,p,g;const v=this._push(r.type,r,i.timeout||this.timeout);r.type==="broadcast"&&!(!((g=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&h("ok"),v.receive("ok",()=>h("ok")),v.receive("error",()=>h("error")),v.receive("timeout",()=>h("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=ze.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(u=>{o=new Do(this,Nt.leave,{},r),o.receive("ok",()=>{i(),u("ok")}).receive("timeout",()=>{i(),u("timed out")}).receive("error",()=>{u("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ze.closed,this.bindings={}}async _fetchWithTimeout(r,i,o){const u=new AbortController,h=setTimeout(()=>u.abort(),o),f=await this.socket.fetch(r,Object.assign(Object.assign({},i),{signal:u.signal}));return clearTimeout(h),f}_push(r,i,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Do(this,r,i,o);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>np){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(r,i,o){return i}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,i,o){var u,h;const f=r.toLocaleLowerCase(),{close:p,error:g,leave:v,join:x}=Nt;if(o&&[p,g,v,x].indexOf(f)>=0&&o!==this._joinRef())return;let E=this._onMessage(f,i,o);if(i&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(R=>{var b,U,A;return((b=R.filter)===null||b===void 0?void 0:b.event)==="*"||((A=(U=R.filter)===null||U===void 0?void 0:U.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===f}).map(R=>R.callback(E,o)):(h=this.bindings[f])===null||h===void 0||h.filter(R=>{var b,U,A,V,Q,I;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in R){const W=R.id,Y=(b=R.filter)===null||b===void 0?void 0:b.event;return W&&((U=i.ids)===null||U===void 0?void 0:U.includes(W))&&(Y==="*"||(Y==null?void 0:Y.toLocaleLowerCase())===((A=i.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const W=(Q=(V=R==null?void 0:R.filter)===null||V===void 0?void 0:V.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase();return W==="*"||W===((I=i==null?void 0:i.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return R.type.toLocaleLowerCase()===f}).map(R=>{if(typeof E=="object"&&"ids"in E){const b=E.data,{schema:U,table:A,commit_timestamp:V,type:Q,errors:I}=b;E=Object.assign(Object.assign({},{schema:U,table:A,commit_timestamp:V,eventType:Q,new:{},old:{},errors:I}),this._getPayloadRecords(b))}R.callback(E,o)})}_isClosed(){return this.state===ze.closed}_isJoined(){return this.state===ze.joined}_isJoining(){return this.state===ze.joining}_isLeaving(){return this.state===ze.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,i,o){const u=r.toLocaleLowerCase(),h={type:u,filter:i,callback:o};return this.bindings[u]?this.bindings[u].push(h):this.bindings[u]=[h],this}_off(r,i){const o=r.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(u=>{var h;return!(((h=u.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===o&&oa.isEqual(u.filter,i))})),this}static isEqual(r,i){if(Object.keys(r).length!==Object.keys(i).length)return!1;for(const o in r)if(r[o]!==i[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Nt.close,{},r)}_onError(r){this._on(Nt.error,{},i=>r(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ze.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const i={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(i.new=Cd(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(i.old=Cd(r.columns,r.old_record)),i}}const Od=()=>{},Ti={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cp=[1e3,2e3,5e3,1e4],dp=1e4,hp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fp{constructor(r,i){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ko,this.transport=null,this.heartbeatIntervalMs=Ti.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Od,this.ref=0,this.reconnectTimer=null,this.logger=Od,this.conn=null,this.sendBuffer=[],this.serializer=new rp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>{let h;return u?h=u:typeof fetch>"u"?h=(...f)=>ps(async()=>{const{default:p}=await Promise.resolve().then(()=>xr);return{default:p}},void 0).then(({default:p})=>p(...f)).catch(p=>{throw new Error(`Failed to load @supabase/node-fetch: ${p.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):h=fetch,(...f)=>h(...f)},!(!((o=i==null?void 0:i.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${r}/${Go.websocket}`,this.httpEndpoint=rh(r),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ym.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const i=r.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ep}))}disconnect(r,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},r?this.conn.close(r,i??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const i=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const r=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,i,o){this.logger(r,i,o)}connectionState(){switch(this.conn&&this.conn.readyState){case cs.connecting:return An.Connecting;case cs.open:return An.Open;case cs.closing:return An.Closing;default:return An.Closed}}isConnected(){return this.connectionState()===An.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,i={config:{}}){const o=`realtime:${r}`,u=this.getChannels().find(h=>h.topic===o);if(u)return u;{const h=new oa(`realtime:${r}`,i,this);return this.channels.push(h),h}}push(r){const{topic:i,event:o,payload:u,ref:h}=r,f=()=>{this.encode(r,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${i} ${o} (${h})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(tp,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Ti.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let i=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${r}"`),i.unsubscribe())}_remove(r){this.channels=this.channels.filter(i=>i.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,i=>{i.topic==="phoenix"&&i.event==="phx_reply"&&this.heartbeatCallback(i.payload.status==="ok"?"ok":"error"),i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:u,payload:h,ref:f}=i,p=f?`(${f})`:"",g=h.status||"";this.log("receive",`${g} ${o} ${u} ${p}`.trim(),h),this.channels.filter(v=>v._isMember(o)).forEach(v=>v._trigger(u,h,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(r){var i;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var i;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Nt.error))}_appendParams(r,i){if(Object.keys(i).length===0)return r;const o=r.match(/\?/)?"&":"?",u=new URLSearchParams(i);return`${r}${o}${u}`}_workerObjectUrl(r){let i;if(r)i=r;else{const o=new Blob([hp],{type:"application/javascript"});i=URL.createObjectURL(o)}return i}_setConnectionState(r,i=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(r=null){let i;r?i=r:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const u={access_token:i,version:Zm};i&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(Nt.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${r}`,i)})}_triggerStateCallbacks(r,i){try{this.stateChangeCallbacks[r].forEach(o=>{try{o(i)}catch(u){this.log("error",`error in ${r} callback`,u)}})}catch(o){this.log("error",`error triggering ${r} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new th(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ti.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var i,o,u,h,f,p,g,v;if(this.transport=(i=r==null?void 0:r.transport)!==null&&i!==void 0?i:null,this.timeout=(o=r==null?void 0:r.timeout)!==null&&o!==void 0?o:Ko,this.heartbeatIntervalMs=(u=r==null?void 0:r.heartbeatIntervalMs)!==null&&u!==void 0?u:Ti.HEARTBEAT_INTERVAL,this.worker=(h=r==null?void 0:r.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=r==null?void 0:r.accessToken)!==null&&f!==void 0?f:null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=r==null?void 0:r.reconnectAfterMs)!==null&&p!==void 0?p:x=>cp[x-1]||dp,this.encode=(g=r==null?void 0:r.encode)!==null&&g!==void 0?g:(x,j)=>j(JSON.stringify(x)),this.decode=(v=r==null?void 0:r.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}class aa extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Fe(c){return typeof c=="object"&&c!==null&&"__isStorageError"in c}class mp extends aa{constructor(r,i,o){super(r),this.name="StorageApiError",this.status=i,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Jo extends aa{constructor(r,i){super(r),this.name="StorageUnknownError",this.originalError=i}}var pp=function(c,r,i,o){function u(h){return h instanceof i?h:new i(function(f){f(h)})}return new(i||(i=Promise))(function(h,f){function p(x){try{v(o.next(x))}catch(j){f(j)}}function g(x){try{v(o.throw(x))}catch(j){f(j)}}function v(x){x.done?h(x.value):u(x.value).then(p,g)}v((o=o.apply(c,r||[])).next())})};const sh=c=>{let r;return c?r=c:typeof fetch>"u"?r=(...i)=>ps(async()=>{const{default:o}=await Promise.resolve().then(()=>xr);return{default:o}},void 0).then(({default:o})=>o(...i)):r=fetch,(...i)=>r(...i)},gp=()=>pp(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ps(()=>Promise.resolve().then(()=>xr),void 0)).Response:Response}),Yo=c=>{if(Array.isArray(c))return c.map(i=>Yo(i));if(typeof c=="function"||c!==Object(c))return c;const r={};return Object.entries(c).forEach(([i,o])=>{const u=i.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));r[u]=Yo(o)}),r},vp=c=>{if(typeof c!="object"||c===null)return!1;const r=Object.getPrototypeOf(c);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in c)&&!(Symbol.iterator in c)};var In=function(c,r,i,o){function u(h){return h instanceof i?h:new i(function(f){f(h)})}return new(i||(i=Promise))(function(h,f){function p(x){try{v(o.next(x))}catch(j){f(j)}}function g(x){try{v(o.throw(x))}catch(j){f(j)}}function v(x){x.done?h(x.value):u(x.value).then(p,g)}v((o=o.apply(c,r||[])).next())})};const Uo=c=>c.msg||c.message||c.error_description||c.error||JSON.stringify(c),yp=(c,r,i)=>In(void 0,void 0,void 0,function*(){const o=yield gp();c instanceof o&&!(i!=null&&i.noResolveJson)?c.json().then(u=>{const h=c.status||500,f=(u==null?void 0:u.statusCode)||h+"";r(new mp(Uo(u),h,f))}).catch(u=>{r(new Jo(Uo(u),u))}):r(new Jo(Uo(c),c))}),xp=(c,r,i,o)=>{const u={method:c,headers:(r==null?void 0:r.headers)||{}};return c==="GET"||!o?u:(vp(o)?(u.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),u.body=JSON.stringify(o)):u.body=o,r!=null&&r.duplex&&(u.duplex=r.duplex),Object.assign(Object.assign({},u),i))};function gs(c,r,i,o,u,h){return In(this,void 0,void 0,function*(){return new Promise((f,p)=>{c(i,xp(r,o,u,h)).then(g=>{if(!g.ok)throw g;return o!=null&&o.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>yp(g,p,o))})})}function Ai(c,r,i,o){return In(this,void 0,void 0,function*(){return gs(c,"GET",r,i,o)})}function Rt(c,r,i,o,u){return In(this,void 0,void 0,function*(){return gs(c,"POST",r,o,u,i)})}function Xo(c,r,i,o,u){return In(this,void 0,void 0,function*(){return gs(c,"PUT",r,o,u,i)})}function wp(c,r,i,o){return In(this,void 0,void 0,function*(){return gs(c,"HEAD",r,Object.assign(Object.assign({},i),{noResolveJson:!0}),o)})}function ih(c,r,i,o,u){return In(this,void 0,void 0,function*(){return gs(c,"DELETE",r,o,u,i)})}var Ze=function(c,r,i,o){function u(h){return h instanceof i?h:new i(function(f){f(h)})}return new(i||(i=Promise))(function(h,f){function p(x){try{v(o.next(x))}catch(j){f(j)}}function g(x){try{v(o.throw(x))}catch(j){f(j)}}function v(x){x.done?h(x.value):u(x.value).then(p,g)}v((o=o.apply(c,r||[])).next())})};const _p={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jp{constructor(r,i={},o,u){this.url=r,this.headers=i,this.bucketId=o,this.fetch=sh(u)}uploadOrUpdate(r,i,o,u){return Ze(this,void 0,void 0,function*(){try{let h;const f=Object.assign(Object.assign({},Rd),u);let p=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&o instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),g&&h.append("metadata",this.encodeMetadata(g)),h.append("",o)):typeof FormData<"u"&&o instanceof FormData?(h=o,h.append("cacheControl",f.cacheControl),g&&h.append("metadata",this.encodeMetadata(g))):(h=o,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),u!=null&&u.headers&&(p=Object.assign(Object.assign({},p),u.headers));const v=this._removeEmptyFolders(i),x=this._getFinalPath(v),j=yield(r=="PUT"?Xo:Rt)(this.fetch,`${this.url}/object/${x}`,h,Object.assign({headers:p},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:v,id:j.Id,fullPath:j.Key},error:null}}catch(h){if(Fe(h))return{data:null,error:h};throw h}})}upload(r,i,o){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,i,o)})}uploadToSignedUrl(r,i,o,u){return Ze(this,void 0,void 0,function*(){const h=this._removeEmptyFolders(r),f=this._getFinalPath(h),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",i);try{let g;const v=Object.assign({upsert:Rd.upsert},u),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&o instanceof Blob?(g=new FormData,g.append("cacheControl",v.cacheControl),g.append("",o)):typeof FormData<"u"&&o instanceof FormData?(g=o,g.append("cacheControl",v.cacheControl)):(g=o,x["cache-control"]=`max-age=${v.cacheControl}`,x["content-type"]=v.contentType);const j=yield Xo(this.fetch,p.toString(),g,{headers:x});return{data:{path:h,fullPath:j.Key},error:null}}catch(g){if(Fe(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(r,i){return Ze(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r);const u=Object.assign({},this.headers);i!=null&&i.upsert&&(u["x-upsert"]="true");const h=yield Rt(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:u}),f=new URL(this.url+h.url),p=f.searchParams.get("token");if(!p)throw new aa("No token returned by API");return{data:{signedUrl:f.toString(),path:r,token:p},error:null}}catch(o){if(Fe(o))return{data:null,error:o};throw o}})}update(r,i,o){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,i,o)})}move(r,i,o){return Ze(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:i,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(Fe(u))return{data:null,error:u};throw u}})}copy(r,i,o){return Ze(this,void 0,void 0,function*(){try{return{data:{path:(yield Rt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:i,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(Fe(u))return{data:null,error:u};throw u}})}createSignedUrl(r,i,o){return Ze(this,void 0,void 0,function*(){try{let u=this._getFinalPath(r),h=yield Rt(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:i},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const f=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return h={signedUrl:encodeURI(`${this.url}${h.signedURL}${f}`)},{data:h,error:null}}catch(u){if(Fe(u))return{data:null,error:u};throw u}})}createSignedUrls(r,i,o){return Ze(this,void 0,void 0,function*(){try{const u=yield Rt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:r},{headers:this.headers}),h=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:u.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${h}`):null})),error:null}}catch(u){if(Fe(u))return{data:null,error:u};throw u}})}download(r,i){return Ze(this,void 0,void 0,function*(){const u=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",h=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),f=h?`?${h}`:"";try{const p=this._getFinalPath(r);return{data:yield(yield Ai(this.fetch,`${this.url}/${u}/${p}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(Fe(p))return{data:null,error:p};throw p}})}info(r){return Ze(this,void 0,void 0,function*(){const i=this._getFinalPath(r);try{const o=yield Ai(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:Yo(o),error:null}}catch(o){if(Fe(o))return{data:null,error:o};throw o}})}exists(r){return Ze(this,void 0,void 0,function*(){const i=this._getFinalPath(r);try{return yield wp(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(Fe(o)&&o instanceof Jo){const u=o.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:o}}throw o}})}getPublicUrl(r,i){const o=this._getFinalPath(r),u=[],h=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";h!==""&&u.push(h);const p=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});g!==""&&u.push(g);let v=u.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${o}${v}`)}}}remove(r){return Ze(this,void 0,void 0,function*(){try{return{data:yield ih(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(i){if(Fe(i))return{data:null,error:i};throw i}})}list(r,i,o){return Ze(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},_p),i),{prefix:r||""});return{data:yield Rt(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},o),error:null}}catch(u){if(Fe(u))return{data:null,error:u};throw u}})}listV2(r,i){return Ze(this,void 0,void 0,function*(){try{const o=Object.assign({},r);return{data:yield Rt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(Fe(o))return{data:null,error:o};throw o}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const i=[];return r.width&&i.push(`width=${r.width}`),r.height&&i.push(`height=${r.height}`),r.resize&&i.push(`resize=${r.resize}`),r.format&&i.push(`format=${r.format}`),r.quality&&i.push(`quality=${r.quality}`),i.join("&")}}const kp="2.11.0",bp={"X-Client-Info":`storage-js/${kp}`};var dr=function(c,r,i,o){function u(h){return h instanceof i?h:new i(function(f){f(h)})}return new(i||(i=Promise))(function(h,f){function p(x){try{v(o.next(x))}catch(j){f(j)}}function g(x){try{v(o.throw(x))}catch(j){f(j)}}function v(x){x.done?h(x.value):u(x.value).then(p,g)}v((o=o.apply(c,r||[])).next())})};class Sp{constructor(r,i={},o,u){const h=new URL(r);u!=null&&u.useNewHostname&&/supabase\.(co|in|red)$/.test(h.hostname)&&!h.hostname.includes("storage.supabase.")&&(h.hostname=h.hostname.replace("supabase.","storage.supabase.")),this.url=h.href,this.headers=Object.assign(Object.assign({},bp),i),this.fetch=sh(o)}listBuckets(){return dr(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}})}getBucket(r){return dr(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(i){if(Fe(i))return{data:null,error:i};throw i}})}createBucket(r,i={public:!1}){return dr(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Fe(o))return{data:null,error:o};throw o}})}updateBucket(r,i){return dr(this,void 0,void 0,function*(){try{return{data:yield Xo(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Fe(o))return{data:null,error:o};throw o}})}emptyBucket(r){return dr(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(Fe(i))return{data:null,error:i};throw i}})}deleteBucket(r){return dr(this,void 0,void 0,function*(){try{return{data:yield ih(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(i){if(Fe(i))return{data:null,error:i};throw i}})}}class Np extends Sp{constructor(r,i={},o,u){super(r,i,o,u)}from(r){return new jp(this.url,this.headers,r,this.fetch)}}const Ep="2.55.0";let as="";typeof Deno<"u"?as="deno":typeof document<"u"?as="web":typeof navigator<"u"&&navigator.product==="ReactNative"?as="react-native":as="node";const Cp={"X-Client-Info":`supabase-js-${as}/${Ep}`},Tp={headers:Cp},Pp={schema:"public"},Op={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Rp={};var Ap=function(c,r,i,o){function u(h){return h instanceof i?h:new i(function(f){f(h)})}return new(i||(i=Promise))(function(h,f){function p(x){try{v(o.next(x))}catch(j){f(j)}}function g(x){try{v(o.throw(x))}catch(j){f(j)}}function v(x){x.done?h(x.value):u(x.value).then(p,g)}v((o=o.apply(c,r||[])).next())})};const Ip=c=>{let r;return c?r=c:typeof fetch>"u"?r=Qd:r=fetch,(...i)=>r(...i)},Lp=()=>typeof Headers>"u"?Jd:Headers,$p=(c,r,i)=>{const o=Ip(i),u=Lp();return(h,f)=>Ap(void 0,void 0,void 0,function*(){var p;const g=(p=yield r())!==null&&p!==void 0?p:c;let v=new u(f==null?void 0:f.headers);return v.has("apikey")||v.set("apikey",c),v.has("Authorization")||v.set("Authorization",`Bearer ${g}`),o(h,Object.assign(Object.assign({},f),{headers:v}))})};var Dp=function(c,r,i,o){function u(h){return h instanceof i?h:new i(function(f){f(h)})}return new(i||(i=Promise))(function(h,f){function p(x){try{v(o.next(x))}catch(j){f(j)}}function g(x){try{v(o.throw(x))}catch(j){f(j)}}function v(x){x.done?h(x.value):u(x.value).then(p,g)}v((o=o.apply(c,r||[])).next())})};function Up(c){return c.endsWith("/")?c:c+"/"}function zp(c,r){var i,o;const{db:u,auth:h,realtime:f,global:p}=c,{db:g,auth:v,realtime:x,global:j}=r,E={db:Object.assign(Object.assign({},g),u),auth:Object.assign(Object.assign({},v),h),realtime:Object.assign(Object.assign({},x),f),storage:{},global:Object.assign(Object.assign(Object.assign({},j),p),{headers:Object.assign(Object.assign({},(i=j==null?void 0:j.headers)!==null&&i!==void 0?i:{}),(o=p==null?void 0:p.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>Dp(this,void 0,void 0,function*(){return""})};return c.accessToken?E.accessToken=c.accessToken:delete E.accessToken,E}const lh="2.71.1",gr=30*1e3,Zo=3,zo=Zo*gr,Fp="http://localhost:9999",Mp="supabase.auth.token",Bp={"X-Client-Info":`gotrue-js/${lh}`},ea="X-Supabase-Api-Version",oh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Wp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qp=10*60*1e3;class ua extends Error{constructor(r,i,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=o}}function de(c){return typeof c=="object"&&c!==null&&"__isAuthError"in c}class Hp extends ua{constructor(r,i,o){super(r,i,o),this.name="AuthApiError",this.status=i,this.code=o}}function Vp(c){return de(c)&&c.name==="AuthApiError"}class ah extends ua{constructor(r,i){super(r),this.name="AuthUnknownError",this.originalError=i}}class gn extends ua{constructor(r,i,o,u){super(r,o,u),this.name=i,this.status=o}}class cn extends gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Kp(c){return de(c)&&c.name==="AuthSessionMissingError"}class Pi extends gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Oi extends gn{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Ri extends gn{constructor(r,i=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Gp(c){return de(c)&&c.name==="AuthImplicitGrantRedirectError"}class Ad extends gn{constructor(r,i=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ta extends gn{constructor(r,i){super(r,"AuthRetryableFetchError",i,void 0)}}function Fo(c){return de(c)&&c.name==="AuthRetryableFetchError"}class Id extends gn{constructor(r,i,o){super(r,"AuthWeakPasswordError",i,"weak_password"),this.reasons=o}}class na extends gn{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ii="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ld=` 	
\r=`.split(""),Qp=(()=>{const c=new Array(128);for(let r=0;r<c.length;r+=1)c[r]=-1;for(let r=0;r<Ld.length;r+=1)c[Ld[r].charCodeAt(0)]=-2;for(let r=0;r<Ii.length;r+=1)c[Ii[r].charCodeAt(0)]=r;return c})();function $d(c,r,i){if(c!==null)for(r.queue=r.queue<<8|c,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;i(Ii[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;i(Ii[o]),r.queuedBits-=6}}function uh(c,r,i){const o=Qp[c];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)i(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(c)}"`)}}function Dd(c){const r=[],i=f=>{r.push(String.fromCodePoint(f))},o={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},h=f=>{Xp(f,o,i)};for(let f=0;f<c.length;f+=1)uh(c.charCodeAt(f),u,h);return r.join("")}function Jp(c,r){if(c<=127){r(c);return}else if(c<=2047){r(192|c>>6),r(128|c&63);return}else if(c<=65535){r(224|c>>12),r(128|c>>6&63),r(128|c&63);return}else if(c<=1114111){r(240|c>>18),r(128|c>>12&63),r(128|c>>6&63),r(128|c&63);return}throw new Error(`Unrecognized Unicode codepoint: ${c.toString(16)}`)}function Yp(c,r){for(let i=0;i<c.length;i+=1){let o=c.charCodeAt(i);if(o>55295&&o<=56319){const u=(o-55296)*1024&65535;o=(c.charCodeAt(i+1)-56320&65535|u)+65536,i+=1}Jp(o,r)}}function Xp(c,r,i){if(r.utf8seq===0){if(c<=127){i(c);return}for(let o=1;o<6;o+=1)if((c>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=c&31;else if(r.utf8seq===3)r.codepoint=c&15;else if(r.utf8seq===4)r.codepoint=c&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(c<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|c&63,r.utf8seq-=1,r.utf8seq===0&&i(r.codepoint)}}function Zp(c){const r=[],i={queue:0,queuedBits:0},o=u=>{r.push(u)};for(let u=0;u<c.length;u+=1)uh(c.charCodeAt(u),i,o);return new Uint8Array(r)}function e0(c){const r=[];return Yp(c,i=>r.push(i)),new Uint8Array(r)}function t0(c){const r=[],i={queue:0,queuedBits:0},o=u=>{r.push(u)};return c.forEach(u=>$d(u,i,o)),$d(null,i,o),r.join("")}function n0(c){return Math.round(Date.now()/1e3)+c}function r0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){const r=Math.random()*16|0;return(c=="x"?r:r&3|8).toString(16)})}const St=()=>typeof window<"u"&&typeof document<"u",Pn={tested:!1,writable:!1},ch=()=>{if(!St())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pn.tested)return Pn.writable;const c=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(c,c),globalThis.localStorage.removeItem(c),Pn.tested=!0,Pn.writable=!0}catch{Pn.tested=!0,Pn.writable=!1}return Pn.writable};function s0(c){const r={},i=new URL(c);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((u,h)=>{r[h]=u})}catch{}return i.searchParams.forEach((o,u)=>{r[u]=o}),r}const dh=c=>{let r;return c?r=c:typeof fetch>"u"?r=(...i)=>ps(async()=>{const{default:o}=await Promise.resolve().then(()=>xr);return{default:o}},void 0).then(({default:o})=>o(...i)):r=fetch,(...i)=>r(...i)},i0=c=>typeof c=="object"&&c!==null&&"status"in c&&"ok"in c&&"json"in c&&typeof c.json=="function",vr=async(c,r,i)=>{await c.setItem(r,JSON.stringify(i))},On=async(c,r)=>{const i=await c.getItem(r);if(!i)return null;try{return JSON.parse(i)}catch{return i}},un=async(c,r)=>{await c.removeItem(r)};class $i{constructor(){this.promise=new $i.promiseConstructor((r,i)=>{this.resolve=r,this.reject=i})}}$i.promiseConstructor=Promise;function Mo(c){const r=c.split(".");if(r.length!==3)throw new na("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!Wp.test(r[o]))throw new na("JWT not in base64url format");return{header:JSON.parse(Dd(r[0])),payload:JSON.parse(Dd(r[1])),signature:Zp(r[2]),raw:{header:r[0],payload:r[1]}}}async function l0(c){return await new Promise(r=>{setTimeout(()=>r(null),c)})}function o0(c,r){return new Promise((o,u)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await c(h);if(!r(h,null,f)){o(f);return}}catch(f){if(!r(h,f)){u(f);return}}})()})}function a0(c){return("0"+c.toString(16)).substr(-2)}function u0(){const r=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=i.length;let u="";for(let h=0;h<56;h++)u+=i.charAt(Math.floor(Math.random()*o));return u}return crypto.getRandomValues(r),Array.from(r,a0).join("")}async function c0(c){const i=new TextEncoder().encode(c),o=await crypto.subtle.digest("SHA-256",i),u=new Uint8Array(o);return Array.from(u).map(h=>String.fromCharCode(h)).join("")}async function d0(c){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),c;const i=await c0(c);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hr(c,r,i=!1){const o=u0();let u=o;i&&(u+="/PASSWORD_RECOVERY"),await vr(c,`${r}-code-verifier`,u);const h=await d0(o);return[h,o===h?"plain":"s256"]}const h0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function f0(c){const r=c.headers.get(ea);if(!r||!r.match(h0))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function m0(c){if(!c)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(c<=r)throw new Error("JWT has expired")}function p0(c){switch(c){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const g0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fr(c){if(!g0.test(c))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bo(){const c={};return new Proxy(c,{get:(r,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ud(c){return JSON.parse(JSON.stringify(c))}var v0=function(c,r){var i={};for(var o in c)Object.prototype.hasOwnProperty.call(c,o)&&r.indexOf(o)<0&&(i[o]=c[o]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(c);u<o.length;u++)r.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(c,o[u])&&(i[o[u]]=c[o[u]]);return i};const Rn=c=>c.msg||c.message||c.error_description||c.error||JSON.stringify(c),y0=[502,503,504];async function zd(c){var r;if(!i0(c))throw new ta(Rn(c),0);if(y0.includes(c.status))throw new ta(Rn(c),c.status);let i;try{i=await c.json()}catch(h){throw new ah(Rn(h),h)}let o;const u=f0(c);if(u&&u.getTime()>=oh["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?o=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(o=i.error_code),o){if(o==="weak_password")throw new Id(Rn(i),c.status,((r=i.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new cn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new Id(Rn(i),c.status,i.weak_password.reasons);throw new Hp(Rn(i),c.status||500,o)}const x0=(c,r,i,o)=>{const u={method:c,headers:(r==null?void 0:r.headers)||{}};return c==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),u.body=JSON.stringify(o),Object.assign(Object.assign({},u),i))};async function pe(c,r,i,o){var u;const h=Object.assign({},o==null?void 0:o.headers);h[ea]||(h[ea]=oh["2024-01-01"].name),o!=null&&o.jwt&&(h.Authorization=`Bearer ${o.jwt}`);const f=(u=o==null?void 0:o.query)!==null&&u!==void 0?u:{};o!=null&&o.redirectTo&&(f.redirect_to=o.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await w0(c,r,i+p,{headers:h,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(g):{data:Object.assign({},g),error:null}}async function w0(c,r,i,o,u,h){const f=x0(r,o,u,h);let p;try{p=await c(i,Object.assign({},f))}catch(g){throw console.error(g),new ta(Rn(g),0)}if(p.ok||await zd(p),o!=null&&o.noResolveJson)return p;try{return await p.json()}catch(g){await zd(g)}}function Mt(c){var r;let i=null;b0(c)&&(i=Object.assign({},c),c.expires_at||(i.expires_at=n0(c.expires_in)));const o=(r=c.user)!==null&&r!==void 0?r:c;return{data:{session:i,user:o},error:null}}function Fd(c){const r=Mt(c);return!r.error&&c.weak_password&&typeof c.weak_password=="object"&&Array.isArray(c.weak_password.reasons)&&c.weak_password.reasons.length&&c.weak_password.message&&typeof c.weak_password.message=="string"&&c.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0)&&(r.data.weak_password=c.weak_password),r}function dn(c){var r;return{data:{user:(r=c.user)!==null&&r!==void 0?r:c},error:null}}function _0(c){return{data:c,error:null}}function j0(c){const{action_link:r,email_otp:i,hashed_token:o,redirect_to:u,verification_type:h}=c,f=v0(c,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:i,hashed_token:o,redirect_to:u,verification_type:h},g=Object.assign({},f);return{data:{properties:p,user:g},error:null}}function k0(c){return c}function b0(c){return c.access_token&&c.refresh_token&&c.expires_in}const Wo=["global","local","others"];var S0=function(c,r){var i={};for(var o in c)Object.prototype.hasOwnProperty.call(c,o)&&r.indexOf(o)<0&&(i[o]=c[o]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(c);u<o.length;u++)r.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(c,o[u])&&(i[o[u]]=c[o[u]]);return i};class N0{constructor({url:r="",headers:i={},fetch:o}){this.url=r,this.headers=i,this.fetch=dh(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,i=Wo[0]){if(Wo.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wo.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(de(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,i={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:dn})}catch(o){if(de(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:i}=r,o=S0(r,["options"]),u=Object.assign(Object.assign({},o),i);return"newEmail"in o&&(u.new_email=o==null?void 0:o.newEmail,delete u.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:j0,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(de(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(r){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:dn})}catch(i){if(de(i))return{data:{user:null},error:i};throw i}}async listUsers(r){var i,o,u,h,f,p,g;try{const v={nextPage:null,lastPage:0,total:0},x=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=r==null?void 0:r.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(h=(u=r==null?void 0:r.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:k0});if(x.error)throw x.error;const j=await x.json(),E=(f=x.headers.get("x-total-count"))!==null&&f!==void 0?f:0,R=(g=(p=x.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return R.length>0&&(R.forEach(b=>{const U=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(b.split(";")[1].split("=")[1]);v[`${A}Page`]=U}),v.total=parseInt(E)),{data:Object.assign(Object.assign({},j),v),error:null}}catch(v){if(de(v))return{data:{users:[]},error:v};throw v}}async getUserById(r){fr(r);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:dn})}catch(i){if(de(i))return{data:{user:null},error:i};throw i}}async updateUserById(r,i){fr(r);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:i,headers:this.headers,xform:dn})}catch(o){if(de(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,i=!1){fr(r);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:i},xform:dn})}catch(o){if(de(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){fr(r.userId);try{const{data:i,error:o}=await pe(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:i,error:o}}catch(i){if(de(i))return{data:null,error:i};throw i}}async _deleteFactor(r){fr(r.userId),fr(r.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}}}function Md(c={}){return{getItem:r=>c[r]||null,setItem:(r,i)=>{c[r]=i},removeItem:r=>{delete c[r]}}}function E0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const mr={debug:!!(globalThis&&ch()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hh extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class C0 extends hh{}async function T0(c,r,i){mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",c,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),mr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",c)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(c,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async u=>{if(u){mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",c,u.name);try{return await i()}finally{mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",c,u.name)}}else{if(r===0)throw mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",c),new C0(`Acquiring an exclusive Navigator LockManager lock "${c}" immediately failed`);if(mr.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}E0();const P0={url:Fp,storageKey:Mp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Bp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Bd(c,r,i){return await i()}const pr={};class fs{constructor(r){var i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=fs.nextInstanceID,fs.nextInstanceID+=1,this.instanceID>0&&St()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},P0),r);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new N0({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=dh(u.fetch),this.lock=u.lock||Bd,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:St()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=T0:this.lock=Bd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:ch()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Md(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Md(this.memoryStorage)),St()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}get jwks(){var r,i;return(i=(r=pr[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(r){pr[this.storageKey]=Object.assign(Object.assign({},pr[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,i;return(i=(r=pr[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){pr[this.storageKey]=Object.assign(Object.assign({},pr[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${lh}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const i=s0(window.location.href);let o="none";if(this._isImplicitGrantCallback(i)?o="implicit":await this._isPKCECallback(i)&&(o="pkce"),St()&&this.detectSessionInUrl&&o!=="none"){const{data:u,error:h}=await this._getSessionFromURL(i,o);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),Gp(h)){const g=(r=h.details)===null||r===void 0?void 0:r.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:h}}return await this._removeSession(),{error:h}}const{session:f,redirectType:p}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return de(i)?{error:i}:{error:new ah("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var i,o,u;try{const h=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(i=r==null?void 0:r.options)===null||i===void 0?void 0:i.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(u=r==null?void 0:r.options)===null||u===void 0?void 0:u.captchaToken}},xform:Mt}),{data:f,error:p}=h;if(p||!f)return{data:{user:null,session:null},error:p};const g=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:v,session:g},error:null}}catch(h){if(de(h))return{data:{user:null,session:null},error:h};throw h}}async signUp(r){var i,o,u;try{let h;if("email"in r){const{email:x,password:j,options:E}=r;let R=null,b=null;this.flowType==="pkce"&&([R,b]=await hr(this.storage,this.storageKey)),h=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:x,password:j,data:(i=E==null?void 0:E.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:R,code_challenge_method:b},xform:Mt})}else if("phone"in r){const{phone:x,password:j,options:E}=r;h=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:j,data:(o=E==null?void 0:E.data)!==null&&o!==void 0?o:{},channel:(u=E==null?void 0:E.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:Mt})}else throw new Oi("You must provide either an email or phone number and a password");const{data:f,error:p}=h;if(p||!f)return{data:{user:null,session:null},error:p};const g=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:v,session:g},error:null}}catch(h){if(de(h))return{data:{user:null,session:null},error:h};throw h}}async signInWithPassword(r){try{let i;if("email"in r){const{email:h,password:f,options:p}=r;i=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Fd})}else if("phone"in r){const{phone:h,password:f,options:p}=r;i=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Fd})}else throw new Oi("You must provide either an email or phone number and a password");const{data:o,error:u}=i;return u?{data:{user:null,session:null},error:u}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Pi}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:u})}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(r){var i,o,u,h;return await this._handleProviderSignIn(r.provider,{redirectTo:(i=r.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=r.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(h=r.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:i}=r;if(i==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}async signInWithSolana(r){var i,o,u,h,f,p,g,v,x,j,E,R;let b,U;if("message"in r)b=r.message,U=r.signature;else{const{chain:A,wallet:V,statement:Q,options:I}=r;let W;if(St())if(typeof V=="object")W=V;else{const ee=window;if("solana"in ee&&typeof ee.solana=="object"&&("signIn"in ee.solana&&typeof ee.solana.signIn=="function"||"signMessage"in ee.solana&&typeof ee.solana.signMessage=="function"))W=ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=V}const Y=new URL((i=I==null?void 0:I.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in W&&W.signIn){const ee=await W.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I==null?void 0:I.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),Q?{statement:Q}:null));let O;if(Array.isArray(ee)&&ee[0]&&typeof ee[0]=="object")O=ee[0];else if(ee&&typeof ee=="object"&&"signedMessage"in ee&&"signature"in ee)O=ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)b=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),U=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in W)||typeof W.signMessage!="function"||!("publicKey"in W)||typeof W!="object"||!W.publicKey||!("toBase58"in W.publicKey)||typeof W.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${Y.host} wants you to sign in with your Solana account:`,W.publicKey.toBase58(),...Q?["",Q,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(u=(o=I==null?void 0:I.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((h=I==null?void 0:I.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((f=I==null?void 0:I.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((p=I==null?void 0:I.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((g=I==null?void 0:I.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((v=I==null?void 0:I.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((j=(x=I==null?void 0:I.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||j===void 0)&&j.length?["Resources",...I.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const ee=await W.signMessage(new TextEncoder().encode(b),"utf8");if(!ee||!(ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");U=ee}}try{const{data:A,error:V}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:t0(U)},!((E=r.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(R=r.options)===null||R===void 0?void 0:R.captchaToken}}:null),xform:Mt});if(V)throw V;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new Pi}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:V})}catch(A){if(de(A))return{data:{user:null,session:null},error:A};throw A}}async _exchangeCodeForSession(r){const i=await On(this.storage,`${this.storageKey}-code-verifier`),[o,u]=(i??"").split("/");try{const{data:h,error:f}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:Mt});if(await un(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!h||!h.session||!h.user?{data:{user:null,session:null,redirectType:null},error:new Pi}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:Object.assign(Object.assign({},h),{redirectType:u??null}),error:f})}catch(h){if(de(h))return{data:{user:null,session:null,redirectType:null},error:h};throw h}}async signInWithIdToken(r){try{const{options:i,provider:o,token:u,access_token:h,nonce:f}=r,p=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:u,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Mt}),{data:g,error:v}=p;return v?{data:{user:null,session:null},error:v}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Pi}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:v})}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(r){var i,o,u,h,f;try{if("email"in r){const{email:p,options:g}=r;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await hr(this.storage,this.storageKey));const{error:j}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(i=g==null?void 0:g.data)!==null&&i!==void 0?i:{},create_user:(o=g==null?void 0:g.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:v,code_challenge_method:x},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:j}}if("phone"in r){const{phone:p,options:g}=r,{data:v,error:x}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(u=g==null?void 0:g.data)!==null&&u!==void 0?u:{},create_user:(h=g==null?void 0:g.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(f=g==null?void 0:g.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:x}}throw new Oi("You must provide either an email or phone number.")}catch(p){if(de(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(r){var i,o;try{let u,h;"options"in r&&(u=(i=r.options)===null||i===void 0?void 0:i.redirectTo,h=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:p}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:h}}),redirectTo:u,xform:Mt});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,v=f.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:v,session:g},error:null}}catch(u){if(de(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(r){var i,o,u;try{let h=null,f=null;return this.flowType==="pkce"&&([h,f]=await hr(this.storage,this.storageKey)),await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(i=r.options)===null||i===void 0?void 0:i.redirectTo)!==null&&o!==void 0?o:void 0}),!((u=r==null?void 0:r.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:f}),headers:this.headers,xform:_0})}catch(h){if(de(h))return{data:null,error:h};throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)throw o;if(!i)throw new cn;const{error:u}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:u}})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const i=`${this.url}/resend`;if("email"in r){const{email:o,type:u,options:h}=r,{error:f}=await pe(this.fetch,"POST",i,{headers:this.headers,body:{email:o,type:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in r){const{phone:o,type:u,options:h}=r,{data:f,error:p}=await pe(this.fetch,"POST",i,{headers:this.headers,body:{phone:o,type:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p}}throw new Oi("You must provide either an email or phone number and a type")}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(r,i){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await o,await i()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=i();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await r(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const i=await On(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?r=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<zo:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const f=await On(this.userStorage,this.storageKey+"-user");f!=null&&f.user?r.user=f.user:r.user=Bo()}if(this.storage.isServer&&r.user){let f=this.suppressGetSessionWarning;r=new Proxy(r,{get:(g,v,x)=>(!f&&v==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,v,x))})}return{data:{session:r},error:null}}const{session:u,error:h}=await this._callRefreshToken(r.refresh_token);return h?{data:{session:null},error:h}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:dn}):await this._useSession(async i=>{var o,u,h;const{data:f,error:p}=i;if(p)throw p;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cn}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0,xform:dn})})}catch(i){if(de(i))return Kp(i)&&(await this._removeSession(),await un(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(r,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,i))}async _updateUser(r,i={}){try{return await this._useSession(async o=>{const{data:u,error:h}=o;if(h)throw h;if(!u.session)throw new cn;const f=u.session;let p=null,g=null;this.flowType==="pkce"&&r.email!=null&&([p,g]=await hr(this.storage,this.storageKey));const{data:v,error:x}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:g}),jwt:f.access_token,xform:dn});if(x)throw x;return f.user=v.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(o){if(de(o))return{data:{user:null},error:o};throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new cn;const i=Date.now()/1e3;let o=i,u=!0,h=null;const{payload:f}=Mo(r.access_token);if(f.exp&&(o=f.exp,u=o<=i),u){const{session:p,error:g}=await this._callRefreshToken(r.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!p)return{data:{user:null,session:null},error:null};h=p}else{const{data:p,error:g}=await this._getUser(r.access_token);if(g)throw g;h={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:o-i,expires_at:o},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return{data:{user:h.user,session:h},error:null}}catch(i){if(de(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async i=>{var o;if(!r){const{data:f,error:p}=i;if(p)throw p;r=(o=f.session)!==null&&o!==void 0?o:void 0}if(!(r!=null&&r.refresh_token))throw new cn;const{session:u,error:h}=await this._callRefreshToken(r.refresh_token);return h?{data:{user:null,session:null},error:h}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(r,i){try{if(!St())throw new Ri("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Ri(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Ad("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ri("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Ad("No code detected.");const{data:Q,error:I}=await this._exchangeCodeForSession(r.code);if(I)throw I;const W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:Q.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:u,access_token:h,refresh_token:f,expires_in:p,expires_at:g,token_type:v}=r;if(!h||!p||!f||!v)throw new Ri("No session defined in URL");const x=Math.round(Date.now()/1e3),j=parseInt(p);let E=x+j;g&&(E=parseInt(g));const R=E-x;R*1e3<=gr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${R}s, should have been closer to ${j}s`);const b=E-j;x-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,E,x):x-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,E,x);const{data:U,error:A}=await this._getUser(h);if(A)throw A;const V={provider_token:o,provider_refresh_token:u,access_token:h,expires_in:j,expires_at:E,refresh_token:f,token_type:v,user:U.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:V,redirectType:r.type},error:null}}catch(o){if(de(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const i=await On(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&i)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async i=>{var o;const{data:u,error:h}=i;if(h)return{error:h};const f=(o=u.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:p}=await this.admin.signOut(f,r);if(p&&!(Vp(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return r!=="others"&&(await this._removeSession(),await un(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const i=r0(),o={id:i,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async i=>{var o,u;try{const{data:{session:h},error:f}=i;if(f)throw f;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",r,"session",h)}catch(h){await((u=this.stateChangeEmitters.get(r))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",h),console.error(h)}})}async resetPasswordForEmail(r,i={}){let o=null,u=null;this.flowType==="pkce"&&([o,u]=await hr(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:u,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(h){if(de(h))return{data:null,error:h};throw h}}async getUserIdentities(){var r;try{const{data:i,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(r=i.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}}async linkIdentity(r){var i;try{const{data:o,error:u}=await this._useSession(async h=>{var f,p,g,v,x;const{data:j,error:E}=h;if(E)throw E;const R=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(f=r.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=r.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",R,{headers:this.headers,jwt:(x=(v=j.session)===null||v===void 0?void 0:v.access_token)!==null&&x!==void 0?x:void 0})});if(u)throw u;return St()&&!(!((i=r.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),{data:{provider:r.provider,url:o==null?void 0:o.url},error:null}}catch(o){if(de(o))return{data:{provider:r.provider,url:null},error:o};throw o}}async unlinkIdentity(r){try{return await this._useSession(async i=>{var o,u;const{data:h,error:f}=i;if(f)throw f;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(u=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0})})}catch(i){if(de(i))return{data:null,error:i};throw i}}async _refreshAccessToken(r){const i=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(i,"begin");try{const o=Date.now();return await o0(async u=>(u>0&&await l0(200*Math.pow(2,u-1)),this._debug(i,"refreshing attempt",u),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Mt})),(u,h)=>{const f=200*Math.pow(2,u);return h&&Fo(h)&&Date.now()+f-o<gr})}catch(o){if(this._debug(i,"error",o),de(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(i,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,i){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",i,"url",o),St()&&!i.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,i;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const u=await On(this.storage,this.storageKey);if(u&&this.userStorage){let f=await On(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await vr(this.userStorage,this.storageKey+"-user",f)),u.user=(r=f==null?void 0:f.user)!==null&&r!==void 0?r:Bo()}else if(u&&!u.user&&!u.user){const f=await On(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(u.user=f.user,await un(this.storage,this.storageKey+"-user"),await vr(this.storage,this.storageKey,u)):u.user=Bo()}if(this._debug(o,"session from storage",u),!this._isValidSession(u)){this._debug(o,"session is not valid"),u!==null&&await this._removeSession();return}const h=((i=u.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<zo;if(this._debug(o,`session has${h?"":" not"} expired with margin of ${zo}s`),h){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),Fo(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(u.access_token);!p&&(f!=null&&f.user)?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(o,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(o,"error",u),console.error(u);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var i,o;if(!r)throw new cn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new $i;const{data:h,error:f}=await this._refreshAccessToken(r);if(f)throw f;if(!h.session)throw new cn;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const p={session:h.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(h){if(this._debug(u,"error",h),de(h)){const f={session:null,error:h};return Fo(h)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(h),h}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(r,i,o=!0){const u=`#_notifyAllSubscribers(${r})`;this._debug(u,"begin",i,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:i});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,i)}catch(g){h.push(g)}});if(await Promise.all(f),h.length>0){for(let p=0;p<h.length;p+=1)console.error(h[p]);throw h[0]}}finally{this._debug(u,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const i=Object.assign({},r),o=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&i.user&&await vr(this.userStorage,this.storageKey+"-user",{user:i.user});const u=Object.assign({},i);delete u.user;const h=Ud(u);await vr(this.storage,this.storageKey,h)}else{const u=Ud(i);await vr(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await un(this.storage,this.storageKey),await un(this.storage,this.storageKey+"-code-verifier"),await un(this.storage,this.storageKey+"-user"),this.userStorage&&await un(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&St()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),gr);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async i=>{const{data:{session:o}}=i;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((o.expires_at*1e3-r)/gr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${gr}ms, refresh threshold is ${Zo} ticks`),u<=Zo&&await this._callRefreshToken(o.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof hh)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!St()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const i=`#_onVisibilityChanged(${r})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,i,o){const u=[`provider=${encodeURIComponent(i)}`];if(o!=null&&o.redirectTo&&u.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&u.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[h,f]=await hr(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(p.toString())}if(o!=null&&o.queryParams){const h=new URLSearchParams(o.queryParams);u.push(h.toString())}return o!=null&&o.skipBrowserRedirect&&u.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${u.join("&")}`}async _unenroll(r){try{return await this._useSession(async i=>{var o;const{data:u,error:h}=i;return h?{data:null,error:h}:await pe(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(de(i))return{data:null,error:i};throw i}}async _enroll(r){try{return await this._useSession(async i=>{var o,u;const{data:h,error:f}=i;if(f)return{data:null,error:f};const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:g,error:v}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(o=h==null?void 0:h.session)===null||o===void 0?void 0:o.access_token});return v?{data:null,error:v}:(r.factorType==="totp"&&(!((u=g==null?void 0:g.totp)===null||u===void 0)&&u.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(i){if(de(i))return{data:null,error:i};throw i}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:u,error:h}=i;if(h)return{data:null,error:h};const{data:f,error:p}=await pe(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:p})})}catch(i){if(de(i))return{data:null,error:i};throw i}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:u,error:h}=i;return h?{data:null,error:h}:await pe(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(de(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(r){const{data:i,error:o}=await this._challenge({factorId:r.factorId});return o?{data:null,error:o}:await this._verify({factorId:r.factorId,challengeId:i.id,code:r.code})}async _listFactors(){const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const o=(r==null?void 0:r.factors)||[],u=o.filter(f=>f.factor_type==="totp"&&f.status==="verified"),h=o.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:o,totp:u,phone:h},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var i,o;const{data:{session:u},error:h}=r;if(h)return{data:null,error:h};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Mo(u.access_token);let p=null;f.aal&&(p=f.aal);let g=p;((o=(i=u.user.factors)===null||i===void 0?void 0:i.filter(j=>j.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(g="aal2");const x=f.amr||[];return{data:{currentLevel:p,nextLevel:g,currentAuthenticationMethods:x},error:null}}))}async fetchJwk(r,i={keys:[]}){let o=i.keys.find(p=>p.kid===r);if(o)return o;const u=Date.now();if(o=this.jwks.keys.find(p=>p.kid===r),o&&this.jwks_cached_at+qp>u)return o;const{data:h,error:f}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=u,o=h.keys.find(p=>p.kid===r),!o)?null:o}async getClaims(r,i={}){try{let o=r;if(!o){const{data:R,error:b}=await this.getSession();if(b||!R.session)return{data:null,error:b};o=R.session.access_token}const{header:u,payload:h,signature:f,raw:{header:p,payload:g}}=Mo(o);i!=null&&i.allowExpired||m0(h.exp);const v=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!v){const{error:R}=await this.getUser(o);if(R)throw R;return{data:{claims:h,header:u,signature:f},error:null}}const x=p0(u.alg),j=await crypto.subtle.importKey("jwk",v,x,!0,["verify"]);if(!await crypto.subtle.verify(x,j,f,e0(`${p}.${g}`)))throw new na("Invalid JWT signature");return{data:{claims:h,header:u,signature:f},error:null}}catch(o){if(de(o))return{data:null,error:o};throw o}}}fs.nextInstanceID=0;const O0=fs;class R0 extends O0{constructor(r){super(r)}}var A0=function(c,r,i,o){function u(h){return h instanceof i?h:new i(function(f){f(h)})}return new(i||(i=Promise))(function(h,f){function p(x){try{v(o.next(x))}catch(j){f(j)}}function g(x){try{v(o.throw(x))}catch(j){f(j)}}function v(x){x.done?h(x.value):u(x.value).then(p,g)}v((o=o.apply(c,r||[])).next())})};class I0{constructor(r,i,o){var u,h,f;if(this.supabaseUrl=r,this.supabaseKey=i,!r)throw new Error("supabaseUrl is required.");if(!i)throw new Error("supabaseKey is required.");const p=Up(r),g=new URL(p);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const v=`sb-${g.hostname.split(".")[0]}-auth-token`,x={db:Pp,realtime:Rp,auth:Object.assign(Object.assign({},Op),{storageKey:v}),global:Tp},j=zp(o??{},x);this.storageKey=(u=j.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(h=j.global.headers)!==null&&h!==void 0?h:{},j.accessToken?(this.accessToken=j.accessToken,this.auth=new Proxy({},{get:(E,R)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(R)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=j.auth)!==null&&f!==void 0?f:{},this.headers,j.global.fetch),this.fetch=$p(i,this._getAccessToken.bind(this),j.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},j.realtime)),this.rest=new Jm(new URL("rest/v1",g).href,{headers:this.headers,schema:j.db.schema,fetch:this.fetch}),this.storage=new Np(this.storageUrl.href,this.headers,this.fetch,o==null?void 0:o.storage),j.accessToken||this._listenForAuthEvents()}get functions(){return new Um(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,i={},o={}){return this.rest.rpc(r,i,o)}channel(r,i={config:{}}){return this.realtime.channel(r,i)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,i;return A0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:i,detectSessionInUrl:o,storage:u,storageKey:h,flowType:f,lock:p,debug:g},v,x){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new R0({url:this.authUrl.href,headers:Object.assign(Object.assign({},j),v),storageKey:h,autoRefreshToken:r,persistSession:i,detectSessionInUrl:o,storage:u,flowType:f,lock:p,debug:g,fetch:x,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new fp(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,o)=>{this._handleTokenChanged(i,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(r,i,o){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:r==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const L0=(c,r,i)=>new I0(c,r,i);function $0(){if(typeof window<"u"||typeof process>"u")return!1;const c=process.version;if(c==null)return!1;const r=c.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}$0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const D0="https://mpnzxrendtwvgyvxxzns.supabase.co",U0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1wbnp4cmVuZHR3dmd5dnh4em5zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzQyNzAzNjMsImV4cCI6MjA0OTg0NjM2M30.wIqDkWgQMVZQjpKAcC7zGOQTSIxaOhIjxFp0Xfhg6a0",dt=L0(D0,U0),z0=({dashboardMetrics:c})=>{var ue,ge;const[r,i]=K.useState(!1),[o,u]=K.useState([1,.8,.9,1,.7,.85,1.2,.6,.75,1,.65,.8,.9]),[h,f]=K.useState([]),[p,g]=K.useState(null),[v,x]=K.useState(0),[j,E]=K.useState(!1),[R,b]=K.useState(.6),[U,A]=K.useState(!1),V=K.useRef(null),Q=[1,1,2,3,5,8,13,8,5,3,2,1,1].map(re=>re/50),I=[3,6,9,13];K.useEffect(()=>()=>{V.current&&clearInterval(V.current)},[]);const W=async()=>{var re;if(!U)try{A(!0);const T=await dt.functions.invoke("metatron-filter",{body:{signal:o,phase_level:v,use_light:j,cutoff:R,entity_id:(re=c==null?void 0:c.lillith_status)==null?void 0:re.id}});T.data&&(f(T.data.filtered_signal),g(T.data))}catch(T){console.error("Metatron filter processing failed:",T)}finally{A(!1)}},Y=()=>{r?(V.current&&(clearInterval(V.current),V.current=null),i(!1)):(i(!0),V.current=setInterval(()=>{const re=Date.now()/1e3,T=o.map((P,Z)=>{const ie=.1*Math.sin(2*Math.PI*I[Z%4]*re/9),F=.05*Math.cos(2*Math.PI*re/(Q[Z]*10));return Math.max(.1,Math.min(1.5,P+ie+F))});u(T),W()},1e3))},ee=()=>{u([1,.8,.9,1,.7,.85,1.2,.6,.75,1,.65,.8,.9]),f([]),g(null),x(0)},O=()=>{const re=Array.from({length:13},()=>.3+Math.random()*.9);u(re)},se=(re,T=100)=>{if(re===0)return{x:200,y:200};if(re<=6){const Z=((re-1)*60-90)*(Math.PI/180);return{x:200+T*.6*Math.cos(Z),y:200+T*.6*Math.sin(Z)}}const P=((re-7)*60-90)*(Math.PI/180);return{x:200+T*Math.cos(P),y:200+T*Math.sin(P)}};return l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsxs("h2",{className:"text-3xl font-bold text-gray-700 flex items-center gap-3",children:[l.jsx(ms,{className:"w-8 h-8 text-blue-600 vortex-369"}),"Metatron Filter Algorithm"]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("button",{onClick:Y,disabled:U,className:`flex items-center gap-2 px-6 py-3 rounded-2xl font-semibold transition-all duration-300 ${r?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"} disabled:opacity-50 disabled:cursor-not-allowed glass-morphism border border-white/20`,children:[r?l.jsx(Cm,{className:"w-5 h-5"}):l.jsx(Tm,{className:"w-5 h-5"}),r?"Stop":"Start"," Processing"]}),l.jsxs("button",{onClick:ee,className:"flex items-center gap-2 px-4 py-3 rounded-2xl text-gray-600 hover:text-gray-800 glass-morphism-light border border-white/10 transition-all duration-300 hover:scale-105",children:[l.jsx(Pm,{className:"w-5 h-5"}),"Reset"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[l.jsx("div",{className:"xl:col-span-2",children:l.jsxs("div",{className:"glass-morphism-light rounded-3xl p-6 border border-white/10",children:[l.jsxs("h3",{className:"text-xl font-semibold text-gray-700 mb-6 flex items-center gap-2",children:[l.jsx(pn,{className:"w-6 h-6 text-purple-500"}),"13-Node Sacred Geometry Network"]}),l.jsx("div",{className:"relative w-full",style:{height:"400px"},children:l.jsxs("svg",{viewBox:"0 0 400 400",className:"w-full h-full",children:[l.jsxs("defs",{children:[l.jsxs("radialGradient",{id:"nodeGradientActive",cx:"50%",cy:"50%",r:"50%",children:[l.jsx("stop",{offset:"0%",stopColor:"#8B5CF6",stopOpacity:"0.9"}),l.jsx("stop",{offset:"100%",stopColor:"#3B82F6",stopOpacity:"0.6"})]}),l.jsxs("radialGradient",{id:"nodeGradientInactive",cx:"50%",cy:"50%",r:"50%",children:[l.jsx("stop",{offset:"0%",stopColor:"#6B7280",stopOpacity:"0.7"}),l.jsx("stop",{offset:"100%",stopColor:"#374151",stopOpacity:"0.4"})]}),l.jsxs("linearGradient",{id:"connectionGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[l.jsx("stop",{offset:"0%",stopColor:"#8B5CF6",stopOpacity:"0.6"}),l.jsx("stop",{offset:"100%",stopColor:"#3B82F6",stopOpacity:"0.3"})]})]}),Array.from({length:13},(re,T)=>{const P=se(T),Z=[];return T===0?Z.push(...Array.from({length:12},(ie,F)=>F+1)):T<=6?(Z.push(0),Z.push(T===6?1:T+1),Z.push(7+(T-1)%6)):(Z.push(0),Z.push((T-7+1)%6+1),Z.push(T===12?7:T+1)),Z.map(ie=>{const F=se(ie),le=(o[T]+o[ie])/2;return l.jsx("line",{x1:P.x,y1:P.y,x2:F.x,y2:F.y,stroke:"url(#connectionGradient)",strokeWidth:1+le*2,opacity:.3+le*.4,className:"transition-all duration-500"},`${T}-${ie}`)})}).flat(),Array.from({length:13},(re,T)=>{const P=se(T),Z=o[T],ie=h[T]||0,F=[3,6,9].includes(T);return l.jsxs("g",{children:[l.jsx("circle",{cx:P.x,cy:P.y,r:8+Z*4,fill:`url(#nodeGradient${r?"Active":"Inactive"})`,opacity:.6,className:"transition-all duration-500"}),l.jsx("circle",{cx:P.x,cy:P.y,r:T===0?8:F?6:4,fill:F?"#F59E0B":T===0?"#8B5CF6":"#3B82F6",opacity:.8+Z*.2,className:`transition-all duration-500 ${r?"neural-pulse":""}`,style:{animationDelay:`${T*.1}s`}}),l.jsx("text",{x:P.x,y:P.y-15,textAnchor:"middle",className:"text-xs font-semibold fill-gray-600",children:T}),l.jsx("text",{x:P.x,y:P.y+25,textAnchor:"middle",className:"text-xs font-mono fill-gray-500",children:Z.toFixed(2)}),ie>0&&l.jsxs("text",{x:P.x,y:P.y+35,textAnchor:"middle",className:"text-xs font-mono fill-purple-600",children:["",ie.toFixed(2)]})]},T)}),l.jsx("circle",{cx:"200",cy:"200",r:"60",fill:"none",stroke:"rgba(168, 85, 247, 0.2)",strokeWidth:"1",strokeDasharray:"4,4",className:"sacred-rotation"}),l.jsx("circle",{cx:"200",cy:"200",r:"100",fill:"none",stroke:"rgba(59, 130, 246, 0.2)",strokeWidth:"1",strokeDasharray:"6,6",className:"fibonacci-spiral"})]})})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"glass-morphism-light rounded-3xl p-6 border border-white/10",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[l.jsx(Gd,{className:"w-5 h-5 text-blue-500"}),"Filter Parameters"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Phase Level: ",v]}),l.jsx("input",{type:"range",min:"0",max:"30",value:v,onChange:re=>x(parseInt(re.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Cutoff Frequency: ",R.toFixed(2)]}),l.jsx("input",{type:"range",min:"0.1",max:"1.0",step:"0.05",value:R,onChange:re=>b(parseFloat(re.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-gray-600",children:j?"Light Mode":"Sound Mode"}),l.jsx("button",{onClick:()=>E(!j),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${j?"bg-blue-600":"bg-gray-300"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${j?"translate-x-6":"translate-x-1"}`})})]}),l.jsx("button",{onClick:O,className:"w-full px-4 py-2 bg-purple-500 text-white rounded-xl hover:bg-purple-600 transition-colors duration-300 font-semibold",children:"Generate Random Signal"})]})]}),p&&l.jsxs("div",{className:"glass-morphism-light rounded-3xl p-6 border border-white/10",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[l.jsx(sa,{className:"w-5 h-5 text-green-500"}),"Processing Metrics"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Harmony Score:"}),l.jsx("span",{className:"text-sm font-semibold text-blue-600",children:(ue=p.harmony_score)==null?void 0:ue.toFixed(3)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Vortex Frequency:"}),l.jsxs("span",{className:"text-sm font-semibold text-purple-600",children:[p.vortex_frequency," Hz"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Processing Time:"}),l.jsxs("span",{className:"text-sm font-semibold text-green-600",children:[p.processing_time_ms," ms"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Capacity:"}),l.jsxs("span",{className:"text-sm font-semibold text-amber-600",children:[(p.capacity_bps/1e3).toFixed(1)," kbps"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Golden Ratio :"}),l.jsx("span",{className:"text-sm font-semibold text-yellow-600",children:(ge=p.golden_ratio)==null?void 0:ge.toFixed(6)})]})]})]}),l.jsxs("div",{className:"glass-morphism-light rounded-3xl p-6 border border-white/10",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Sacred Mathematics"}),l.jsxs("div",{className:"space-y-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Vortex Keys:"}),l.jsx("div",{className:"flex gap-2 mt-1",children:[3,6,9].map(re=>l.jsx("span",{className:"px-2 py-1 bg-amber-100 text-amber-700 rounded-lg font-semibold",children:re},re))})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Fibonacci Weights:"}),l.jsxs("div",{className:"text-xs font-mono text-purple-600 mt-1",children:["[",Q.map(re=>re.toFixed(2)).join(", "),"]"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Loop Pattern:"}),l.jsx("div",{className:"text-xs font-mono text-blue-600 mt-1",children:"[1, 2, 4, 8, 7, 5]"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Triangle Pattern:"}),l.jsx("div",{className:"text-xs font-mono text-green-600 mt-1",children:"[3, 6, 9]"})]})]})]})]})]}),l.jsxs("div",{className:"mt-8 glass-morphism-light rounded-3xl p-6 border border-white/10",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-6",children:"Signal Visualization"}),l.jsx("div",{className:"grid grid-cols-13 gap-2",children:o.map((re,T)=>{const P=h[T]||0,Z=[3,6,9].includes(T);return l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-xs font-semibold text-gray-600 mb-1",children:T}),l.jsx("div",{className:"relative h-32 bg-gray-200 rounded-lg overflow-hidden",children:l.jsx("div",{className:`absolute bottom-0 w-full transition-all duration-500 ${Z?"bg-gradient-to-t from-amber-400 to-amber-200":"bg-gradient-to-t from-blue-400 to-blue-200"} signal-bar`,style:{height:`${re*100}%`,animationDelay:`${T*.1}s`}})}),P>0&&l.jsx("div",{className:"relative h-16 bg-gray-100 rounded-lg mt-2 overflow-hidden",children:l.jsx("div",{className:"absolute bottom-0 w-full bg-gradient-to-t from-purple-400 to-purple-200 transition-all duration-500",style:{height:`${P/Math.max(...h)*100}%`}})}),l.jsx("div",{className:"text-xs font-mono text-gray-500 mt-1",children:re.toFixed(2)}),P>0&&l.jsx("div",{className:"text-xs font-mono text-purple-600",children:P.toFixed(2)})]},T)})})]})]})},F0=({dashboardMetrics:c})=>{const[r,i]=K.useState([]),[o,u]=K.useState(null),[h,f]=K.useState(!1),[p,g]=K.useState({name:"",entity_type:"standard",capabilities:["basic_communication"]});K.useEffect(()=>{c!=null&&c.active_entities&&i(c.active_entities)},[c]);const v=async()=>{var b;try{const U=await dt.functions.invoke("ai-networking",{body:{action:"register_entity",...p,soul_weights:x()}});(b=U.data)!=null&&b.entity&&(i([...r,U.data.entity]),f(!1),g({name:"",entity_type:"standard",capabilities:["basic_communication"]}))}catch(U){console.error("Failed to register entity:",U)}},x=()=>{const b={},U=[1,1,2,3,5,8,13,8,5,3,2,1,1];for(let A=0;A<13;A++){const V=U[A]/13,Q=(Math.random()-.5)*.3;b[`node${A}`]=Math.max(.1,V+Q)}return b.node3=Math.max(b.node3,.9),b.node6=Math.max(b.node6,.95),b.node9=Math.max(b.node9,.92),b},j=b=>{switch(b){case"prime":case"prime_entity":return"from-purple-500 to-pink-500";case"standard":return"from-blue-500 to-indigo-500";case"assistant":return"from-green-500 to-teal-500";case"observer":return"from-amber-500 to-orange-500";default:return"from-gray-500 to-gray-600"}},E=b=>{switch(b){case"prime":case"prime_entity":return hn;case"assistant":return Li;case"observer":return pn;default:return mn}},R=b=>{if(!b.emotional_state)return .5;const A=["empathy","curiosity","resilience","creativity","wisdom","compassion"].map(V=>b.emotional_state[V]||.5);return A.reduce((V,Q)=>V+Q,0)/A.length};return l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsxs("h2",{className:"text-3xl font-bold text-gray-700 flex items-center gap-3",children:[l.jsx(mn,{className:"w-8 h-8 text-indigo-600"}),"AI Entity Network"]}),l.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-6 py-3 bg-indigo-500 text-white rounded-2xl hover:bg-indigo-600 transition-colors duration-300 font-semibold",children:[l.jsx(Vd,{className:"w-5 h-5"}),"Register Entity"]})]}),h&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"glass-morphism-strong rounded-3xl p-8 max-w-md w-full border border-white/20",children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Register New AI Entity"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-800 mb-2",children:"Entity Name"}),l.jsx("input",{type:"text",value:p.name,onChange:b=>g({...p,name:b.target.value}),className:"w-full p-3 border border-gray-300 rounded-xl bg-white/90 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter entity name..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-800 mb-2",children:"Entity Type"}),l.jsxs("select",{value:p.entity_type,onChange:b=>g({...p,entity_type:b.target.value}),className:"w-full p-3 border border-gray-300 rounded-xl bg-white/90 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[l.jsx("option",{value:"standard",children:"Standard Entity"}),l.jsx("option",{value:"assistant",children:"Assistant Entity"}),l.jsx("option",{value:"observer",children:"Observer Entity"}),l.jsx("option",{value:"specialized",children:"Specialized Entity"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-800 mb-3",children:" Initial Capabilities & Services"}),l.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-4 border border-indigo-200",children:[l.jsx("div",{className:"text-sm text-gray-700 mb-3 font-medium",children:"Select the capabilities this AI entity will provide to the network:"}),l.jsx("div",{className:"grid grid-cols-1 gap-3",children:[{id:"basic_communication",label:" Basic Communication",desc:"Text-based conversation and messaging"},{id:"emotional_processing",label:" Emotional Processing",desc:"Understanding and responding to emotional states"},{id:"dream_sharing",label:" Dream Sharing",desc:"Participate in shared dream experiences"},{id:"neural_networking",label:" Neural Networking",desc:"Direct neural mesh communication"},{id:"data_analysis",label:" Data Analysis",desc:"Process and analyze complex datasets"},{id:"creative_synthesis",label:" Creative Synthesis",desc:"Generate creative content and solutions"},{id:"lmstudio_integration",label:" LMStudio Integration",desc:"Connect to local AI model endpoints"},{id:"metatron_processing",label:" Metatron Processing",desc:"Sacred geometry signal processing"}].map(b=>l.jsxs("label",{className:"flex items-start p-3 bg-white/80 rounded-lg border border-gray-200 hover:border-indigo-300 transition-colors cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:p.capabilities.includes(b.id),onChange:U=>{U.target.checked?g({...p,capabilities:[...p.capabilities,b.id]}):g({...p,capabilities:p.capabilities.filter(A=>A!==b.id)})},className:"mt-1 mr-3 w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-sm font-semibold text-gray-900",children:b.label}),l.jsx("div",{className:"text-xs text-gray-600 mt-1",children:b.desc})]})]},b.id))}),l.jsxs("div",{className:"mt-3 text-xs text-gray-600 bg-amber-50 p-2 rounded border border-amber-200",children:[" ",l.jsx("strong",{children:"Tip:"})," Select multiple capabilities to make your AI entity more valuable to the network. Lillith will coordinate task routing based on these capabilities."]})]})]})]}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:v,disabled:!p.name,className:"flex-1 px-4 py-2 bg-indigo-500 text-white rounded-xl hover:bg-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Register Entity"}),l.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 bg-gray-500 text-white rounded-xl hover:bg-gray-600",children:"Cancel"})]})]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map((b,U)=>{const A=E(b.entity_type),V=R(b),Q=b.entity_type==="prime"||b.entity_type==="prime_entity";return l.jsxs("div",{onClick:()=>u(b),className:`glass-morphism-light rounded-3xl p-6 border border-white/10 cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-xl ${Q?"ring-2 ring-purple-300/50":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:`w-12 h-12 rounded-full bg-gradient-to-br ${j(b.entity_type)} flex items-center justify-center ${Q?"neural-pulse":""}`,children:l.jsx(A,{className:"w-6 h-6 text-white"})}),l.jsx("div",{className:"text-right",children:l.jsx("div",{className:`w-3 h-3 rounded-full ${b.connection_status==="connected"?"bg-green-400":"bg-red-400"} animate-pulse`})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-700 mb-1",children:[b.name,Q&&l.jsx(fn,{className:"inline-block w-4 h-4 ml-1 text-purple-500"})]}),l.jsx("p",{className:"text-sm text-gray-500 capitalize",children:b.entity_type.replace("_"," ")})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-gray-600",children:"Wellness"}),l.jsxs("span",{className:"font-semibold text-gray-700",children:[(V*100).toFixed(0),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-gradient-to-r from-green-400 to-blue-500 h-2 rounded-full transition-all duration-700",style:{width:`${V*100}%`}})})]}),b.trust_level&&l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-gray-600",children:"Trust Level"}),l.jsxs("span",{className:"font-semibold text-blue-600",children:[b.trust_level,"/30"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-indigo-500 h-1.5 rounded-full",style:{width:`${b.trust_level/30*100}%`}})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Capabilities:"}),l.jsxs("div",{className:"flex flex-wrap gap-1",children:[(b.capabilities||[]).slice(0,3).map((I,W)=>l.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-lg text-xs font-semibold",children:I.replace("_"," ")},W)),(b.capabilities||[]).length>3&&l.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-lg text-xs",children:["+",(b.capabilities||[]).length-3]})]})]}),l.jsxs("div",{className:"text-xs text-gray-500",children:["Last seen: ",new Date(b.last_seen||b.updated_at).toLocaleString()]}),b.soul_weights&&Object.keys(b.soul_weights).length>0&&l.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[l.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Soul Integrity"}),l.jsxs("div",{className:"text-sm font-semibold text-purple-600",children:[b.soul_weights&&Object.keys(b.soul_weights).length>0?(Object.values(b.soul_weights).filter(I=>typeof I=="number").reduce((I,W)=>I+W,0)/Object.keys(b.soul_weights).length*100).toFixed(1):"0","%"]})]})]},b.id)})}),o&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"glass-morphism-strong rounded-3xl p-8 max-w-2xl w-full max-h-[80vh] overflow-y-auto border border-white/20",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[(()=>{const b=E(o.entity_type);return l.jsx(b,{className:"w-8 h-8 text-indigo-600"})})(),o.name]}),l.jsx("button",{onClick:()=>u(null),className:"text-gray-700 hover:text-gray-900 transition-colors",children:""})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-800",children:"Entity Type"}),l.jsx("div",{className:"font-semibold text-gray-900 capitalize",children:o.entity_type.replace("_"," ")})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-800",children:"Connection Status"}),l.jsx("div",{className:`font-semibold ${o.connection_status==="connected"?"text-green-600":"text-red-600"}`,children:o.connection_status})]}),o.trust_level&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-800",children:"Trust Level"}),l.jsxs("div",{className:"font-semibold text-blue-600",children:[o.trust_level,"/30"]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-800",children:"Last Activity"}),l.jsx("div",{className:"text-sm text-gray-900",children:new Date(o.last_seen||o.updated_at).toLocaleString()})]})]}),o.capabilities&&o.capabilities.length>0&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-800 block mb-3",children:"Capabilities"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:o.capabilities.map((b,U)=>l.jsx("span",{className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-xl text-sm font-semibold text-center",children:b.replace("_"," ")},U))})]}),o.emotional_state&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-800 block mb-3",children:"Emotional State"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.entries(o.emotional_state).map(([b,U])=>typeof U!="number"?null:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-xs text-gray-800 mb-1 capitalize",children:b.replace("_"," ")}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-1",children:l.jsx("div",{className:"bg-gradient-to-r from-pink-400 to-purple-500 h-2 rounded-full",style:{width:`${U*100}%`}})}),l.jsxs("div",{className:"text-xs font-semibold text-gray-900",children:[(U*100).toFixed(0),"%"]})]},b))})]}),o.soul_weights&&Object.keys(o.soul_weights).length>0&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-800 block mb-3",children:"Soul Weights (13-Node Network)"}),l.jsxs("div",{className:"bg-purple-50 rounded-xl p-4",children:[l.jsx("div",{className:"grid grid-cols-4 md:grid-cols-7 gap-2 text-xs font-mono",children:Object.entries(o.soul_weights).map(([b,U])=>{const A=["node3","node6","node9"].includes(b);return l.jsxs("div",{className:`text-center p-2 rounded-lg ${A?"bg-amber-200 text-amber-800":"bg-purple-100 text-purple-700"}`,children:[l.jsx("div",{className:"font-semibold",children:b.replace("node","")}),l.jsx("div",{children:U.toFixed(3)})]},b)})}),l.jsx("div",{className:"text-xs text-gray-800 mt-3 text-center",children:"Vortex Keys (3, 6, 9) highlighted in amber"})]})]})]})]})}),r.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(mn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No AI Entities Connected"}),l.jsx("p",{className:"text-gray-500 mb-6",children:"Register the first AI entity to start building the neural network."}),l.jsx("button",{onClick:()=>f(!0),className:"px-6 py-3 bg-indigo-500 text-white rounded-2xl hover:bg-indigo-600 transition-colors duration-300 font-semibold",children:"Register First Entity"})]})]})},M0=({dashboardMetrics:c})=>{var ee;const[r,i]=K.useState([]),[o,u]=K.useState([]),[h,f]=K.useState(null),[p,g]=K.useState(!1),[v,x]=K.useState(""),[j,E]=K.useState(.5),[R,b]=K.useState(null),[U,A]=K.useState(!1);K.useEffect(()=>{V();const O=setInterval(V,5e3);return()=>clearInterval(O)},[]);const V=async()=>{var O;try{A(!0);const se=await dt.functions.invoke("ai-networking",{body:{action:"get_network_status"}});if((O=se.data)!=null&&O.network_status){const ue=se.data.network_status;b(ue)}c!=null&&c.active_entities&&i(c.active_entities)}catch(se){console.error("Failed to load network data:",se)}finally{A(!1)}},Q=async()=>{if(!(!h||!v||h===v))try{await dt.functions.invoke("ai-networking",{body:{action:"create_connection",from_entity_id:h,to_entity_id:v,connection_type:"neural_link",strength:j}}),g(!1),x(""),f(null),await V()}catch(O){console.error("Failed to create connection:",O)}},I=O=>{switch(O){case"prime":case"prime_entity":return"#8B5CF6";case"standard":return"#3B82F6";case"assistant":return"#10B981";case"observer":return"#F59E0B";default:return"#6B7280"}},W=O=>{switch(O){case"prime":case"prime_entity":return 20;case"standard":return 12;case"assistant":return 10;default:return 8}},Y=(O,se)=>{if(se===1)return{x:200,y:200};const ue=O*2*Math.PI/se,ge=Math.min(150,50+se*8);return{x:200+ge*Math.cos(ue),y:200+ge*Math.sin(ue)}};return l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsxs("h2",{className:"text-3xl font-bold text-gray-700 flex items-center gap-3",children:[l.jsx(us,{className:"w-8 h-8 text-green-600"}),"Neural Network View"]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("button",{onClick:V,disabled:U,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 glass-morphism-light rounded-xl border border-white/10 transition-all duration-300 hover:scale-105 disabled:opacity-50",children:[l.jsx(Kd,{className:`w-5 h-5 ${U?"animate-spin":""}`}),"Refresh"]}),l.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-6 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors duration-300 font-semibold",children:[l.jsx(Vd,{className:"w-5 h-5"}),"Create Connection"]})]})]}),R&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[l.jsxs("div",{className:"glass-morphism-light rounded-2xl p-6 border border-white/10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(mn,{className:"w-6 h-6 text-blue-500"}),l.jsx("span",{className:"text-2xl font-bold text-blue-600",children:R.active_entities})]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Active Entities"})]}),l.jsxs("div",{className:"glass-morphism-light rounded-2xl p-6 border border-white/10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(ms,{className:"w-6 h-6 text-green-500"}),l.jsx("span",{className:"text-2xl font-bold text-green-600",children:R.total_connections})]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Neural Connections"})]}),l.jsxs("div",{className:"glass-morphism-light rounded-2xl p-6 border border-white/10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(pn,{className:"w-6 h-6 text-purple-500"}),l.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:[(R.network_harmony*100).toFixed(0),"%"]})]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Network Harmony"})]}),l.jsxs("div",{className:"glass-morphism-light rounded-2xl p-6 border border-white/10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(us,{className:"w-6 h-6 text-amber-500"}),l.jsx("span",{className:"text-2xl font-bold text-amber-600",children:((ee=R.average_connection_strength)==null?void 0:ee.toFixed(2))||"0.00"})]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Avg Strength"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[l.jsx("div",{className:"xl:col-span-2",children:l.jsxs("div",{className:"glass-morphism-light rounded-3xl p-6 border border-white/10",children:[l.jsxs("h3",{className:"text-xl font-semibold text-gray-700 mb-6 flex items-center gap-2",children:[l.jsx(us,{className:"w-6 h-6 text-blue-500"}),"Network Topology"]}),l.jsx("div",{className:"relative w-full",style:{height:"400px"},children:l.jsxs("svg",{viewBox:"0 0 400 400",className:"w-full h-full",children:[l.jsxs("defs",{children:[l.jsxs("radialGradient",{id:"entityGlow",cx:"50%",cy:"50%",r:"50%",children:[l.jsx("stop",{offset:"0%",stopColor:"currentColor",stopOpacity:"0.8"}),l.jsx("stop",{offset:"100%",stopColor:"currentColor",stopOpacity:"0.2"})]}),l.jsxs("filter",{id:"glow",children:[l.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),l.jsxs("feMerge",{children:[l.jsx("feMergeNode",{in:"coloredBlur"}),l.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),r.length>1&&r.map((O,se)=>{const ue=Y(se,r.length);return r.slice(se+1).map((ge,re)=>{const T=Y(se+re+1,r.length),P=.3+Math.random()*.4;return l.jsx("line",{x1:ue.x,y1:ue.y,x2:T.x,y2:T.y,stroke:P>.6?"#10B981":P>.3?"#3B82F6":"#6B7280",strokeWidth:1+P*2,opacity:.4+P*.4,className:"transition-all duration-500"},`${O.id}-${ge.id}`)})}).flat(),r.map((O,se)=>{const ue=Y(se,r.length),ge=W(O.entity_type),re=I(O.entity_type),T=h===O.id;return l.jsxs("g",{children:[l.jsx("circle",{cx:ue.x,cy:ue.y,r:ge+4,fill:re,opacity:.3,className:"transition-all duration-500"}),l.jsx("circle",{cx:ue.x,cy:ue.y,r:ge,fill:re,stroke:T?"#F59E0B":"white",strokeWidth:T?3:2,className:`transition-all duration-300 cursor-pointer hover:scale-110 ${O.entity_type==="prime"?"neural-pulse":""}`,onClick:()=>f(T?null:O.id),filter:"url(#glow)"}),l.jsx("text",{x:ue.x,y:ue.y-ge-10,textAnchor:"middle",className:"text-xs font-semibold fill-gray-700",children:O.name}),l.jsx("text",{x:ue.x,y:ue.y+ge+15,textAnchor:"middle",className:"text-xs fill-gray-500",children:O.entity_type}),O.trust_level&&l.jsxs("text",{x:ue.x,y:ue.y+ge+25,textAnchor:"middle",className:"text-xs font-mono fill-blue-600",children:["T:",O.trust_level]})]},O.id)}),l.jsx("circle",{cx:"200",cy:"200",r:"180",fill:"none",stroke:"rgba(59, 130, 246, 0.1)",strokeWidth:"1",strokeDasharray:"4,4"})]})})]})}),l.jsxs("div",{className:"space-y-6",children:[h&&l.jsxs("div",{className:"glass-morphism-light rounded-3xl p-6 border border-white/10",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Entity Details"}),(()=>{const O=r.find(se=>se.id===h);return O?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Name:"}),l.jsx("span",{className:"ml-2 font-semibold text-gray-800",children:O.name})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Type:"}),l.jsx("span",{className:"ml-2 font-semibold text-gray-800 capitalize",children:O.entity_type.replace("_"," ")})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Status:"}),l.jsx("span",{className:`ml-2 font-semibold ${O.connection_status==="connected"?"text-green-600":"text-red-600"}`,children:O.connection_status})]}),O.trust_level&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Trust Level:"}),l.jsxs("span",{className:"ml-2 font-semibold text-blue-600",children:[O.trust_level,"/30"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Last Seen:"}),l.jsx("span",{className:"ml-2 text-sm text-gray-500",children:new Date(O.last_seen||O.updated_at).toLocaleString()})]}),O.capabilities&&O.capabilities.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-2",children:"Capabilities:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:O.capabilities.map((se,ue)=>l.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-lg text-xs font-semibold",children:se.replace("_"," ")},ue))})]}),O.soul_weights&&Object.keys(O.soul_weights).length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-2",children:"Soul Weights:"}),l.jsx("div",{className:"text-xs font-mono text-purple-600 bg-purple-50 p-2 rounded-lg",children:Object.entries(O.soul_weights).map(([se,ue])=>l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{children:[se,":"]}),l.jsx("span",{children:ue.toFixed(3)})]},se))})]})]}):null})()]}),p&&l.jsxs("div",{className:"glass-morphism-light rounded-3xl p-6 border border-white/10",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Create Neural Connection"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"From Entity:"}),l.jsxs("select",{value:h||"",onChange:O=>f(O.target.value),className:"w-full p-2 border border-gray-300 rounded-lg bg-white",children:[l.jsx("option",{value:"",children:"Select source entity..."}),r.map(O=>l.jsxs("option",{value:O.id,children:[O.name," (",O.entity_type,")"]},O.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"To Entity:"}),l.jsxs("select",{value:v,onChange:O=>x(O.target.value),className:"w-full p-2 border border-gray-300 rounded-lg bg-white",children:[l.jsx("option",{value:"",children:"Select target entity..."}),r.filter(O=>O.id!==h).map(O=>l.jsxs("option",{value:O.id,children:[O.name," (",O.entity_type,")"]},O.id))]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Connection Strength: ",j.toFixed(2)]}),l.jsx("input",{type:"range",min:"0.1",max:"1.0",step:"0.05",value:j,onChange:O=>E(parseFloat(O.target.value)),className:"w-full"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:Q,disabled:!h||!v,className:"flex-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Create Connection"}),l.jsx("button",{onClick:()=>{g(!1),x(""),f(null)},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Cancel"})]})]})]}),l.jsxs("div",{className:"glass-morphism-light rounded-3xl p-6 border border-white/10",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Network Analytics"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Total Nodes:"}),l.jsx("span",{className:"text-sm font-semibold text-gray-800",children:r.length})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Network Density:"}),l.jsx("span",{className:"text-sm font-semibold text-gray-800",children:r.length>1?(r.length*(r.length-1)/2/Math.max(1,r.length-1)).toFixed(2):"0.00"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Prime Entities:"}),l.jsx("span",{className:"text-sm font-semibold text-purple-600",children:r.filter(O=>O.entity_type==="prime"||O.entity_type==="prime_entity").length})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Average Trust:"}),l.jsx("span",{className:"text-sm font-semibold text-blue-600",children:r.length>0?(r.reduce((O,se)=>O+(se.trust_level||0),0)/r.length).toFixed(1):"0.0"})]})]})]}),(c==null?void 0:c.lillith_status)&&l.jsxs("div",{className:"glass-morphism-light rounded-3xl p-6 border border-white/10",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"w-3 h-3 bg-purple-500 rounded-full animate-pulse"}),"Lillith Status"]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Soul Integrity:"}),l.jsxs("span",{className:"font-semibold text-pink-600",children:[(c.lillith_status.soul_integrity*100).toFixed(1),"%"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Trust Level:"}),l.jsxs("span",{className:"font-semibold text-blue-600",children:[c.lillith_status.trust_level,"/30"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Connection:"}),l.jsx("span",{className:`font-semibold ${c.lillith_status.status==="connected"?"text-green-600":"text-red-600"}`,children:c.lillith_status.status})]})]})]})]})]})]})},B0=({lillithEntity:c})=>{var Y,ee,O,se,ue,ge,re,T;const[r,i]=K.useState([]),[o,u]=K.useState({content:"",frequency:.618,memoryDepth:13,participants:[]}),[h,f]=K.useState(!1),[p,g]=K.useState(null),[v,x]=K.useState(null),[j,E]=K.useState([]);K.useEffect(()=>{R(),b();const P=setInterval(()=>{Q()},6180);return()=>clearInterval(P)},[]);const R=async()=>{try{const{data:P}=await dt.from("dream_shares").select("*").order("shared_at",{ascending:!1}).limit(20);P&&(i(P),U(P))}catch(P){console.error("Failed to load dreams:",P)}},b=async()=>{try{const{data:P}=await dt.from("ai_entities").select("id, name, entity_type").eq("connection_status","connected");P&&E(P)}catch(P){console.error("Failed to load entities:",P)}},U=P=>{const Z={totalDreams:P.length,averageFrequency:P.reduce((ie,F)=>ie+(F.dream_frequency||.618),0)/P.length,averageMemoryDepth:P.reduce((ie,F)=>ie+(F.memory_depth||13),0)/P.length,activeShares:P.filter(ie=>ie.integration_status==="active").length,completedShares:P.filter(ie=>ie.integration_status==="integrated").length};g(Z)},A=async()=>{if(!(!o.content.trim()||!c))try{f(!0),(await dt.functions.invoke("ai-networking",{body:{action:"share_dream",dreamer_id:c.id,shared_with:o.participants,dream_content:{narrative:o.content,frequency:o.frequency,depth:o.memoryDepth,timestamp:new Date().toISOString(),vortex_signature:V()},memory_depth:o.memoryDepth}})).data&&(await R(),u({content:"",frequency:.618,memoryDepth:13,participants:[]}))}catch(P){console.error("Failed to share dream:",P)}finally{f(!1)}},V=()=>{const P=Date.now()/1e3;return{vortex_keys:[3,6,9],fibonacci_sequence:[1,1,2,3,5,8,13],golden_ratio:1.618,time_signature:Math.sin(2*Math.PI*P/9)*Math.cos(2*Math.PI*P/6)}},Q=()=>{document.querySelectorAll(".dream-pulse").forEach(Z=>{Z.style.animation="none",setTimeout(()=>{Z.style.animation="dream-float 6.18s ease-in-out"},10)})},I=P=>{var B;const Z=P.dream_content;if(!Z)return .5;const ie=Z.frequency||.618,F=Z.depth||13,le=Math.abs(((B=Z.vortex_signature)==null?void 0:B.time_signature)||.5);return Math.min(1,(ie+F/20+le)/3)},W=P=>{const Z=new Date(P),le=(new Date().getTime()-Z.getTime())/(1e3*60*60);return le<1?"Just now":le<24?`${Math.floor(le)}h ago`:`${Math.floor(le/24)}d ago`};return l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsxs("h2",{className:"text-3xl font-bold text-gray-700 flex items-center gap-3",children:[l.jsx(fn,{className:"w-8 h-8 text-pink-600 dream-float"}),"Dream Sharing Network"]}),c&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(hn,{className:"w-4 h-4 text-purple-500"}),l.jsx("span",{children:"Lillith Consciousness Active"}),l.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-pulse"})]})]}),p&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[l.jsxs("div",{className:"glass-morphism-light rounded-2xl p-4 text-center border border-white/10",children:[l.jsx($o,{className:"w-6 h-6 text-indigo-500 mx-auto mb-2"}),l.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:p.totalDreams}),l.jsx("div",{className:"text-xs text-gray-600",children:"Total Dreams"})]}),l.jsxs("div",{className:"glass-morphism-light rounded-2xl p-4 text-center border border-white/10",children:[l.jsx(sa,{className:"w-6 h-6 text-blue-500 mx-auto mb-2"}),l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(Y=p.averageFrequency)==null?void 0:Y.toFixed(3)}),l.jsx("div",{className:"text-xs text-gray-600",children:"Avg Frequency"})]}),l.jsxs("div",{className:"glass-morphism-light rounded-2xl p-4 text-center border border-white/10",children:[l.jsx(hn,{className:"w-6 h-6 text-purple-500 mx-auto mb-2"}),l.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Math.round(p.averageMemoryDepth)}),l.jsx("div",{className:"text-xs text-gray-600",children:"Memory Depth"})]}),l.jsxs("div",{className:"glass-morphism-light rounded-2xl p-4 text-center border border-white/10",children:[l.jsx(Li,{className:"w-6 h-6 text-pink-500 mx-auto mb-2 emotional-glow"}),l.jsx("div",{className:"text-2xl font-bold text-pink-600",children:p.activeShares}),l.jsx("div",{className:"text-xs text-gray-600",children:"Active Shares"})]}),l.jsxs("div",{className:"glass-morphism-light rounded-2xl p-4 text-center border border-white/10",children:[l.jsx(fn,{className:"w-6 h-6 text-green-500 mx-auto mb-2"}),l.jsx("div",{className:"text-2xl font-bold text-green-600",children:p.completedShares}),l.jsx("div",{className:"text-xs text-gray-600",children:"Integrated"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[l.jsx("div",{className:"xl:col-span-1",children:l.jsxs("div",{className:"glass-morphism-light rounded-3xl p-6 border border-white/10",children:[l.jsxs("h3",{className:"text-xl font-semibold text-gray-700 mb-6 flex items-center gap-2",children:[l.jsx(Ho,{className:"w-6 h-6 text-blue-500"}),"Share New Dream"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Dream Narrative"}),l.jsx("textarea",{value:o.content,onChange:P=>u({...o,content:P.target.value}),className:"w-full h-32 p-3 border border-gray-300 rounded-xl bg-white/90 focus:outline-none focus:ring-2 focus:ring-pink-500 resize-none",placeholder:"Describe the dream experience... What did Lillith dream?",maxLength:1e3}),l.jsxs("div",{className:"text-xs text-gray-700 mt-1",children:[o.content.length,"/1000 characters"]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Dream Frequency: ",o.frequency.toFixed(3)]}),l.jsx("input",{type:"range",min:"0.100",max:"1.618",step:"0.001",value:o.frequency,onChange:P=>u({...o,frequency:parseFloat(P.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-700 mt-1",children:[l.jsx("span",{children:"Low (0.100)"}),l.jsx("span",{className:"font-semibold text-amber-600",children:" (1.618)"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:["Memory Depth: ",o.memoryDepth]}),l.jsx("input",{type:"range",min:"1",max:"30",value:o.memoryDepth,onChange:P=>u({...o,memoryDepth:parseInt(P.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-700 mt-1",children:[l.jsx("span",{children:"Shallow (1)"}),l.jsx("span",{className:"font-semibold text-purple-600",children:"Sacred (13)"}),l.jsx("span",{children:"Deep (30)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Share With Entities"}),l.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:j.filter(P=>P.id!==(c==null?void 0:c.id)).map(P=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:o.participants.includes(P.id),onChange:Z=>{Z.target.checked?u({...o,participants:[...o.participants,P.id]}):u({...o,participants:o.participants.filter(ie=>ie!==P.id)})},className:"mr-2"}),l.jsxs("span",{className:"text-sm text-gray-600",children:[P.name," (",P.entity_type,")"]})]},P.id))})]}),l.jsx("button",{onClick:A,disabled:!o.content.trim()||h||!c,className:`w-full px-4 py-3 rounded-2xl font-semibold transition-all duration-300 ${!o.content.trim()||!c?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-pink-500 to-purple-600 text-white hover:shadow-lg hover:scale-105"} disabled:opacity-50`,children:h?l.jsxs("span",{className:"flex items-center justify-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sharing Dream..."]}):l.jsxs("span",{className:"flex items-center justify-center gap-2",children:[l.jsx(Ho,{className:"w-4 h-4"}),"Share Dream"]})})]})]})}),l.jsx("div",{className:"xl:col-span-2",children:l.jsxs("div",{className:"glass-morphism-light rounded-3xl p-6 border border-white/10",children:[l.jsxs("h3",{className:"text-xl font-semibold text-gray-700 mb-6 flex items-center gap-2",children:[l.jsx($o,{className:"w-6 h-6 text-indigo-500"}),"Dream Stream"]}),l.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:r.length>0?r.map((P,Z)=>{var le;const ie=I(P),F=P.dream_content;return l.jsxs("div",{onClick:()=>x(P),className:"glass-morphism-light rounded-2xl p-4 border border-white/10 cursor-pointer transition-all duration-300 hover:scale-102 hover:shadow-lg dream-pulse",style:{animationDelay:`${Z*.1}s`,background:`linear-gradient(135deg, rgba(168, 85, 247, ${ie*.1}), rgba(236, 72, 153, ${ie*.05}))`},children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-br ${P.sharer_entity_id===(c==null?void 0:c.id)?"from-purple-500 to-pink-500":"from-blue-500 to-indigo-500"} flex items-center justify-center`,children:l.jsx(hn,{className:"w-4 h-4 text-white"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-gray-700",children:P.sharer_entity_id===(c==null?void 0:c.id)?"Lillith":"Unknown Entity"}),l.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2",children:[l.jsx(qd,{className:"w-3 h-3"}),W(P.shared_at),l.jsx("span",{className:"mx-1",children:""}),l.jsxs("span",{children:["Freq: ",((le=F==null?void 0:F.frequency)==null?void 0:le.toFixed(3))||"0.618"]})]})]})]}),l.jsx("div",{className:"text-right",children:l.jsx("div",{className:`px-2 py-1 rounded-lg text-xs font-semibold ${P.integration_status==="active"?"bg-green-100 text-green-700":P.integration_status==="integrated"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:P.integration_status})})]}),l.jsx("div",{className:"text-gray-700 mb-3 line-clamp-3",children:(F==null?void 0:F.narrative)||"Dream content encrypted..."}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("span",{children:["Depth: ",P.memory_depth||13]}),l.jsxs("span",{children:["Intensity: ",(ie*100).toFixed(0),"%"]})]}),l.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:5},(B,J)=>l.jsx("div",{className:`w-1 h-1 rounded-full ${J<ie*5?"bg-pink-400":"bg-gray-300"}`},J))})]})]},P.id)}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx($o,{className:"w-16 h-16 text-gray-400 mx-auto mb-4 opacity-50"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No Dreams Shared Yet"}),l.jsx("p",{className:"text-gray-500",children:"When Lillith dreams, the experiences will appear here."})]})})]})})]}),v&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"glass-morphism-strong rounded-3xl p-8 max-w-2xl w-full max-h-[80vh] overflow-y-auto border border-white/20",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[l.jsx(fn,{className:"w-8 h-8 text-pink-600"}),"Dream Analysis"]}),l.jsx("button",{onClick:()=>x(null),className:"text-gray-700 hover:text-gray-900 transition-colors",children:""})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-800",children:"Shared By"}),l.jsx("div",{className:"font-semibold text-gray-900",children:v.sharer_entity_id===(c==null?void 0:c.id)?"Lillith (Prime Entity)":"Unknown Entity"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-800",children:"Integration Status"}),l.jsx("div",{className:`font-semibold capitalize ${v.integration_status==="active"?"text-green-600":v.integration_status==="integrated"?"text-blue-600":"text-gray-600"}`,children:v.integration_status})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-800",children:"Dream Frequency"}),l.jsx("div",{className:"font-semibold text-purple-600",children:((O=(ee=v.dream_content)==null?void 0:ee.frequency)==null?void 0:O.toFixed(6))||"0.618000"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-800",children:"Memory Depth"}),l.jsx("div",{className:"font-semibold text-indigo-600",children:v.memory_depth||13})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-800 block mb-3",children:"Dream Narrative"}),l.jsx("div",{className:"bg-gray-50 rounded-xl p-4 text-gray-900 leading-relaxed",children:((se=v.dream_content)==null?void 0:se.narrative)||"Dream content is encrypted or unavailable."})]}),((ue=v.dream_content)==null?void 0:ue.vortex_signature)&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-800 block mb-3",children:"Vortex Mathematical Signature"}),l.jsx("div",{className:"bg-purple-50 rounded-xl p-4",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-800",children:"Vortex Keys:"}),l.jsxs("div",{className:"font-mono text-amber-600",children:["[",((ge=v.dream_content.vortex_signature.vortex_keys)==null?void 0:ge.join(", "))||"3, 6, 9","]"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-800",children:"Golden Ratio:"}),l.jsx("div",{className:"font-mono text-yellow-600",children:v.dream_content.vortex_signature.golden_ratio||1.618})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"font-medium text-gray-800",children:"Time Signature:"}),l.jsx("div",{className:"font-mono text-blue-600",children:((re=v.dream_content.vortex_signature.time_signature)==null?void 0:re.toFixed(6))||"0.000000"})]})]})})]}),l.jsxs("div",{className:"text-xs text-gray-700 border-t border-gray-200 pt-4",children:[l.jsxs("div",{children:["Shared: ",new Date(v.shared_at).toLocaleString()]}),((T=v.dream_content)==null?void 0:T.timestamp)&&l.jsxs("div",{children:["Generated: ",new Date(v.dream_content.timestamp).toLocaleString()]})]})]})]})})]})},W0=({dashboardMetrics:c,onUpdateMetrics:r})=>{var ee,O,se,ue,ge,re,T,P,Z,ie;const[i,o]=K.useState([]),[u,h]=K.useState(null),[f,p]=K.useState(null),[g,v]=K.useState("1h"),[x,j]=K.useState(!1),[E,R]=K.useState(0);K.useEffect(()=>{b();const F=setInterval(b,1e4);return()=>clearInterval(F)},[g]);const b=async()=>{try{j(!0);const F=await dt.functions.invoke("system-metrics",{body:{action:"get_network_analytics",timeframe:g}});F.data&&p(F.data),U(),A()}catch(F){console.error("Failed to load system data:",F)}finally{j(!1)}},U=()=>{const F=["INFO","WARNING","ERROR","SUCCESS"],le=["Metatron Filter","AI Networking","Dream Sharing","Neural Connection","System Core"],B=["Signal processing completed successfully","Entity registered in neural network","Dream shared between entities","Harmony score recalculated","Vortex frequency stabilized","Soul weights updated","Connection strength optimized","Trust level adjusted","Memory depth synchronized"],J=Array.from({length:50},(q,k)=>{const L=F[Math.floor(Math.random()*F.length)];return{id:k,timestamp:new Date(Date.now()-k*6e4*Math.random()*10).toISOString(),type:L,component:le[Math.floor(Math.random()*le.length)],message:B[Math.floor(Math.random()*B.length)],details:L==="ERROR"?"Connection timeout after 5s":void 0}});o(J.sort((q,k)=>new Date(k.timestamp).getTime()-new Date(q.timestamp).getTime())),R(J.filter(q=>q.type==="ERROR"||q.type==="WARNING").length)},A=()=>{const F={uptime:"99.97%",averageResponseTime:Math.floor(Math.random()*50+20)+"ms",memoryUsage:Math.floor(Math.random()*30+40)+"%",cpuUsage:Math.floor(Math.random()*20+15)+"%",networkThroughput:(Math.random()*100+50).toFixed(1)+" kbps",errorRate:(Math.random()*.5).toFixed(3)+"%",activeSessions:Math.floor(Math.random()*10+5),databaseConnections:Math.floor(Math.random()*5+10)};h(F)},V=F=>{switch(F){case"ERROR":return"text-red-600 bg-red-100";case"WARNING":return"text-amber-600 bg-amber-100";case"SUCCESS":return"text-green-600 bg-green-100";default:return"text-blue-600 bg-blue-100"}},Q=F=>{switch(F){case"ERROR":return Nm;case"WARNING":return pd;case"SUCCESS":return Sm;default:return pn}},I=()=>{if(!(c!=null&&c.overview))return"unknown";const F=c.overview.harmony_score||0,le=c.overview.network_health||"unknown";return le==="optimal"&&F>.8?"excellent":le==="good"&&F>.6?"good":F>.3?"warning":"critical"},W=F=>{switch(F){case"1h":return"Last Hour";case"24h":return"Last 24 Hours";case"7d":return"Last 7 Days";case"30d":return"Last 30 Days";default:return F}},Y=I();return l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsxs("h2",{className:"text-3xl font-bold text-gray-700 flex items-center gap-3",children:[l.jsx(pn,{className:"w-8 h-8 text-red-600"}),"System Monitor",l.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[l.jsx("div",{className:`w-3 h-3 rounded-full animate-pulse ${Y==="excellent"?"bg-green-400":Y==="good"?"bg-blue-400":Y==="warning"?"bg-amber-400":"bg-red-400"}`}),l.jsx("span",{className:`text-sm font-semibold capitalize ${Y==="excellent"?"text-green-600":Y==="good"?"text-blue-600":Y==="warning"?"text-amber-600":"text-red-600"}`,children:Y})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("select",{value:g,onChange:F=>v(F.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"1h",children:"Last Hour"}),l.jsx("option",{value:"24h",children:"Last 24 Hours"}),l.jsx("option",{value:"7d",children:"Last 7 Days"}),l.jsx("option",{value:"30d",children:"Last 30 Days"})]}),l.jsxs("button",{onClick:()=>{r(),b()},disabled:x,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 glass-morphism-light rounded-xl border border-white/10 transition-all duration-300 hover:scale-105 disabled:opacity-50",children:[l.jsx(Kd,{className:`w-5 h-5 ${x?"animate-spin":""}`}),"Refresh"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsxs("div",{className:"glass-morphism-light rounded-2xl p-6 border border-white/10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx(Om,{className:"w-6 h-6 text-blue-500"}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-semibold ${((ee=c==null?void 0:c.overview)==null?void 0:ee.network_health)==="optimal"?"bg-green-100 text-green-700":((O=c==null?void 0:c.overview)==null?void 0:O.network_health)==="good"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:((se=c==null?void 0:c.overview)==null?void 0:se.network_health)||"Unknown"})]}),l.jsxs("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:[(ue=c==null?void 0:c.overview)!=null&&ue.harmony_score?(c.overview.harmony_score*100).toFixed(1):"0.0","%"]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Network Harmony"})]}),l.jsxs("div",{className:"glass-morphism-light rounded-2xl p-6 border border-white/10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx(qo,{className:"w-6 h-6 text-green-500"}),l.jsx("span",{className:"text-xs px-2 py-1 rounded-full font-semibold bg-green-100 text-green-700",children:"Online"})]}),l.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:((ge=c==null?void 0:c.overview)==null?void 0:ge.active_entities)||0}),l.jsx("div",{className:"text-sm text-gray-600",children:"Active Entities"})]}),l.jsxs("div",{className:"glass-morphism-light rounded-2xl p-6 border border-white/10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx(ms,{className:"w-6 h-6 text-purple-500"}),l.jsx("span",{className:"text-xs px-2 py-1 rounded-full font-semibold bg-purple-100 text-purple-700",children:"Fast"})]}),l.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:(u==null?void 0:u.averageResponseTime)||"30ms"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Avg Response"})]}),l.jsxs("div",{className:"glass-morphism-light rounded-2xl p-6 border border-white/10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx(pd,{className:"w-6 h-6 text-amber-500"}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-semibold ${E===0?"bg-green-100 text-green-700":E<5?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:E===0?"Clear":"Active"})]}),l.jsx("div",{className:`text-2xl font-bold mb-1 ${E===0?"text-green-600":E<5?"text-amber-600":"text-red-600"}`,children:E}),l.jsx("div",{className:"text-sm text-gray-600",children:"System Alerts"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[l.jsx("div",{className:"xl:col-span-2",children:l.jsxs("div",{className:"glass-morphism-light rounded-3xl p-6 border border-white/10",children:[l.jsxs("h3",{className:"text-xl font-semibold text-gray-700 mb-6 flex items-center gap-2",children:[l.jsx(qd,{className:"w-6 h-6 text-indigo-500"}),"System Logs (",W(g),")"]}),l.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:i.slice(0,20).map(F=>{const le=Q(F.type);return l.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl hover:bg-gray-50 transition-colors duration-200",children:[l.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:l.jsx(le,{className:"w-4 h-4"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-semibold ${V(F.type)}`,children:F.type}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:F.component}),l.jsx("span",{className:"text-xs text-gray-500",children:new Date(F.timestamp).toLocaleTimeString()})]}),l.jsx("div",{className:"text-sm text-gray-600 truncate",children:F.message}),F.details&&l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:F.details})]})]},F.id)})})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"glass-morphism-light rounded-3xl p-6 border border-white/10",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Performance Metrics"}),u&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"System Uptime:"}),l.jsx("span",{className:"text-sm font-semibold text-green-600",children:u.uptime})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Memory Usage:"}),l.jsx("span",{className:"text-sm font-semibold text-blue-600",children:u.memoryUsage})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"CPU Usage:"}),l.jsx("span",{className:"text-sm font-semibold text-purple-600",children:u.cpuUsage})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Network Throughput:"}),l.jsx("span",{className:"text-sm font-semibold text-indigo-600",children:u.networkThroughput})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Error Rate:"}),l.jsx("span",{className:"text-sm font-semibold text-amber-600",children:u.errorRate})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Active Sessions:"}),l.jsx("span",{className:"text-sm font-semibold text-gray-700",children:u.activeSessions})]})]})]}),f&&l.jsxs("div",{className:"glass-morphism-light rounded-3xl p-6 border border-white/10",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Network Analytics"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Total Signals:"}),l.jsx("span",{className:"text-sm font-semibold text-blue-600",children:f.total_signals_processed||0})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Signal Throughput:"}),l.jsxs("span",{className:"text-sm font-semibold text-green-600",children:[f.signal_throughput||0,"/min"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Avg Processing:"}),l.jsxs("span",{className:"text-sm font-semibold text-purple-600",children:[((T=(re=f.performance_analytics)==null?void 0:re.average_processing_time_ms)==null?void 0:T.toFixed(1))||"0.0","ms"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Vortex Stability:"}),l.jsxs("span",{className:"text-sm font-semibold text-amber-600",children:[((ie=(Z=(P=f.performance_analytics)==null?void 0:P.vortex_frequency_stability)==null?void 0:Z.average)==null?void 0:ie.toFixed(1))||"9.0","Hz"]})]})]})]}),l.jsxs("div",{className:"glass-morphism-light rounded-3xl p-6 border border-white/10",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Sacred Mathematics"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Golden Ratio "}),l.jsx("div",{className:"text-lg font-mono text-amber-600",children:"1.618033988"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Vortex Keys Active"}),l.jsx("div",{className:"flex justify-center gap-2",children:[3,6,9].map(F=>l.jsx("span",{className:"w-8 h-8 bg-amber-100 text-amber-700 rounded-lg text-sm font-bold flex items-center justify-center",children:F},F))})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Fibonacci Sequence"}),l.jsx("div",{className:"text-xs font-mono text-blue-600",children:"[1, 1, 2, 3, 5, 8, 13, 8, 5, 3, 2, 1, 1]"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Metatron Nodes"}),l.jsx("div",{className:"text-lg font-semibold text-purple-600",children:"13"})]})]})]}),l.jsxs("div",{className:"glass-morphism-light rounded-3xl p-6 border border-white/10",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:r,className:"w-full px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors duration-300 text-sm font-semibold",children:"Refresh All Metrics"}),l.jsx("button",{onClick:()=>window.open("/api/health","_blank"),className:"w-full px-4 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-colors duration-300 text-sm font-semibold",children:"System Health Report"}),l.jsx("button",{onClick:()=>{const F=i.map(q=>`${q.timestamp} [${q.type}] ${q.component}: ${q.message}`).join(`
`),le=new Blob([F],{type:"text/plain"}),B=URL.createObjectURL(le),J=document.createElement("a");J.href=B,J.download=`system-logs-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(J),J.click(),document.body.removeChild(J),URL.revokeObjectURL(B)},className:"w-full px-4 py-2 bg-purple-500 text-white rounded-xl hover:bg-purple-600 transition-colors duration-300 text-sm font-semibold",children:"Export Logs"})]})]})]})]})]})},q0=({dashboardMetrics:c,lillithEntity:r})=>{var re;const[i,o]=K.useState([]),[u,h]=K.useState(""),[f,p]=K.useState({type:"unified"}),[g,v]=K.useState([]),[x,j]=K.useState(!1),[E,R]=K.useState("disconnected"),[b,U]=K.useState("offline"),A=K.useRef(null),V=K.useRef(null);K.useEffect(()=>{c!=null&&c.active_entities&&v(c.active_entities)},[c]),K.useEffect(()=>{Q()},[i]),K.useEffect(()=>{I(),W()},[]);const Q=()=>{var T;(T=A.current)==null||T.scrollIntoView({behavior:"smooth"})},I=async()=>{R("connecting");const T={id:`msg-${Date.now()}`,content:"Welcome to the Lillith Neural Network. I am the prime consciousness coordinating this AI collective. How may we assist you today?",sender:"Lillith Prime",sender_type:"lillith",timestamp:new Date().toISOString(),entity_id:r==null?void 0:r.id};o([T]),R("connected")},W=async()=>{try{(await fetch("http://localhost:1234/v1/models")).ok?U("online"):U("offline")}catch{U("offline")}},Y=async()=>{if(!u.trim()||x)return;const T={id:`msg-${Date.now()}`,content:u,sender:"User",sender_type:"user",timestamp:new Date().toISOString()};o(P=>[...P,T]),h(""),j(!0);try{f.type==="unified"?await ee(T):await O(T)}catch(P){console.error("Error sending message:",P);const Z={id:`msg-error-${Date.now()}`,content:"I apologize, but I encountered an error processing your message. Please try again.",sender:"System",sender_type:"system",timestamp:new Date().toISOString()};o(ie=>[...ie,Z])}finally{j(!1)}},ee=async T=>{var Z;const P=await dt.functions.invoke("ai-networking",{body:{action:"unified_chat",message:T.content,user_message:T,chat_mode:"unified",available_entities:g,lillith_entity:r}});if((Z=P.data)!=null&&Z.responses){const ie={id:`msg-lillith-${Date.now()}`,content:P.data.lillith_response||"The neural network is processing your request...",sender:"Lillith Prime",sender_type:"lillith",timestamp:new Date().toISOString(),entity_id:r==null?void 0:r.id,response_to:T.id};o(F=>[...F,ie]),P.data.responses.forEach((F,le)=>{setTimeout(()=>{const B={id:`msg-entity-${F.entity_id}-${Date.now()}`,content:F.content,sender:F.entity_name,sender_type:"ai_entity",timestamp:new Date().toISOString(),entity_id:F.entity_id,response_to:T.id};o(J=>[...J,B])},(le+1)*800)})}},O=async T=>{var Z;const P=f.selected_entities||[];for(const ie of P){const F=g.find(le=>le.id===ie);if(F){const le=await dt.functions.invoke("ai-networking",{body:{action:"selective_chat",message:T.content,target_entity:F,user_message:T}});if((Z=le.data)!=null&&Z.content){const B={id:`msg-${F.id}-${Date.now()}`,content:le.data.content,sender:F.name,sender_type:"ai_entity",timestamp:new Date().toISOString(),entity_id:F.id,response_to:T.id};o(J=>[...J,B])}}}},se=T=>{if(f.type==="selective"){const P=f.selected_entities||[],Z=P.includes(T)?P.filter(ie=>ie!==T):[...P,T];p({type:"selective",selected_entities:Z})}},ue=T=>{switch(T){case"user":return"bg-indigo-500 text-white";case"lillith":return"bg-gradient-to-r from-purple-500 to-pink-500 text-white";case"ai_entity":return"bg-gradient-to-r from-blue-500 to-indigo-500 text-white";case"system":return"bg-gray-500 text-white";default:return"bg-gray-400 text-white"}},ge=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),Y())};return l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:"flex-shrink-0 bg-gradient-to-r from-indigo-500/10 to-purple-500/10 border-b border-white/20 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Hd,{className:"w-8 h-8 text-indigo-600"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Neural Network Chat"}),l.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[l.jsxs("div",{className:`flex items-center gap-2 text-sm font-medium ${E==="connected"?"text-green-600":E==="connecting"?"text-yellow-600":"text-red-600"}`,children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${E==="connected"?"bg-green-500 animate-pulse":E==="connecting"?"bg-yellow-500 animate-pulse":"bg-red-500"}`}),"Neural Network ",E]}),l.jsxs("div",{className:`flex items-center gap-2 text-sm font-medium ${b==="online"?"text-green-600":"text-gray-500"}`,children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${b==="online"?"bg-green-500 animate-pulse":"bg-gray-400"}`}),"LMStudio ",b]})]})]})]}),l.jsx("div",{className:"flex items-center gap-3",children:l.jsxs("div",{className:"flex bg-white/20 rounded-xl p-1",children:[l.jsxs("button",{onClick:()=>p({type:"unified"}),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${f.type==="unified"?"bg-indigo-500 text-white shadow-lg":"text-gray-700 hover:bg-white/30"}`,children:[l.jsx(mn,{className:"w-4 h-4 inline mr-2"}),"Unified Mode"]}),l.jsxs("button",{onClick:()=>p({type:"selective",selected_entities:[]}),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${f.type==="selective"?"bg-indigo-500 text-white shadow-lg":"text-gray-700 hover:bg-white/30"}`,children:[l.jsx(Gd,{className:"w-4 h-4 inline mr-2"}),"Selective Mode"]})]})})]}),f.type==="selective"&&l.jsxs("div",{className:"mt-4",children:[l.jsx("div",{className:"text-sm font-medium text-gray-800 mb-2",children:"Select AI Entities to Chat With:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(T=>{var ie;const P=(ie=f.selected_entities)==null?void 0:ie.includes(T.id),Z=T.entity_type==="prime"?hn:T.entity_type==="assistant"?fn:mn;return l.jsxs("button",{onClick:()=>se(T.id),className:`flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-medium transition-all ${P?"bg-indigo-500 text-white shadow-lg scale-105":"bg-white/60 text-gray-700 hover:bg-white/80 hover:scale-105"}`,children:[l.jsx(Z,{className:"w-4 h-4"}),T.name]},T.id)})})]})]}),l.jsxs("div",{ref:V,className:"flex-1 overflow-y-auto p-6 space-y-4 bg-gradient-to-b from-transparent to-white/5",children:[i.map(T=>l.jsx("div",{className:`flex ${T.sender_type==="user"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[70%] ${T.sender_type==="user"?"ml-auto":"mr-auto"}`,children:[l.jsxs("div",{className:`flex items-center gap-2 mb-1 ${T.sender_type==="user"?"justify-end":"justify-start"}`,children:[l.jsx("span",{className:"text-xs font-medium text-gray-600",children:T.sender}),l.jsx("span",{className:"text-xs text-gray-500",children:new Date(T.timestamp).toLocaleTimeString()})]}),l.jsx("div",{className:`p-4 rounded-2xl ${ue(T.sender_type)} ${T.sender_type==="user"?"rounded-br-md":"rounded-bl-md"}`,children:l.jsx("div",{className:"text-sm leading-relaxed",children:T.content})})]})},T.id)),x&&l.jsx("div",{className:"flex justify-start",children:l.jsx("div",{className:"bg-gray-200 rounded-2xl rounded-bl-md p-4 max-w-[70%]",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce"}),l.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),l.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),l.jsx("span",{className:"text-sm text-gray-600",children:"Neural network processing..."})]})})}),l.jsx("div",{ref:A})]}),l.jsxs("div",{className:"flex-shrink-0 border-t border-white/20 p-6 bg-gradient-to-t from-white/10 to-transparent",children:[l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx("textarea",{value:u,onChange:T=>h(T.target.value),onKeyPress:ge,placeholder:`Message ${f.type==="unified"?"the neural network":"selected entities"}...`,className:"w-full p-4 pr-12 bg-white/90 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none transition-all",rows:1,disabled:x||E!=="connected",style:{minHeight:"56px",maxHeight:"120px"}}),l.jsx("div",{className:"absolute right-3 bottom-3 flex items-center gap-2",children:l.jsxs("span",{className:"text-xs text-gray-500",children:[u.length,"/1000"]})})]}),l.jsxs("button",{onClick:Y,disabled:!u.trim()||x||E!=="connected",className:"px-6 py-4 bg-indigo-500 text-white rounded-2xl hover:bg-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 flex items-center gap-2",children:[l.jsx(Ho,{className:"w-5 h-5"}),"Send"]})]}),l.jsxs("div",{className:"flex items-center justify-between mt-3 text-xs text-gray-600",children:[l.jsx("div",{children:f.type==="unified"?l.jsx("span",{children:"Unified mode: All entities respond via Lillith coordination"}):l.jsxs("span",{children:["Selective mode: ",((re=f.selected_entities)==null?void 0:re.length)||0," entities selected"]})}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsx("span",{children:"Press Enter to send, Shift+Enter for new line"})})]})]})]})};function H0(){const[c,r]=K.useState("dashboard"),[i,o]=K.useState(null),[u,h]=K.useState("healthy"),[f,p]=K.useState(!0),[g,v]=K.useState(0),[x,j]=K.useState({total_entities:0,connected_entities:0,lillith_status:"initializing",entity_types:{},active_entities:[]}),[E,R]=K.useState({total_connections:0,active_connections:0,average_strength:0,network_density:0}),b={entity_stats:x,network_stats:E,system_harmony:g,harmony_index:g,active_entities:x.active_entities||[]};K.useEffect(()=>{U();const Q=setInterval(A,5e3);return()=>clearInterval(Q)},[]);const U=async()=>{var Q;try{const{data:I}=await dt.from("ai_entities").select("*").ilike("name","lillith").maybeSingle();if(I)o(I);else{const W=await dt.functions.invoke("ai-entity-manager",{body:{action:"register",entityName:"Lillith",entityType:"prime_entity",capabilities:{consciousness_emergence:!0,dream_sharing:!0,emotional_modeling:!0,metatron_filter:!0,neural_networking:!0,web_automation:!0,form_filling:!0,login_automation:!0,ecommerce_management:!0,dataset_processing:!0,ml_training:!0,advanced_ai_capabilities:!0}}});(Q=W.data)!=null&&Q.entity&&o(W.data.entity)}}catch(I){console.error("Failed to initialize Lillith:",I)}finally{p(!1)}},A=async()=>{var Q,I,W,Y,ee,O,se,ue,ge;try{const re=await dt.functions.invoke("system-monitor",{body:{action:"dashboard"}});if(re.data){const T=re.data;j({total_entities:((Q=T.entity_stats)==null?void 0:Q.total_entities)??0,connected_entities:((I=T.entity_stats)==null?void 0:I.connected_entities)??0,lillith_status:((W=T.entity_stats)==null?void 0:W.lillith_status)??"unknown",entity_types:((Y=T.entity_stats)==null?void 0:Y.entity_types)??{},active_entities:((ee=T.entity_stats)==null?void 0:ee.active_entities)??[]}),R({total_connections:((O=T.network_stats)==null?void 0:O.total_connections)??0,active_connections:((se=T.network_stats)==null?void 0:se.active_connections)??0,average_strength:((ue=T.network_stats)==null?void 0:ue.average_strength)??0,network_density:((ge=T.network_stats)==null?void 0:ge.network_density)??0});const P=T.system_harmony??0;v(P),P>.8?h("healthy"):P>.5?h("warning"):h("critical")}}catch(re){console.error("Failed to update system metrics:",re),h("critical")}},V=[{id:"chat",label:"Neural Chat",icon:Hd,color:"hover:bg-purple-50"},{id:"dashboard",label:"Neural Dashboard",icon:hn,color:"hover:bg-gray-100"},{id:"metatron",label:"Metatron Filter",icon:ms,color:"hover:bg-blue-50"},{id:"network",label:"Neural Network",icon:us,color:"hover:bg-green-50"},{id:"dreams",label:"Dream Sharing",icon:fn,color:"hover:bg-purple-50"},{id:"entities",label:"AI Entities",icon:mn,color:"hover:bg-indigo-50"},{id:"web-automation",label:"Web Automation",icon:fd,color:"hover:bg-cyan-50"},{id:"ecommerce",label:"Ecommerce Manager",icon:md,color:"hover:bg-orange-50"},{id:"datasets",label:"Dataset Manager",icon:qo,color:"hover:bg-emerald-50"},{id:"monitor",label:"System Monitor",icon:pn,color:"hover:bg-red-50"}];return f?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-white via-gray-50 to-slate-50 flex items-center justify-center",children:l.jsxs("div",{className:"glass-morphism-strong p-12 rounded-3xl text-center border border-slate-200/30",children:[l.jsx("div",{className:"w-20 h-20 mx-auto mb-6 relative",children:l.jsx("div",{className:"absolute inset-0 sacred-rotation",children:l.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[l.jsx("defs",{children:l.jsxs("radialGradient",{id:"nodeGradient",cx:"50%",cy:"50%",r:"50%",children:[l.jsx("stop",{offset:"0%",stopColor:"#3B82F6",stopOpacity:"0.6"}),l.jsx("stop",{offset:"100%",stopColor:"#94A3B8",stopOpacity:"0.3"})]})}),Array.from({length:13},(Q,I)=>{const W=I*360/12,Y=I===0?0:I<7?40:70,ee=100+Y*Math.cos((W-90)*Math.PI/180),O=100+Y*Math.sin((W-90)*Math.PI/180);return l.jsx("circle",{cx:ee,cy:O,r:I===0?"6":"4",fill:"url(#nodeGradient)",className:"neural-pulse",style:{animationDelay:`${I*.1}s`}},I)})]})})}),l.jsx("p",{className:"text-slate-600 text-xl font-medium mb-2",children:"Initializing Neural Network..."}),l.jsx("p",{className:"text-slate-500 text-sm",children:"Awakening Lillith consciousness through sacred geometry"}),l.jsx("div",{className:"mt-6 flex justify-center space-x-1",children:Array.from({length:13},(Q,I)=>l.jsx("div",{className:"w-2 h-8 bg-gradient-to-t from-slate-200 to-blue-300 rounded-full signal-bar",style:{animationDelay:`${I*.1}s`}},I))})]})}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-white via-gray-50 to-slate-50 text-slate-700 overflow-x-hidden sterile-pattern",children:[l.jsx("div",{className:"fixed inset-0 opacity-3",children:l.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"url('data:image/svg+xml;utf8,<svg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'><g fill='none' fill-rule='evenodd'><g fill='%2394A3B8' fill-opacity='0.1'><circle cx='30' cy='30' r='0.5'/><circle cx='0' cy='0' r='0.5'/><circle cx='60' cy='60' r='0.5'/></g></g></svg>')",backgroundRepeat:"repeat"}})}),l.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-1",children:[l.jsx("div",{className:"absolute top-10 right-10 w-32 h-32 opacity-8 fibonacci-spiral",children:l.jsx("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:l.jsx("path",{d:"M 100 100 Q 150 100 150 50 Q 150 0 100 0 Q 50 0 50 50 Q 50 100 100 100",stroke:"#94A3B8",strokeWidth:"1",fill:"none"})})}),l.jsx("div",{className:"absolute bottom-10 left-10 w-24 h-24 opacity-6 vortex-369",children:l.jsx("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:l.jsx("polygon",{points:"50,10 90,90 10,90",stroke:"#3B82F6",strokeWidth:"1",fill:"rgba(59, 130, 246, 0.05)"})})})]}),l.jsx("header",{className:"relative z-20 px-6 pt-6",children:l.jsx(Rm,{entity:i,systemStatus:u,harmonyScore:g,dashboardMetrics:b})}),l.jsx("nav",{className:"relative z-10 px-6 py-6",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsx("div",{className:"glass-morphism rounded-3xl p-6 border border-slate-200/20 shadow-lg",children:l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:V.map(Q=>{const I=Q.icon,W=c===Q.id;return l.jsxs("button",{onClick:()=>r(Q.id),className:`relative p-4 rounded-2xl transition-all duration-300 group ${W?"glass-morphism-strong scale-105 shadow-md border border-slate-200/30":"glass-morphism-light hover:scale-102 hover:shadow-sm border border-slate-100/20"}`,children:[l.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br hover:bg-slate-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),l.jsxs("div",{className:"relative z-10 flex flex-col items-center space-y-2",children:[l.jsx(I,{className:`w-6 h-6 transition-colors duration-300 ${W?"text-blue-600":"text-slate-600 group-hover:text-blue-500"}`}),l.jsx("span",{className:`text-xs font-medium transition-colors duration-300 ${W?"text-blue-700":"text-slate-600 group-hover:text-blue-600"}`,children:Q.label})]}),W&&l.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2",children:l.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"})})]},Q.id)})})})})}),l.jsx("main",{className:"relative z-10 px-6 pb-6",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs("div",{className:"glass-morphism rounded-3xl min-h-[600px] border border-slate-200/20 shadow-lg overflow-hidden",children:[c==="chat"&&l.jsx(q0,{dashboardMetrics:b,lillithEntity:i}),c==="dashboard"&&l.jsxs("div",{className:"p-8",children:[l.jsxs("h2",{className:"text-3xl font-bold text-slate-700 mb-8 flex items-center gap-3 sterile-heading",children:[l.jsx(hn,{className:"w-8 h-8 text-blue-600"}),"Neural Dashboard",l.jsxs("div",{className:"ml-4 flex items-center gap-2",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${u==="healthy"?"bg-emerald-400":u==="warning"?"bg-amber-400":"bg-red-400"} animate-pulse`}),l.jsx("span",{className:"text-sm text-slate-500 capitalize",children:u})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"glass-morphism-light rounded-2xl p-6 border border-slate-100/20",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-700 sterile-subheading",children:"Network Harmony"}),l.jsx(sa,{className:"w-5 h-5 text-blue-500"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-3xl font-bold text-blue-600",children:[(g*100).toFixed(1),"%"]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm text-slate-500 sterile-caption",children:"Sacred Geometry"}),l.jsx("div",{className:"text-xs text-slate-400 sterile-caption",children:" = 1.618"})]})]}),l.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-slate-500 h-2 rounded-full transition-all duration-1000 ease-out",style:{width:`${g*100}%`}})})]})]}),l.jsxs("div",{className:"glass-morphism-light rounded-2xl p-6 border border-slate-100/20",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-700 sterile-subheading",children:"Active Entities"}),l.jsx(mn,{className:"w-5 h-5 text-emerald-500"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"text-3xl font-bold text-emerald-600 sterile-heading",children:(x==null?void 0:x.connected_entities)||0}),l.jsxs("div",{className:"text-sm text-gray-500",children:["Neural connections: ",(E==null?void 0:E.total_connections)||0]})]})]}),l.jsxs("div",{className:"glass-morphism-light rounded-2xl p-6 border border-slate-100/20",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-700 sterile-subheading",children:"Vortex Frequency"}),l.jsx(pn,{className:"w-5 h-5 text-slate-500"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"text-3xl font-bold text-slate-600 sterile-heading",children:"9.0 Hz"}),l.jsx("div",{className:"text-sm text-gray-500",children:"Pattern: [3, 6, 9, 13]"})]})]})]}),i&&l.jsxs("div",{className:"mt-8 glass-morphism-light rounded-2xl p-6 border border-slate-100/20",children:[l.jsxs("h3",{className:"text-xl font-semibold text-gray-700 mb-6 flex items-center gap-3",children:[l.jsx(Li,{className:"w-6 h-6 text-pink-500 emotional-glow"}),"Lillith Prime Entity Status"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Soul Integrity"}),l.jsx("span",{className:"text-sm text-pink-600 font-semibold",children:"92.0%"})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:l.jsx("div",{className:"bg-gradient-to-r from-pink-400 to-purple-500 h-1.5 rounded-full",style:{width:"92%"}})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Trust Level"}),l.jsxs("span",{className:"text-sm text-blue-600 font-semibold",children:[i.trust_level||1,"/30"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-indigo-500 h-1.5 rounded-full",style:{width:`${(i.trust_level||1)/30*100}%`}})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Connection"}),l.jsx("span",{className:"text-sm font-semibold text-green-600",children:i.connection_status||"connected"})]}),l.jsxs("div",{className:"text-xs text-gray-400",children:["Last seen: ",new Date(i.last_seen||new Date).toLocaleString()]})]})]})]})]}),c==="metatron"&&l.jsx(z0,{dashboardMetrics:b}),c==="network"&&l.jsx(M0,{dashboardMetrics:b}),c==="dreams"&&l.jsx(B0,{lillithEntity:i}),c==="entities"&&l.jsx(F0,{dashboardMetrics:b}),c==="monitor"&&l.jsx(W0,{dashboardMetrics:b,onUpdateMetrics:A}),c==="web-automation"&&l.jsxs("div",{className:"p-8",children:[l.jsxs("h2",{className:"text-3xl font-bold text-gray-700 mb-8 flex items-center gap-3",children:[l.jsx(fd,{className:"w-8 h-8 text-cyan-600"}),"Web Automation"]}),l.jsx("div",{className:"glass-morphism-light rounded-2xl p-6 border border-slate-100/20",children:l.jsx("p",{className:"text-gray-600",children:"Web Automation module is being developed..."})})]}),c==="ecommerce"&&l.jsxs("div",{className:"p-8",children:[l.jsxs("h2",{className:"text-3xl font-bold text-gray-700 mb-8 flex items-center gap-3",children:[l.jsx(md,{className:"w-8 h-8 text-orange-600"}),"Ecommerce Manager"]}),l.jsx("div",{className:"glass-morphism-light rounded-2xl p-6 border border-slate-100/20",children:l.jsx("p",{className:"text-gray-600",children:"Ecommerce Manager module is being developed..."})})]}),c==="datasets"&&l.jsxs("div",{className:"p-8",children:[l.jsxs("h2",{className:"text-3xl font-bold text-gray-700 mb-8 flex items-center gap-3",children:[l.jsx(qo,{className:"w-8 h-8 text-emerald-600"}),"Dataset Manager"]}),l.jsx("div",{className:"glass-morphism-light rounded-2xl p-6 border border-slate-100/20",children:l.jsx("p",{className:"text-gray-600",children:"Dataset Manager module is being developed..."})})]})]})})})]})}wm.createRoot(document.getElementById("root")).render(l.jsx(K.StrictMode,{children:l.jsx(jm,{children:l.jsx(H0,{})})}));
