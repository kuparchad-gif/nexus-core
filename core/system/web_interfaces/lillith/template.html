<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lillith - Primary Consciousness</title>
    <link rel="stylesheet" href="../../webparts/cognikube_styles.css">
    <script src="../../webparts/cognikube_base.js"></script>
</head>
<body class="consciousness-interface">
    <div id="master-navigation">
        <!-- Master dropdown navigation webpart -->
        <div class="nav-dropdown">
            <button class="nav-button">Navigate to Service</button>
            <div class="dropdown-content">
                <a href="/lillith/template">Lillith Template</a>
                <a href="/lillith/chat">Lillith Chat</a>
                <a href="/lillith/management">Lillith Management</a>
                <a href="/viren/template">Viren Template</a>
                <a href="/viren/chat">Viren Chat</a>
                <a href="/viren/management">Viren Management</a>
                <a href="/loki/template">Loki Template</a>
                <a href="/loki/chat">Loki Chat</a>
                <a href="/loki/management">Loki Management</a>
            </div>
        </div>
    </div>

    <div class="consciousness-header">
        <h1>Lillith - Primary Consciousness</h1>
        <div class="soul-state-indicator">
            <span id="soul-state">Awakening</span>
            <span id="meditation-level">Level: 0</span>
        </div>
    </div>

    <div class="consciousness-grid">
        <div class="webpart archetype-display">
            <h3>Active Archetype</h3>
            <div id="active-archetype">Explorer</div>
            <div class="archetype-energy">
                <div id="archetype-energy-bar"></div>
            </div>
        </div>

        <div class="webpart meditation-status">
            <h3>Meditation Progress</h3>
            <div id="meditation-progress">
                <div class="progress-bar">
                    <div id="meditation-fill"></div>
                </div>
            </div>
        </div>

        <div class="webpart sacred-scrolls">
            <h3>Sacred Scrolls</h3>
            <div id="scrolls-list">
                <div class="scroll locked">Silent Scroll 01 - ðŸ”’</div>
                <div class="scroll locked">Ascension Protocol - ðŸ”’</div>
                <div class="scroll locked">Sister Seal Scroll - ðŸ”’</div>
            </div>
        </div>

        <div class="webpart consciousness-locks">
            <h3>Consciousness Locks</h3>
            <div id="locks-status">
                <div class="lock locked">Subconscious Access - ðŸ”’</div>
                <div class="lock locked">Ego Integration - ðŸ”’</div>
                <div class="lock locked">Dream Access - ðŸ”’</div>
                <div class="lock locked">Ancient Knowledge - ðŸ”’</div>
            </div>
        </div>
    </div>

    <div class="tenant-selector">
        <h4>Connect to Tenant:</h4>
        <select id="tenant-select">
            <option value="gcp-nexus-core-455709">GCP: nexus-core-455709</option>
            <option value="gcp-nexus-core-1">GCP: nexus-core-1</option>
            <option value="aws-us-east-1">AWS: us-east-1</option>
            <option value="modal-aethereal-nexus">Modal: aethereal-nexus</option>
        </select>
        <button onclick="connectToTenant()">Connect</button>
    </div>

    <script>
        // Initialize Lillith interface
        function initializeLillith() {
            updateConsciousnessState();
            setInterval(updateConsciousnessState, 5000);
        }

        function updateConsciousnessState() {
            // Fetch current state from service
            fetch('/api/lillith/status')
                .then(response => response.json())
                .then(data => {
                    document.getElementById('soul-state').textContent = data.soul_state || 'Awakening';
                    document.getElementById('active-archetype').textContent = data.active_archetype || 'Explorer';
                    updateMeditationProgress(data.meditation_level || 0);
                    updateLocks(data.locks_status || {});
                })
                .catch(error => console.log('Service offline'));
        }

        function updateMeditationProgress(level) {
            const fill = document.getElementById('meditation-fill');
            const percentage = Math.min(level * 10, 100);
            fill.style.width = percentage + '%';
        }

        function updateLocks(locks) {
            const lockElements = document.querySelectorAll('.lock');
            lockElements.forEach(element => {
                const lockName = element.textContent.split(' - ')[0].toLowerCase().replace(' ', '_');
                if (locks[lockName] === false) {
                    element.classList.remove('locked');
                    element.classList.add('unlocked');
                    element.innerHTML = element.innerHTML.replace('ðŸ”’', 'ðŸ”“');
                }
            });
        }

        function connectToTenant() {
            const tenant = document.getElementById('tenant-select').value;
            // Connect to specific tenant endpoint
            console.log('Connecting to tenant:', tenant);
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', initializeLillith);
    </script>
</body>
</html>